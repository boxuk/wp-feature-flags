(()=>{var e,t,n,i={550:(e,t,n)=>{"use strict";var i={};n.r(i),n.d(i,{setFlags:()=>Al,updateFlag:()=>Ml});var r={};n.r(r),n.d(r,{getFlags:()=>Bl});var l={};n.r(l),n.d(l,{getFlags:()=>Rl,getGroups:()=>Hl});var s=n(609),o=n.t(s,2),a=n(873);const c=window.wp.domReady;var u=n.n(c),d=n(892),f=n.n(d);const m=window.wp.i18n,v=window.wp.primitives;var p=n(85);const g=(0,p.jsx)(v.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,p.jsx)(v.Path,{d:"M12 3.9 6.5 9.5l1 1 3.8-3.7V20h1.5V6.8l3.7 3.7 1-1z"})}),h=(0,p.jsx)(v.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,p.jsx)(v.Path,{d:"m16.5 13.5-3.7 3.7V4h-1.5v13.2l-3.8-3.7-1 1 5.5 5.6 5.5-5.6z"})}),b="is",w="isNot",x="isAny",y="isNone",_="isAll",S="isNotAll",C=[b,w,x,y,_,S],j={[b]:{key:"is-filter",label:(0,m.__)("Is")},[w]:{key:"is-not-filter",label:(0,m.__)("Is not")},[x]:{key:"is-any-filter",label:(0,m.__)("Is any")},[y]:{key:"is-none-filter",label:(0,m.__)("Is none")},[_]:{key:"is-all-filter",label:(0,m.__)("Is all")},[S]:{key:"is-not-all-filter",label:(0,m.__)("Is not all")}},I=["asc","desc"],E={asc:"↑",desc:"↓"},k={asc:"ascending",desc:"descending"},V={asc:(0,m.__)("Sort ascending"),desc:(0,m.__)("Sort descending")},O={asc:g,desc:h},P="table",F="grid",T={sort:function(e,t,n){return"asc"===n?e-t:t-e},isValid:function(e,t){if(""===e)return!1;if(!Number.isInteger(Number(e)))return!1;if(t?.elements){const n=t?.elements.map((e=>e.value));if(!n.includes(Number(e)))return!1}return!0},Edit:"integer"},A={sort:function(e,t,n){return"asc"===n?e.localeCompare(t):t.localeCompare(e)},isValid:function(e,t){if(t?.elements){const n=t?.elements?.map((e=>e.value));if(!n.includes(e))return!1}return!0},Edit:"text"},M={sort:function(e,t,n){const i=new Date(e).getTime(),r=new Date(t).getTime();return"asc"===n?i-r:r-i},isValid:function(e,t){if(t?.elements){const n=t?.elements.map((e=>e.value));if(!n.includes(e))return!1}return!0},Edit:"datetime"},N=window.wp.components,L=window.wp.element,D={datetime:function({data:e,field:t,onChange:n,hideLabelFromVision:i}){const{id:r,label:l}=t,s=t.getValue({item:e}),o=(0,L.useCallback)((e=>n({[r]:e})),[r,n]);return(0,p.jsxs)("fieldset",{className:"dataviews-controls__datetime",children:[!i&&(0,p.jsx)(N.BaseControl.VisualLabel,{as:"legend",children:l}),i&&(0,p.jsx)(N.VisuallyHidden,{as:"legend",children:l}),(0,p.jsx)(N.TimePicker,{currentTime:s,onChange:o,hideLabelFromVision:!0})]})},integer:function({data:e,field:t,onChange:n,hideLabelFromVision:i}){var r;const{id:l,label:s,description:o}=t,a=null!==(r=t.getValue({item:e}))&&void 0!==r?r:"",c=(0,L.useCallback)((e=>n({[l]:Number(e)})),[l,n]);return(0,p.jsx)(N.__experimentalNumberControl,{label:s,help:o,value:a,onChange:c,__next40pxDefaultSize:!0,hideLabelFromVision:i})},radio:function({data:e,field:t,onChange:n,hideLabelFromVision:i}){const{id:r,label:l}=t,s=t.getValue({item:e}),o=(0,L.useCallback)((e=>n({[r]:e})),[r,n]);return t.elements?(0,p.jsx)(N.RadioControl,{label:l,onChange:o,options:t.elements,selected:s,hideLabelFromVision:i}):null},select:function({data:e,field:t,onChange:n,hideLabelFromVision:i}){var r,l;const{id:s,label:o}=t,a=null!==(r=t.getValue({item:e}))&&void 0!==r?r:"",c=(0,L.useCallback)((e=>n({[s]:e})),[s,n]),u=[{label:(0,m.__)("Select item"),value:""},...null!==(l=t?.elements)&&void 0!==l?l:[]];return(0,p.jsx)(N.SelectControl,{label:o,value:a,options:u,onChange:c,__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,hideLabelFromVision:i})},text:function({data:e,field:t,onChange:n,hideLabelFromVision:i}){const{id:r,label:l,placeholder:s}=t,o=t.getValue({item:e}),a=(0,L.useCallback)((e=>n({[r]:e})),[r,n]);return(0,p.jsx)(N.TextControl,{label:l,placeholder:s,value:null!=o?o:"",onChange:a,__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,hideLabelFromVision:i})}};function B(e){if(Object.keys(D).includes(e))return D[e];throw"Control "+e+" not found"}const R=e=>({item:t})=>{const n=e.split(".");let i=t;for(const e of n)i=i.hasOwnProperty(e)?i[e]:void 0;return i};function H(e){return e.map((e=>{var t,n,i,r;const l="integer"===(s=e.type)?T:"text"===s?A:"datetime"===s?M:{sort:(e,t,n)=>"number"==typeof e&&"number"==typeof t?"asc"===n?e-t:t-e:"asc"===n?e.localeCompare(t):t.localeCompare(e),isValid:(e,t)=>{if(t?.elements){const n=t?.elements?.map((e=>e.value));if(!n.includes(e))return!1}return!0},Edit:()=>null};var s;const o=e.getValue||R(e.id),a=null!==(t=e.sort)&&void 0!==t?t:function(e,t,n){return l.sort(o({item:e}),o({item:t}),n)},c=null!==(n=e.isValid)&&void 0!==n?n:function(e,t){return l.isValid(o({item:e}),t)},u=function(e,t){return"function"==typeof e.Edit?e.Edit:"string"==typeof e.Edit?B(e.Edit):e.elements?B("select"):"string"==typeof t.Edit?B(t.Edit):t.Edit}(e,l),d=e.render||(e.elements?({item:t})=>{const n=o({item:t});return e?.elements?.find((e=>e.value===n))?.label||o({item:t})}:o);return{...e,label:e.label||e.id,header:e.header||e.label||e.id,getValue:o,render:d,sort:a,isValid:c,Edit:u,enableHiding:null===(i=e.enableHiding)||void 0===i||i,enableSorting:null===(r=e.enableSorting)||void 0===r||r}}))}function z(e=""){return f()(e.trim().toLowerCase())}const K=[],U=(0,L.createContext)({view:{type:P},onChangeView:()=>{},fields:[],data:[],paginationInfo:{totalItems:0,totalPages:0},selection:[],onChangeSelection:()=>{},setOpenedFilter:()=>{},openedFilter:null,getItemId:e=>e.id,isItemClickable:()=>!0}),G=(0,p.jsx)(v.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,p.jsx)(v.Path,{d:"M10 17.5H14V16H10V17.5ZM6 6V7.5H18V6H6ZM8 12.5H16V11H8V12.5Z"})});function W(e){var t,n,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e)){var r=e.length;for(t=0;t<r;t++)e[t]&&(n=W(e[t]))&&(i&&(i+=" "),i+=n)}else for(n in e)e[n]&&(i&&(i+=" "),i+=n);return i}const $=function(){for(var e,t,n=0,i="",r=arguments.length;n<r;n++)(e=arguments[n])&&(t=W(e))&&(i&&(i+=" "),i+=t);return i},q=(0,p.jsx)(v.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,p.jsx)(v.Path,{d:"M12 13.06l3.712 3.713 1.061-1.06L13.061 12l3.712-3.712-1.06-1.06L12 10.938 8.288 7.227l-1.061 1.06L10.939 12l-3.712 3.712 1.06 1.061L12 13.061z"})});var Y=Object.defineProperty,X=Object.defineProperties,Z=Object.getOwnPropertyDescriptors,J=Object.getOwnPropertySymbols,Q=Object.prototype.hasOwnProperty,ee=Object.prototype.propertyIsEnumerable,te=(e,t,n)=>t in e?Y(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ne=(e,t)=>{for(var n in t||(t={}))Q.call(t,n)&&te(e,n,t[n]);if(J)for(var n of J(t))ee.call(t,n)&&te(e,n,t[n]);return e},ie=(e,t)=>X(e,Z(t)),re=(e,t)=>{var n={};for(var i in e)Q.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&J)for(var i of J(e))t.indexOf(i)<0&&ee.call(e,i)&&(n[i]=e[i]);return n},le=Object.defineProperty,se=Object.defineProperties,oe=Object.getOwnPropertyDescriptors,ae=Object.getOwnPropertySymbols,ce=Object.prototype.hasOwnProperty,ue=Object.prototype.propertyIsEnumerable,de=(e,t,n)=>t in e?le(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,fe=(e,t)=>{for(var n in t||(t={}))ce.call(t,n)&&de(e,n,t[n]);if(ae)for(var n of ae(t))ue.call(t,n)&&de(e,n,t[n]);return e},me=(e,t)=>se(e,oe(t)),ve=(e,t)=>{var n={};for(var i in e)ce.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&ae)for(var i of ae(e))t.indexOf(i)<0&&ue.call(e,i)&&(n[i]=e[i]);return n};function pe(...e){}function ge(e,t){return"function"==typeof Object.hasOwn?Object.hasOwn(e,t):Object.prototype.hasOwnProperty.call(e,t)}function he(...e){return(...t)=>{for(const n of e)"function"==typeof n&&n(...t)}}function be(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}function we(e){return e}function xe(e,t){if(!e){if("string"!=typeof t)throw new Error("Invariant failed");throw new Error(t)}}function ye(e){return e.disabled||!0===e["aria-disabled"]||"true"===e["aria-disabled"]}function _e(e){const t={};for(const n in e)void 0!==e[n]&&(t[n]=e[n]);return t}function Se(...e){for(const t of e)if(void 0!==t)return t}function Ce(e,t){"function"==typeof e?e(t):e&&(e.current=t)}var je,Ie="undefined"!=typeof window&&!!(null==(je=window.document)?void 0:je.createElement);function Ee(e){return e?"self"in e?e.document:e.ownerDocument||document:document}function ke(e,t=!1){const{activeElement:n}=Ee(e);if(!(null==n?void 0:n.nodeName))return null;if("IFRAME"===n.tagName&&n.contentDocument)return ke(n.contentDocument.body,t);if(t){const e=n.getAttribute("aria-activedescendant");if(e){const t=Ee(n).getElementById(e);if(t)return t}}return n}function Ve(e,t){return e===t||e.contains(t)}function Oe(e){const t=e.tagName.toLowerCase();return"button"===t||!("input"!==t||!e.type)&&-1!==Pe.indexOf(e.type)}var Pe=["button","color","file","image","reset","submit"];function Fe(e){try{const t=e instanceof HTMLInputElement&&null!==e.selectionStart,n="TEXTAREA"===e.tagName;return t||n||!1}catch(e){return!1}}function Te(e){return e.isContentEditable||Fe(e)}function Ae(e){let t=0,n=0;if(Fe(e))t=e.selectionStart||0,n=e.selectionEnd||0;else if(e.isContentEditable){const i=Ee(e).getSelection();if((null==i?void 0:i.rangeCount)&&i.anchorNode&&Ve(e,i.anchorNode)&&i.focusNode&&Ve(e,i.focusNode)){const r=i.getRangeAt(0),l=r.cloneRange();l.selectNodeContents(e),l.setEnd(r.startContainer,r.startOffset),t=l.toString().length,l.setEnd(r.endContainer,r.endOffset),n=l.toString().length}}return{start:t,end:n}}function Me(e,t){const n=null==e?void 0:e.getAttribute("role");return n&&-1!==["dialog","menu","listbox","tree","grid"].indexOf(n)?n:t}function Ne(e){if(!e)return null;const t=e=>"auto"===e||"scroll"===e;if(e.clientHeight&&e.scrollHeight>e.clientHeight){const{overflowY:n}=getComputedStyle(e);if(t(n))return e}else if(e.clientWidth&&e.scrollWidth>e.clientWidth){const{overflowX:n}=getComputedStyle(e);if(t(n))return e}return Ne(e.parentElement)||document.scrollingElement||document.body}function Le(e,...t){/text|search|password|tel|url/i.test(e.type)&&e.setSelectionRange(...t)}function De(){return!!Ie&&/mac|iphone|ipad|ipod/i.test(navigator.platform)}function Be(){return Ie&&De()&&/apple/i.test(navigator.vendor)}function Re(e){return Boolean(e.currentTarget&&!Ve(e.currentTarget,e.target))}function He(e){return e.target===e.currentTarget}function ze(e,t){const n=new FocusEvent("blur",t),i=e.dispatchEvent(n),r=me(fe({},t),{bubbles:!0});return e.dispatchEvent(new FocusEvent("focusout",r)),i}function Ke(e,t){const n=new MouseEvent("click",t);return e.dispatchEvent(n)}function Ue(e,t){const n=t||e.currentTarget,i=e.relatedTarget;return!i||!Ve(n,i)}function Ge(e,t,n,i){const r=(e=>{if(i){const t=setTimeout(e,i);return()=>clearTimeout(t)}const t=requestAnimationFrame(e);return()=>cancelAnimationFrame(t)})((()=>{e.removeEventListener(t,l,!0),n()})),l=()=>{r(),n()};return e.addEventListener(t,l,{once:!0,capture:!0}),r}function We(e,t,n,i=window){const r=[];try{i.document.addEventListener(e,t,n);for(const l of Array.from(i.frames))r.push(We(e,t,n,l))}catch(e){}return()=>{try{i.document.removeEventListener(e,t,n)}catch(e){}for(const e of r)e()}}var $e=ne({},o),qe=$e.useId,Ye=($e.useDeferredValue,$e.useInsertionEffect),Xe=Ie?s.useLayoutEffect:s.useEffect;function Ze(e){const t=(0,s.useRef)((()=>{throw new Error("Cannot call an event handler while rendering.")}));return Ye?Ye((()=>{t.current=e})):t.current=e,(0,s.useCallback)(((...e)=>{var n;return null==(n=t.current)?void 0:n.call(t,...e)}),[])}function Je(...e){return(0,s.useMemo)((()=>{if(e.some(Boolean))return t=>{for(const n of e)Ce(n,t)}}),e)}function Qe(e){if(qe){const t=qe();return e||t}const[t,n]=(0,s.useState)(e);return Xe((()=>{if(e||t)return;const i=Math.random().toString(36).slice(2,8);n(`id-${i}`)}),[e,t]),e||t}function et(e,t){const n=(0,s.useRef)(!1);(0,s.useEffect)((()=>{if(n.current)return e();n.current=!0}),t),(0,s.useEffect)((()=>()=>{n.current=!1}),[])}function tt(e){return Ze("function"==typeof e?e:()=>e)}function nt(e,t,n=[]){const i=(0,s.useCallback)((n=>(e.wrapElement&&(n=e.wrapElement(n)),t(n))),[...n,e.wrapElement]);return ie(ne({},e),{wrapElement:i})}var it=!1,rt=0,lt=0;function st(e){(function(e){const t=e.movementX||e.screenX-rt,n=e.movementY||e.screenY-lt;return rt=e.screenX,lt=e.screenY,t||n||!1})(e)&&(it=!0)}function ot(){it=!1}function at(e){const t=s.forwardRef(((t,n)=>e(ie(ne({},t),{ref:n}))));return t.displayName=e.displayName||e.name,t}function ct(e,t){return s.memo(e,t)}function ut(e,t){const n=t,{wrapElement:i,render:r}=n,l=re(n,["wrapElement","render"]),o=Je(t.ref,function(e){return function(e){return!!e&&!!(0,s.isValidElement)(e)&&("ref"in e.props||"ref"in e)}(e)?ne({},e.props).ref||e.ref:null}(r));let a;if(s.isValidElement(r)){const e=ie(ne({},r.props),{ref:o});a=s.cloneElement(r,function(e,t){const n=ne({},e);for(const i in t){if(!ge(t,i))continue;if("className"===i){const i="className";n[i]=e[i]?`${e[i]} ${t[i]}`:t[i];continue}if("style"===i){const i="style";n[i]=e[i]?ne(ne({},e[i]),t[i]):t[i];continue}const r=t[i];if("function"==typeof r&&i.startsWith("on")){const t=e[i];if("function"==typeof t){n[i]=(...e)=>{r(...e),t(...e)};continue}}n[i]=r}return n}(l,e))}else a=r?r(l):(0,p.jsx)(e,ne({},l));return i?i(a):a}function dt(e){const t=(t={})=>e(t);return t.displayName=e.name,t}function ft(e=[],t=[]){const n=s.createContext(void 0),i=s.createContext(void 0),r=()=>s.useContext(n),l=t=>e.reduceRight(((e,n)=>(0,p.jsx)(n,ie(ne({},t),{children:e}))),(0,p.jsx)(n.Provider,ne({},t)));return{context:n,scopedContext:i,useContext:r,useScopedContext:(e=!1)=>{const t=s.useContext(i),n=r();return e?t:t||n},useProviderContext:()=>{const e=s.useContext(i),t=r();if(!e||e!==t)return t},ContextProvider:l,ScopedContextProvider:e=>(0,p.jsx)(l,ie(ne({},e),{children:t.reduceRight(((t,n)=>(0,p.jsx)(n,ie(ne({},e),{children:t}))),(0,p.jsx)(i.Provider,ne({},e)))}))}}var mt=ft(),vt=mt.useContext,pt=(mt.useScopedContext,mt.useProviderContext,ft([mt.ContextProvider],[mt.ScopedContextProvider])),gt=pt.useContext,ht=(pt.useScopedContext,pt.useProviderContext),bt=pt.ContextProvider,wt=pt.ScopedContextProvider,xt=(0,s.createContext)(void 0),yt=(0,s.createContext)(void 0),_t=((0,s.createContext)(null),(0,s.createContext)(null),ft([bt],[wt])),St=_t.useContext;function Ct(e,t){const n=e.__unstableInternals;return xe(n,"Invalid store"),n[t]}function jt(e,...t){let n=e,i=n,r=Symbol(),l=pe;const s=new Set,o=new Set,a=new Set,c=new Set,u=new Set,d=new WeakMap,f=new WeakMap,m=(e,t,n=c)=>(n.add(t),f.set(t,e),()=>{var e;null==(e=d.get(t))||e(),d.delete(t),f.delete(t),n.delete(t)}),v=(e,l,s=!1)=>{var a;if(!ge(n,e))return;const m=(v=l,p=n[e],function(e){return"function"==typeof e}(v)?v(function(e){return"function"==typeof e}(p)?p():p):v);var v,p;if(m===n[e])return;if(!s)for(const n of t)null==(a=null==n?void 0:n.setState)||a.call(n,e,m);const g=n;n=me(fe({},n),{[e]:m});const h=Symbol();r=h,o.add(e);const b=(t,i,r)=>{var l;const s=f.get(t);s&&!s.some((t=>r?r.has(t):t===e))||(null==(l=d.get(t))||l(),d.set(t,t(n,i)))};for(const e of c)b(e,g);queueMicrotask((()=>{if(r!==h)return;const e=n;for(const e of u)b(e,i,o);i=e,o.clear()}))},p={getState:()=>n,setState:v,__unstableInternals:{setup:e=>(a.add(e),()=>a.delete(e)),init:()=>{const e=s.size,i=Symbol();s.add(i);const r=()=>{s.delete(i),s.size||l()};if(e)return r;const o=(c=n,Object.keys(c)).map((e=>he(...t.map((t=>{var n;const i=null==(n=null==t?void 0:t.getState)?void 0:n.call(t);if(i&&ge(i,e))return Vt(t,[e],(t=>{v(e,t[e],!0)}))})))));var c;const u=[];for(const e of a)u.push(e());const d=t.map(Et);return l=he(...o,...u,...d),r},subscribe:(e,t)=>m(e,t),sync:(e,t)=>(d.set(t,t(n,n)),m(e,t)),batch:(e,t)=>(d.set(t,t(n,i)),m(e,t,u)),pick:e=>jt(function(e,t){const n={};for(const i of t)ge(e,i)&&(n[i]=e[i]);return n}(n,e),p),omit:e=>jt(function(e,t){const n=fe({},e);for(const e of t)ge(n,e)&&delete n[e];return n}(n,e),p)}};return p}function It(e,...t){if(e)return Ct(e,"setup")(...t)}function Et(e,...t){if(e)return Ct(e,"init")(...t)}function kt(e,...t){if(e)return Ct(e,"subscribe")(...t)}function Vt(e,...t){if(e)return Ct(e,"sync")(...t)}function Ot(e,...t){if(e)return Ct(e,"batch")(...t)}function Pt(e,...t){if(e)return Ct(e,"omit")(...t)}function Ft(...e){const t=e.reduce(((e,t)=>{var n;const i=null==(n=null==t?void 0:t.getState)?void 0:n.call(t);return i?Object.assign(e,i):e}),{}),n=jt(t,...e);return Object.assign({},...e,n)}_t.useScopedContext,_t.useProviderContext,_t.ContextProvider,_t.ScopedContextProvider;var Tt=n(139),{useSyncExternalStore:At}=Tt,Mt=()=>()=>{};function Nt(e,t=we){const n=s.useCallback((t=>e?kt(e,null,t):Mt()),[e]),i=()=>{const n="string"==typeof t?t:null,i="function"==typeof t?t:null,r=null==e?void 0:e.getState();return i?i(r):r&&n&&ge(r,n)?r[n]:void 0};return At(n,i,i)}function Lt(e,t){const n=s.useRef({}),i=s.useCallback((t=>e?kt(e,null,t):Mt()),[e]),r=()=>{const i=null==e?void 0:e.getState();let r=!1;const l=n.current;for(const e in t){const n=t[e];if("function"==typeof n){const t=n(i);t!==l[e]&&(l[e]=t,r=!0)}if("string"==typeof n){if(!i)continue;if(!ge(i,n))continue;const t=i[n];t!==l[e]&&(l[e]=t,r=!0)}}return r&&(n.current=ne({},l)),n.current};return At(i,r,r)}function Dt(e,t,n,i){const r=ge(t,n)?t[n]:void 0,l=i?t[i]:void 0,o=function(e){const t=(0,s.useRef)(e);return Xe((()=>{t.current=e})),t}({value:r,setValue:l});Xe((()=>Vt(e,[n],((e,t)=>{const{value:i,setValue:r}=o.current;r&&e[n]!==t[n]&&e[n]!==i&&r(e[n])}))),[e,n]),Xe((()=>{if(void 0!==r)return e.setState(n,r),Ot(e,[n],(()=>{void 0!==r&&e.setState(n,r)}))}))}function Bt(e,t,n){return Dt(e=function(e,t,n){return et(t,[n.store]),Dt(e,n,"items","setItems"),e}(e,t,n),n,"activeId","setActiveId"),Dt(e,n,"includesBaseElement"),Dt(e,n,"virtualFocus"),Dt(e,n,"orientation"),Dt(e,n,"rtl"),Dt(e,n,"focusLoop"),Dt(e,n,"focusWrap"),Dt(e,n,"focusShift"),e}function Rt(e,t,n){return function(e,t,n){return et(t,[n.store,n.disclosure]),Dt(e,n,"open","setOpen"),Dt(e,n,"mounted","setMounted"),Dt(e,n,"animated"),Object.assign(e,{disclosure:n.disclosure})}(e,t,n)}function Ht(e={}){var t;e.store;const n=null==(t=e.store)?void 0:t.getState(),i=Se(e.items,null==n?void 0:n.items,e.defaultItems,[]),r=new Map(i.map((e=>[e.id,e]))),l={items:i,renderedItems:Se(null==n?void 0:n.renderedItems,[])},s=null==(u=e.store)?void 0:u.__unstablePrivateStore,o=jt({items:i,renderedItems:l.renderedItems},s),a=jt(l,e.store),c=e=>{const t=function(e,t){const n=e.map(((e,t)=>[t,e]));let i=!1;return n.sort((([e,n],[r,l])=>{const s=t(n),o=t(l);return s===o?0:s&&o?function(e,t){return Boolean(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_PRECEDING)}(s,o)?(e>r&&(i=!0),-1):(e<r&&(i=!0),1):0})),i?n.map((([e,t])=>t)):e}(e,(e=>e.element));o.setState("renderedItems",t),a.setState("renderedItems",t)};var u;It(a,(()=>Et(o))),It(o,(()=>Ot(o,["items"],(e=>{a.setState("items",e.items)})))),It(o,(()=>Ot(o,["renderedItems"],(e=>{let t=!0,n=requestAnimationFrame((()=>{const{renderedItems:t}=a.getState();e.renderedItems!==t&&c(e.renderedItems)}));if("function"!=typeof IntersectionObserver)return()=>cancelAnimationFrame(n);const i=function(e){var t;const n=e.find((e=>!!e.element)),i=[...e].reverse().find((e=>!!e.element));let r=null==(t=null==n?void 0:n.element)?void 0:t.parentElement;for(;r&&(null==i?void 0:i.element);){if(i&&r.contains(i.element))return r;r=r.parentElement}return Ee(r).body}(e.renderedItems),r=new IntersectionObserver((()=>{t?t=!1:(cancelAnimationFrame(n),n=requestAnimationFrame((()=>c(e.renderedItems))))}),{root:i});for(const t of e.renderedItems)t.element&&r.observe(t.element);return()=>{cancelAnimationFrame(n),r.disconnect()}}))));const d=(e,t,n=!1)=>{let i;return t((t=>{const n=t.findIndex((({id:t})=>t===e.id)),l=t.slice();if(-1!==n){i=t[n];const s=fe(fe({},i),e);l[n]=s,r.set(e.id,s)}else l.push(e),r.set(e.id,e);return l})),()=>{t((t=>{if(!i)return n&&r.delete(e.id),t.filter((({id:t})=>t!==e.id));const l=t.findIndex((({id:t})=>t===e.id));if(-1===l)return t;const s=t.slice();return s[l]=i,r.set(e.id,i),s}))}},f=e=>d(e,(e=>o.setState("items",e)),!0);return me(fe({},a),{registerItem:f,renderItem:e=>he(f(e),d(e,(e=>o.setState("renderedItems",e)))),item:e=>{if(!e)return null;let t=r.get(e);if(!t){const{items:n}=o.getState();t=n.find((t=>t.id===e)),t&&r.set(e,t)}return t||null},__unstablePrivateStore:o})}function zt(e){const t=[];for(const n of e)t.push(...n);return t}function Kt(e){return e.slice().reverse()}var Ut={id:null};function Gt(e,t){return e.find((e=>t?!e.disabled&&e.id!==t:!e.disabled))}function Wt(e,t){return e.filter((e=>e.rowId===t))}function $t(e){const t=[];for(const n of e){const e=t.find((e=>{var t;return(null==(t=e[0])?void 0:t.rowId)===n.rowId}));e?e.push(n):t.push([n])}return t}function qt(e){let t=0;for(const{length:n}of e)n>t&&(t=n);return t}var Yt=Be()&&Ie&&!!navigator.maxTouchPoints;function Xt(e={}){var t=e,{tag:n}=t,i=ve(t,["tag"]);const r=Ft(i.store,function(e,...t){if(e)return Ct(e,"pick")(...t)}(n,["value","rtl"])),l=null==n?void 0:n.getState(),s=null==r?void 0:r.getState(),o=Se(i.activeId,null==s?void 0:s.activeId,i.defaultActiveId,null),a=function(e={}){var t;const n=null==(t=e.store)?void 0:t.getState(),i=Ht(e),r=Se(e.activeId,null==n?void 0:n.activeId,e.defaultActiveId),l=jt(me(fe({},i.getState()),{id:Se(e.id,null==n?void 0:n.id,`id-${Math.random().toString(36).slice(2,8)}`),activeId:r,baseElement:Se(null==n?void 0:n.baseElement,null),includesBaseElement:Se(e.includesBaseElement,null==n?void 0:n.includesBaseElement,null===r),moves:Se(null==n?void 0:n.moves,0),orientation:Se(e.orientation,null==n?void 0:n.orientation,"both"),rtl:Se(e.rtl,null==n?void 0:n.rtl,!1),virtualFocus:Se(e.virtualFocus,null==n?void 0:n.virtualFocus,!1),focusLoop:Se(e.focusLoop,null==n?void 0:n.focusLoop,!1),focusWrap:Se(e.focusWrap,null==n?void 0:n.focusWrap,!1),focusShift:Se(e.focusShift,null==n?void 0:n.focusShift,!1)}),i,e.store);It(l,(()=>Vt(l,["renderedItems","activeId"],(e=>{l.setState("activeId",(t=>{var n;return void 0!==t?t:null==(n=Gt(e.renderedItems))?void 0:n.id}))}))));const s=(e="next",t={})=>{var n,i;const r=l.getState(),{skip:s=0,activeId:o=r.activeId,focusShift:a=r.focusShift,focusLoop:c=r.focusLoop,focusWrap:u=r.focusWrap,includesBaseElement:d=r.includesBaseElement,renderedItems:f=r.renderedItems,rtl:m=r.rtl}=t,v="up"===e||"down"===e,p="next"===e||"down"===e,g=p?m&&!v:!m||v,h=a&&!s;let b=v?zt(function(e,t,n){const i=qt(e);for(const r of e)for(let e=0;e<i;e+=1){const i=r[e];if(!i||n&&i.disabled){const i=0===e&&n?Gt(r):r[e-1];r[e]=i&&t!==i.id&&n?i:{id:"__EMPTY_ITEM__",disabled:!0,rowId:null==i?void 0:i.rowId}}}return e}($t(f),o,h)):f;if(b=g?Kt(b):b,b=v?function(e){const t=$t(e),n=qt(t),i=[];for(let e=0;e<n;e+=1)for(const n of t){const t=n[e];t&&i.push(me(fe({},t),{rowId:t.rowId?`${e}`:void 0}))}return i}(b):b,null==o)return null==(n=Gt(b))?void 0:n.id;const w=b.find((e=>e.id===o));if(!w)return null==(i=Gt(b))?void 0:i.id;const x=b.some((e=>e.rowId)),y=b.indexOf(w),_=b.slice(y+1),S=Wt(_,w.rowId);if(s){const e=function(e,t){return e.filter((e=>t?!e.disabled&&e.id!==t:!e.disabled))}(S,o),t=e.slice(s)[0]||e[e.length-1];return null==t?void 0:t.id}const C=c&&(v?"horizontal"!==c:"vertical"!==c),j=x&&u&&(v?"horizontal"!==u:"vertical"!==u),I=p?(!x||v)&&C&&d:!!v&&d;if(C){const e=function(e,t,n=!1){const i=e.findIndex((e=>e.id===t));return[...e.slice(i+1),...n?[Ut]:[],...e.slice(0,i)]}(j&&!I?b:Wt(b,w.rowId),o,I),t=Gt(e,o);return null==t?void 0:t.id}if(j){const e=Gt(I?S:_,o);return I?(null==e?void 0:e.id)||null:null==e?void 0:e.id}const E=Gt(S,o);return!E&&I?null:null==E?void 0:E.id};return me(fe(fe({},i),l),{setBaseElement:e=>l.setState("baseElement",e),setActiveId:e=>l.setState("activeId",e),move:e=>{void 0!==e&&(l.setState("activeId",e),l.setState("moves",(e=>e+1)))},first:()=>{var e;return null==(e=Gt(l.getState().renderedItems))?void 0:e.id},last:()=>{var e;return null==(e=Gt(Kt(l.getState().renderedItems)))?void 0:e.id},next:e=>(void 0!==e&&"number"==typeof e&&(e={skip:e}),s("next",e)),previous:e=>(void 0!==e&&"number"==typeof e&&(e={skip:e}),s("previous",e)),down:e=>(void 0!==e&&"number"==typeof e&&(e={skip:e}),s("down",e)),up:e=>(void 0!==e&&"number"==typeof e&&(e={skip:e}),s("up",e))})}(me(fe({},i),{activeId:o,includesBaseElement:Se(i.includesBaseElement,null==s?void 0:s.includesBaseElement,!0),orientation:Se(i.orientation,null==s?void 0:s.orientation,"vertical"),focusLoop:Se(i.focusLoop,null==s?void 0:s.focusLoop,!0),focusWrap:Se(i.focusWrap,null==s?void 0:s.focusWrap,!0),virtualFocus:Se(i.virtualFocus,null==s?void 0:s.virtualFocus,!0)})),c=function(e={}){var t=e,{popover:n}=t,i=ve(t,["popover"]);const r=Ft(i.store,Pt(n,["arrowElement","anchorElement","contentElement","popoverElement","disclosureElement"])),l=null==r?void 0:r.getState(),s=function(e={}){return function(e={}){const t=Ft(e.store,Pt(e.disclosure,["contentElement","disclosureElement"])),n=null==t?void 0:t.getState(),i=Se(e.open,null==n?void 0:n.open,e.defaultOpen,!1),r=Se(e.animated,null==n?void 0:n.animated,!1),l=jt({open:i,animated:r,animating:!!r&&i,mounted:i,contentElement:Se(null==n?void 0:n.contentElement,null),disclosureElement:Se(null==n?void 0:n.disclosureElement,null)},t);return It(l,(()=>Vt(l,["animated","animating"],(e=>{e.animated||l.setState("animating",!1)})))),It(l,(()=>kt(l,["open"],(()=>{l.getState().animated&&l.setState("animating",!0)})))),It(l,(()=>Vt(l,["open","animating"],(e=>{l.setState("mounted",e.open||e.animating)})))),me(fe({},l),{disclosure:e.disclosure,setOpen:e=>l.setState("open",e),show:()=>l.setState("open",!0),hide:()=>l.setState("open",!1),toggle:()=>l.setState("open",(e=>!e)),stopAnimation:()=>l.setState("animating",!1),setContentElement:e=>l.setState("contentElement",e),setDisclosureElement:e=>l.setState("disclosureElement",e)})}(e)}(me(fe({},i),{store:r})),o=Se(i.placement,null==l?void 0:l.placement,"bottom"),a=jt(me(fe({},s.getState()),{placement:o,currentPlacement:o,anchorElement:Se(null==l?void 0:l.anchorElement,null),popoverElement:Se(null==l?void 0:l.popoverElement,null),arrowElement:Se(null==l?void 0:l.arrowElement,null),rendered:Symbol("rendered")}),s,r);return me(fe(fe({},s),a),{setAnchorElement:e=>a.setState("anchorElement",e),setPopoverElement:e=>a.setState("popoverElement",e),setArrowElement:e=>a.setState("arrowElement",e),render:()=>a.setState("rendered",Symbol("rendered"))})}(me(fe({},i),{placement:Se(i.placement,null==s?void 0:s.placement,"bottom-start")})),u=Se(i.value,null==s?void 0:s.value,i.defaultValue,""),d=Se(i.selectedValue,null==s?void 0:s.selectedValue,null==l?void 0:l.values,i.defaultSelectedValue,""),f=Array.isArray(d),m=me(fe(fe({},a.getState()),c.getState()),{value:u,selectedValue:d,resetValueOnSelect:Se(i.resetValueOnSelect,null==s?void 0:s.resetValueOnSelect,f),resetValueOnHide:Se(i.resetValueOnHide,null==s?void 0:s.resetValueOnHide,f&&!n),activeValue:null==s?void 0:s.activeValue}),v=jt(m,a,c,r);return Yt&&It(v,(()=>Vt(v,["virtualFocus"],(()=>{v.setState("virtualFocus",!1)})))),It(v,(()=>{if(n)return he(Vt(v,["selectedValue"],(e=>{Array.isArray(e.selectedValue)&&n.setValues(e.selectedValue)})),Vt(n,["values"],(e=>{v.setState("selectedValue",e.values)})))})),It(v,(()=>Vt(v,["resetValueOnHide","mounted"],(e=>{e.resetValueOnHide&&(e.mounted||v.setState("value",u))})))),It(v,(()=>Vt(v,["open"],(e=>{e.open||(v.setState("activeId",o),v.setState("moves",0))})))),It(v,(()=>Vt(v,["moves","activeId"],((e,t)=>{e.moves===t.moves&&v.setState("activeValue",void 0)})))),It(v,(()=>Ot(v,["moves","renderedItems"],((e,t)=>{if(e.moves===t.moves)return;const{activeId:n}=v.getState(),i=a.item(n);v.setState("activeValue",null==i?void 0:i.value)})))),me(fe(fe(fe({},c),a),v),{tag:n,setValue:e=>v.setState("value",e),resetValue:()=>v.setState("value",m.value),setSelectedValue:e=>v.setState("selectedValue",e)})}function Zt(e={}){e=function(e){const t=St();return function(e){const t=Qe(e.id);return ne({id:t},e)}(e=ie(ne({},e),{tag:void 0!==e.tag?e.tag:t}))}(e);const[t,n]=function(e,t){const[n,i]=s.useState((()=>e(t)));Xe((()=>Et(n)),[n]);const r=s.useCallback((e=>Nt(n,e)),[n]);return[s.useMemo((()=>ie(ne({},n),{useState:r})),[n,r]),Ze((()=>{i((n=>e(ne(ne({},t),n.getState()))))}))]}(Xt,e);return function(e,t,n){return et(t,[n.tag]),Dt(e,n,"value","setValue"),Dt(e,n,"selectedValue","setSelectedValue"),Dt(e,n,"resetValueOnHide"),Dt(e,n,"resetValueOnSelect"),Object.assign(Bt(function(e,t,n){return et(t,[n.popover]),Dt(e,n,"placement"),Rt(e,t,n)}(e,t,n),t,n),{tag:n.tag})}(t,n,e)}var Jt=ft(),Qt=(Jt.useContext,Jt.useScopedContext,Jt.useProviderContext),en=ft([Jt.ContextProvider],[Jt.ScopedContextProvider]),tn=(en.useContext,en.useScopedContext,en.useProviderContext,en.ContextProvider),nn=en.ScopedContextProvider,rn=((0,s.createContext)(void 0),(0,s.createContext)(void 0),ft([tn],[nn])),ln=(rn.useContext,rn.useScopedContext,rn.useProviderContext),sn=rn.ContextProvider,on=rn.ScopedContextProvider,an=(0,s.createContext)(void 0),cn=ft([sn,bt],[on,wt]),un=cn.useContext,dn=cn.useScopedContext,fn=cn.useProviderContext,mn=cn.ContextProvider,vn=cn.ScopedContextProvider,pn=(0,s.createContext)(void 0),gn=(0,s.createContext)(!1);function hn(e={}){const t=Zt(e);return(0,p.jsx)(mn,{value:t,children:e.children})}var bn=dt((function(e){var t=e,{store:n}=t,i=re(t,["store"]);const r=fn();xe(n=n||r,!1);const l=n.useState((e=>{var t;return null==(t=e.baseElement)?void 0:t.id}));return _e(i=ne({htmlFor:l},i))})),wn=ct(at((function(e){return ut("label",bn(e))}))),xn=dt((function(e){var t=e,{store:n}=t,i=re(t,["store"]);const r=ln();return n=n||r,ie(ne({},i),{ref:Je(null==n?void 0:n.setAnchorElement,i.ref)})}));function yn(e,t){return t&&e.item(t)||null}at((function(e){return ut("div",xn(e))}));var Sn=Symbol("FOCUS_SILENTLY");function Cn(e,t,n){if(!t)return!1;if(t===n)return!1;const i=e.item(t.id);return!(!i||n&&i.element===n)}var jn=(0,s.createContext)(!0),In="input:not([type='hidden']):not([disabled]), select:not([disabled]), textarea:not([disabled]), a[href], button:not([disabled]), [tabindex], summary, iframe, object, embed, area[href], audio[controls], video[controls], [contenteditable]:not([contenteditable='false'])";function En(e){return!!e.matches(In)&&!!function(e){if("function"==typeof e.checkVisibility)return e.checkVisibility();const t=e;return t.offsetWidth>0||t.offsetHeight>0||e.getClientRects().length>0}(e)&&!e.closest("[inert]")}function kn(e){const t=ke(e);if(!t)return!1;if(t===e)return!0;const n=t.getAttribute("aria-activedescendant");return!!n&&n===e.id}function Vn(e){const t=ke(e);if(!t)return!1;if(Ve(e,t))return!0;const n=t.getAttribute("aria-activedescendant");return!!n&&"id"in e&&(n===e.id||!!e.querySelector(`#${CSS.escape(n)}`))}var On=Be(),Pn=["text","search","url","tel","email","password","number","date","month","week","time","datetime","datetime-local"],Fn=Symbol("safariFocusAncestor");function Tn(e,t){e&&(e[Fn]=t)}function An(e){return!("input"!==e.tagName.toLowerCase()||!e.type||"radio"!==e.type&&"checkbox"!==e.type)}function Mn(e,t,n,i,r){return e?t?n&&!i?-1:void 0:n?r:r||0:r}function Nn(e,t){return Ze((n=>{null==e||e(n),n.defaultPrevented||t&&(n.stopPropagation(),n.preventDefault())}))}var Ln=!0;function Dn(e){const t=e.target;t&&"hasAttribute"in t&&(t.hasAttribute("data-focus-visible")||(Ln=!1))}function Bn(e){e.metaKey||e.ctrlKey||e.altKey||(Ln=!0)}var Rn=dt((function(e){var t=e,{focusable:n=!0,accessibleWhenDisabled:i,autoFocus:r,onFocusVisible:l}=t,o=re(t,["focusable","accessibleWhenDisabled","autoFocus","onFocusVisible"]);const a=(0,s.useRef)(null);(0,s.useEffect)((()=>{n&&(We("mousedown",Dn,!0),We("keydown",Bn,!0))}),[n]),On&&(0,s.useEffect)((()=>{if(!n)return;const e=a.current;if(!e)return;if(!An(e))return;const t=function(e){return"labels"in e?e.labels:null}(e);if(!t)return;const i=()=>queueMicrotask((()=>e.focus()));for(const e of t)e.addEventListener("mouseup",i);return()=>{for(const e of t)e.removeEventListener("mouseup",i)}}),[n]);const c=n&&ye(o),u=!!c&&!i,[d,f]=(0,s.useState)(!1);(0,s.useEffect)((()=>{n&&u&&d&&f(!1)}),[n,u,d]),(0,s.useEffect)((()=>{if(!n)return;if(!d)return;const e=a.current;if(!e)return;if("undefined"==typeof IntersectionObserver)return;const t=new IntersectionObserver((()=>{En(e)||f(!1)}));return t.observe(e),()=>t.disconnect()}),[n,d]);const m=Nn(o.onKeyPressCapture,c),v=Nn(o.onMouseDownCapture,c),p=Nn(o.onClickCapture,c),g=o.onMouseDown,h=Ze((e=>{if(null==g||g(e),e.defaultPrevented)return;if(!n)return;const t=e.currentTarget;if(!On)return;if(Re(e))return;if(!Oe(t)&&!An(t))return;let i=!1;const r=()=>{i=!0};t.addEventListener("focusin",r,{capture:!0,once:!0});const l=function(e){for(;e&&!En(e);)e=e.closest(In);return e||null}(t.parentElement);Tn(l,!0),Ge(t,"mouseup",(()=>{t.removeEventListener("focusin",r,!0),Tn(l,!1),i||function(e){!Vn(e)&&En(e)&&e.focus()}(t)}))})),b=(e,t)=>{if(t&&(e.currentTarget=t),!n)return;const i=e.currentTarget;i&&kn(i)&&(null==l||l(e),e.defaultPrevented||(i.dataset.focusVisible="true",f(!0)))},w=o.onKeyDownCapture,x=Ze((e=>{if(null==w||w(e),e.defaultPrevented)return;if(!n)return;if(d)return;if(e.metaKey)return;if(e.altKey)return;if(e.ctrlKey)return;if(!He(e))return;const t=e.currentTarget;Ge(t,"focusout",(()=>b(e,t)))})),y=o.onFocusCapture,_=Ze((e=>{if(null==y||y(e),e.defaultPrevented)return;if(!n)return;if(!He(e))return void f(!1);const t=e.currentTarget;Ln||function(e){const{tagName:t,readOnly:n,type:i}=e;return"TEXTAREA"===t&&!n||"SELECT"===t&&!n||("INPUT"!==t||n?!!e.isContentEditable||!("combobox"!==e.getAttribute("role")||!e.dataset.name):Pn.includes(i))}(e.target)?Ge(e.target,"focusout",(()=>b(e,t))):f(!1)})),S=o.onBlur,C=Ze((e=>{null==S||S(e),n&&Ue(e)&&f(!1)})),j=(0,s.useContext)(jn),I=Ze((e=>{n&&r&&e&&j&&queueMicrotask((()=>{kn(e)||En(e)&&e.focus()}))})),E=function(e,t){const n=e=>{if("string"==typeof e)return e},[i,r]=(0,s.useState)((()=>n(t)));return Xe((()=>{const i=e&&"current"in e?e.current:e;r((null==i?void 0:i.tagName.toLowerCase())||n(t))}),[e,t]),i}(a),k=n&&function(e){return!e||"button"===e||"summary"===e||"input"===e||"select"===e||"textarea"===e||"a"===e}(E),V=n&&function(e){return!e||"button"===e||"input"===e||"select"===e||"textarea"===e}(E),O=o.style,P=(0,s.useMemo)((()=>u?ne({pointerEvents:"none"},O):O),[u,O]);return _e(o=ie(ne({"data-focus-visible":n&&d||void 0,"data-autofocus":r||void 0,"aria-disabled":c||void 0},o),{ref:Je(a,I,o.ref),style:P,tabIndex:Mn(n,u,k,V,o.tabIndex),disabled:!(!V||!u)||void 0,contentEditable:c?void 0:o.contentEditable,onKeyPressCapture:m,onClickCapture:p,onMouseDownCapture:v,onMouseDown:h,onKeyDownCapture:x,onFocusCapture:_,onBlur:C}))}));function Hn(e,t,n){return Ze((i=>{var r;if(null==t||t(i),i.defaultPrevented)return;if(i.isPropagationStopped())return;if(!He(i))return;if(function(e){return"Shift"===e.key||"Control"===e.key||"Alt"===e.key||"Meta"===e.key}(i))return;if(function(e){const t=e.target;return!(t&&!Fe(t)||1!==e.key.length||e.ctrlKey||e.metaKey)}(i))return;const l=e.getState(),s=null==(r=yn(e,l.activeId))?void 0:r.element;if(!s)return;const o=i,{view:a}=o,c=re(o,["view"]);s!==(null==n?void 0:n.current)&&s.focus(),function(e,t,n){const i=new KeyboardEvent(t,n);return e.dispatchEvent(i)}(s,i.type,c)||i.preventDefault(),i.currentTarget.contains(s)&&i.stopPropagation()}))}at((function(e){return ut("div",Rn(e))}));var zn=dt((function(e){var t=e,{store:n,composite:i=!0,focusOnMove:r=i,moveOnKeyPress:l=!0}=t,o=re(t,["store","composite","focusOnMove","moveOnKeyPress"]);const a=ht();xe(n=n||a,!1);const c=(0,s.useRef)(null),u=(0,s.useRef)(null),d=function(e){const[t,n]=(0,s.useState)(!1),i=(0,s.useCallback)((()=>n(!0)),[]),r=e.useState((t=>yn(e,t.activeId)));return(0,s.useEffect)((()=>{const e=null==r?void 0:r.element;t&&e&&(n(!1),e.focus({preventScroll:!0}))}),[r,t]),i}(n),f=n.useState("moves"),[,m]=function(e){const[t,n]=(0,s.useState)(null);return Xe((()=>{if(null==t)return;if(!e)return;let n=null;return e((e=>(n=e,t))),()=>{e(n)}}),[t,e]),[t,n]}(i?n.setBaseElement:null);(0,s.useEffect)((()=>{var e;if(!n)return;if(!f)return;if(!i)return;if(!r)return;const{activeId:t}=n.getState(),l=null==(e=yn(n,t))?void 0:e.element;var s;l&&("scrollIntoView"in(s=l)?(s.focus({preventScroll:!0}),s.scrollIntoView(fe({block:"nearest",inline:"nearest"},undefined))):s.focus())}),[n,f,i,r]),Xe((()=>{if(!n)return;if(!f)return;if(!i)return;const{baseElement:e,activeId:t}=n.getState();if(null!==t)return;if(!e)return;const r=u.current;u.current=null,r&&ze(r,{relatedTarget:e}),kn(e)||e.focus()}),[n,f,i]);const v=n.useState("activeId"),g=n.useState("virtualFocus");Xe((()=>{var e;if(!n)return;if(!i)return;if(!g)return;const t=u.current;if(u.current=null,!t)return;const r=(null==(e=yn(n,v))?void 0:e.element)||ke(t);r!==t&&ze(t,{relatedTarget:r})}),[n,v,g,i]);const h=Hn(n,o.onKeyDownCapture,u),b=Hn(n,o.onKeyUpCapture,u),w=o.onFocusCapture,x=Ze((e=>{if(null==w||w(e),e.defaultPrevented)return;if(!n)return;const{virtualFocus:t}=n.getState();if(!t)return;const i=e.relatedTarget,r=function(e){const t=e[Sn];return delete e[Sn],t}(e.currentTarget);He(e)&&r&&(e.stopPropagation(),u.current=i)})),y=o.onFocus,_=Ze((e=>{if(null==y||y(e),e.defaultPrevented)return;if(!i)return;if(!n)return;const{relatedTarget:t}=e,{virtualFocus:r}=n.getState();r?He(e)&&!Cn(n,t)&&queueMicrotask(d):He(e)&&n.setActiveId(null)})),S=o.onBlurCapture,C=Ze((e=>{var t;if(null==S||S(e),e.defaultPrevented)return;if(!n)return;const{virtualFocus:i,activeId:r}=n.getState();if(!i)return;const l=null==(t=yn(n,r))?void 0:t.element,s=e.relatedTarget,o=Cn(n,s),a=u.current;u.current=null,He(e)&&o?(s===l?a&&a!==s&&ze(a,e):l?ze(l,e):a&&ze(a,e),e.stopPropagation()):!Cn(n,e.target)&&l&&ze(l,e)})),j=o.onKeyDown,I=tt(l),E=Ze((e=>{var t;if(null==j||j(e),e.defaultPrevented)return;if(!n)return;if(!He(e))return;const{orientation:i,renderedItems:r,activeId:l}=n.getState(),s=yn(n,l);if(null==(t=null==s?void 0:s.element)?void 0:t.isConnected)return;const o="horizontal"!==i,a="vertical"!==i,c=r.some((e=>!!e.rowId));if(("ArrowLeft"===e.key||"ArrowRight"===e.key||"Home"===e.key||"End"===e.key)&&Fe(e.currentTarget))return;const u={ArrowUp:(c||o)&&(()=>{if(c){const e=function(e,t){return e.find((e=>!e.disabled))}(zt(Kt(function(e){const t=[];for(const n of e){const e=t.find((e=>{var t;return(null==(t=e[0])?void 0:t.rowId)===n.rowId}));e?e.push(n):t.push([n])}return t}(r))));return null==e?void 0:e.id}return null==n?void 0:n.last()}),ArrowRight:(c||a)&&n.first,ArrowDown:(c||o)&&n.first,ArrowLeft:(c||a)&&n.last,Home:n.first,End:n.last,PageUp:n.first,PageDown:n.last},d=u[e.key];if(d){const t=d();if(void 0!==t){if(!I(e))return;e.preventDefault(),n.move(t)}}}));o=nt(o,(e=>(0,p.jsx)(bt,{value:n,children:e})),[n]);const k=n.useState((e=>{var t;if(n&&i&&e.virtualFocus)return null==(t=yn(n,e.activeId))?void 0:t.id}));o=ie(ne({"aria-activedescendant":k},o),{ref:Je(c,m,o.ref),onKeyDownCapture:h,onKeyUpCapture:b,onFocusCapture:x,onFocus:_,onBlurCapture:C,onKeyDown:E});const V=n.useState((e=>i&&(e.virtualFocus||null===e.activeId)));return Rn(ne({focusable:V},o))}));function Kn(e,t,n){if(!n)return!1;const i=e.find((e=>!e.disabled&&e.value));return(null==i?void 0:i.value)===t}function Un(e,t){return!!t&&null!=e&&(e=be(e),t.length>e.length&&0===t.toLowerCase().indexOf(e.toLowerCase()))}at((function(e){return ut("div",zn(e))}));var Gn=dt((function(e){var t=e,{store:n,focusable:i=!0,autoSelect:r=!1,getAutoSelectId:l,setValueOnChange:o,showMinLength:a=0,showOnChange:c,showOnMouseDown:u,showOnClick:d=u,showOnKeyDown:f,showOnKeyPress:m=f,blurActiveItemOnClick:v,setValueOnClick:p=!0,moveOnKeyPress:g=!0,autoComplete:h="list"}=t,b=re(t,["store","focusable","autoSelect","getAutoSelectId","setValueOnChange","showMinLength","showOnChange","showOnMouseDown","showOnClick","showOnKeyDown","showOnKeyPress","blurActiveItemOnClick","setValueOnClick","moveOnKeyPress","autoComplete"]);const w=fn();xe(n=n||w,!1);const x=(0,s.useRef)(null),[y,_]=(0,s.useReducer)((()=>[]),[]),S=(0,s.useRef)(!1),C=(0,s.useRef)(!1),j=n.useState((e=>e.virtualFocus&&r)),I="inline"===h||"both"===h,[E,k]=(0,s.useState)(I);!function(e,t){const n=(0,s.useRef)(!1);Xe((()=>{n.current?I&&k(!0):n.current=!0}),t),Xe((()=>()=>{n.current=!1}),[])}(0,[I]);const V=n.useState("value"),O=(0,s.useRef)();(0,s.useEffect)((()=>Vt(n,["selectedValue","activeId"],((e,t)=>{O.current=t.selectedValue}))),[]);const P=n.useState((e=>{var t;if(I&&E){if(e.activeValue&&Array.isArray(e.selectedValue)){if(e.selectedValue.includes(e.activeValue))return;if(null==(t=O.current)?void 0:t.includes(e.activeValue))return}return e.activeValue}})),F=n.useState("renderedItems"),T=n.useState("open"),A=n.useState("contentElement"),M=(0,s.useMemo)((()=>{if(!I)return V;if(!E)return V;if(Kn(F,P,j)){if(Un(V,P)){const e=(null==P?void 0:P.slice(V.length))||"";return V+e}return V}return P||V}),[I,E,F,P,j,V]);(0,s.useEffect)((()=>{const e=x.current;if(!e)return;const t=()=>k(!0);return e.addEventListener("combobox-item-move",t),()=>{e.removeEventListener("combobox-item-move",t)}}),[]),(0,s.useEffect)((()=>{if(!I)return;if(!E)return;if(!P)return;if(!Kn(F,P,j))return;if(!Un(V,P))return;let e=pe;return queueMicrotask((()=>{const t=x.current;if(!t)return;const{start:n,end:i}=Ae(t),r=V.length,l=P.length;Le(t,r,l),e=()=>{if(!kn(t))return;const{start:e,end:s}=Ae(t);e===r&&s===l&&Le(t,n,i)}})),()=>e()}),[y,I,E,P,F,j,V]);const N=(0,s.useRef)(null),L=Ze(l),D=(0,s.useRef)(null);(0,s.useEffect)((()=>{if(!T)return;if(!A)return;const e=Ne(A);if(!e)return;N.current=e;const t=()=>{S.current=!1},i=()=>{if(!n)return;if(!S.current)return;const{activeId:e}=n.getState();null!==e&&e!==D.current&&(S.current=!1)},r={passive:!0,capture:!0};return e.addEventListener("wheel",t,r),e.addEventListener("touchmove",t,r),e.addEventListener("scroll",i,r),()=>{e.removeEventListener("wheel",t,!0),e.removeEventListener("touchmove",t,!0),e.removeEventListener("scroll",i,!0)}}),[T,A,n]),Xe((()=>{V&&(C.current||(S.current=!0))}),[V]),Xe((()=>{"always"!==j&&T||(S.current=T)}),[j,T]);const B=n.useState("resetValueOnSelect");et((()=>{var e,t;const i=S.current;if(!n)return;if(!T)return;if(!i&&!B)return;const{baseElement:r,contentElement:l,activeId:s}=n.getState();if(!r||kn(r)){if(null==l?void 0:l.hasAttribute("data-placing")){const e=new MutationObserver(_);return e.observe(l,{attributeFilter:["data-placing"]}),()=>e.disconnect()}if(j&&i){const t=L(F),i=void 0!==t?t:null!=(e=function(e){const t=e.find((e=>{var t;return!e.disabled&&"tab"!==(null==(t=e.element)?void 0:t.getAttribute("role"))}));return null==t?void 0:t.id}(F))?e:n.first();D.current=i,n.move(null!=i?i:null)}else{const e=null==(t=n.item(s||n.first()))?void 0:t.element;e&&"scrollIntoView"in e&&e.scrollIntoView({block:"nearest",inline:"nearest"})}}}),[n,T,y,V,j,B,L,F]),(0,s.useEffect)((()=>{if(!I)return;const e=x.current;if(!e)return;const t=[e,A].filter((e=>!!e)),i=e=>{t.every((t=>Ue(e,t)))&&(null==n||n.setValue(M))};for(const e of t)e.addEventListener("focusout",i);return()=>{for(const e of t)e.removeEventListener("focusout",i)}}),[I,A,n,M]);const R=e=>e.currentTarget.value.length>=a,H=b.onChange,z=tt(null!=c?c:R),K=tt(null!=o?o:!n.tag),U=Ze((e=>{if(null==H||H(e),e.defaultPrevented)return;if(!n)return;const t=e.currentTarget,{value:i,selectionStart:r,selectionEnd:l}=t,s=e.nativeEvent;if(S.current=!0,function(e){return"input"===e.type}(s)&&(s.isComposing&&(S.current=!1,C.current=!0),I)){const e="insertText"===s.inputType||"insertCompositionText"===s.inputType,t=r===i.length;k(e&&t)}if(K(e)){const e=i===n.getState().value;n.setValue(i),queueMicrotask((()=>{Le(t,r,l)})),I&&j&&e&&_()}z(e)&&n.show(),j&&S.current||n.setActiveId(null)})),G=b.onCompositionEnd,W=Ze((e=>{S.current=!0,C.current=!1,null==G||G(e),e.defaultPrevented||j&&_()})),$=b.onMouseDown,q=tt(null!=v?v:()=>!!(null==n?void 0:n.getState().includesBaseElement)),Y=tt(p),X=tt(null!=d?d:R),Z=Ze((e=>{null==$||$(e),e.defaultPrevented||e.button||e.ctrlKey||n&&(q(e)&&n.setActiveId(null),Y(e)&&n.setValue(M),X(e)&&Ge(e.currentTarget,"mouseup",n.show))})),J=b.onKeyDown,Q=tt(null!=m?m:R),ee=Ze((e=>{if(null==J||J(e),e.repeat||(S.current=!1),e.defaultPrevented)return;if(e.ctrlKey)return;if(e.altKey)return;if(e.shiftKey)return;if(e.metaKey)return;if(!n)return;const{open:t}=n.getState();t||"ArrowUp"!==e.key&&"ArrowDown"!==e.key||Q(e)&&(e.preventDefault(),n.show())})),te=b.onBlur,le=Ze((e=>{S.current=!1,null==te||te(e),e.defaultPrevented})),se=Qe(b.id),oe=function(e){return"inline"===e||"list"===e||"both"===e||"none"===e}(h)?h:void 0,ae=n.useState((e=>null===e.activeId));return b=ie(ne({id:se,role:"combobox","aria-autocomplete":oe,"aria-haspopup":Me(A,"listbox"),"aria-expanded":T,"aria-controls":null==A?void 0:A.id,"data-active-item":ae||void 0,value:M},b),{ref:Je(x,b.ref),onChange:U,onCompositionEnd:W,onMouseDown:Z,onKeyDown:ee,onBlur:le}),b=zn(ie(ne({store:n,focusable:i},b),{moveOnKeyPress:e=>!function(e,...t){const n="function"==typeof e?e(...t):e;return null!=n&&!n}(g,e)&&(I&&k(!0),!0)})),b=xn(ne({store:n},b)),ne({autoComplete:"off"},b)})),Wn=at((function(e){return ut("input",Gn(e))})),$n=n(795);function qn(e,t){const n=setTimeout(t,e);return()=>clearTimeout(n)}function Yn(...e){return e.join(", ").split(", ").reduce(((e,t)=>{const n=t.endsWith("ms")?1:1e3,i=Number.parseFloat(t||"0s")*n;return i>e?i:e}),0)}function Xn(e,t,n){return!(n||!1===t||e&&!t)}var Zn=dt((function(e){var t=e,{store:n,alwaysVisible:i}=t,r=re(t,["store","alwaysVisible"]);const l=Qt();xe(n=n||l,!1);const o=(0,s.useRef)(null),a=Qe(r.id),[c,u]=(0,s.useState)(null),d=n.useState("open"),f=n.useState("mounted"),m=n.useState("animated"),v=n.useState("contentElement"),g=Nt(n.disclosure,"contentElement");Xe((()=>{o.current&&(null==n||n.setContentElement(o.current))}),[n]),Xe((()=>{let e;return null==n||n.setState("animated",(t=>(e=t,!0))),()=>{void 0!==e&&(null==n||n.setState("animated",e))}}),[n]),Xe((()=>{if(m){if(null==v?void 0:v.isConnected)return function(e){let t=requestAnimationFrame((()=>{t=requestAnimationFrame(e)}));return()=>cancelAnimationFrame(t)}((()=>{u(d?"enter":f?"leave":null)}));u(null)}}),[m,v,d,f]),Xe((()=>{if(!n)return;if(!m)return;if(!c)return;if(!v)return;const e=()=>null==n?void 0:n.setState("animating",!1),t=()=>(0,$n.flushSync)(e);if("leave"===c&&d)return;if("enter"===c&&!d)return;if("number"==typeof m)return qn(m,t);const{transitionDuration:i,animationDuration:r,transitionDelay:l,animationDelay:s}=getComputedStyle(v),{transitionDuration:o="0",animationDuration:a="0",transitionDelay:u="0",animationDelay:f="0"}=g?getComputedStyle(g):{},p=Yn(l,s,u,f)+Yn(i,r,o,a);return p?qn(Math.max(p-1e3/60,0),t):("enter"===c&&n.setState("animated",!1),void e())}),[n,m,v,g,d,c]),r=nt(r,(e=>(0,p.jsx)(nn,{value:n,children:e})),[n]);const h=Xn(f,r.hidden,i),b=r.style,w=(0,s.useMemo)((()=>h?ie(ne({},b),{display:"none"}):b),[h,b]);return _e(r=ie(ne({id:a,"data-open":d||void 0,"data-enter":"enter"===c||void 0,"data-leave":"leave"===c||void 0,hidden:h},r),{ref:Je(a?n.setContentElement:null,o,r.ref),style:w}))})),Jn=at((function(e){return ut("div",Zn(e))})),Qn=(at((function(e){var t=e,{unmountOnHide:n}=t,i=re(t,["unmountOnHide"]);const r=Qt();return!1===Nt(i.store||r,(e=>!n||(null==e?void 0:e.mounted)))?null:(0,p.jsx)(Jn,ne({},i))})),dt((function(e){var t=e,{store:n,alwaysVisible:i}=t,r=re(t,["store","alwaysVisible"]);const l=dn(!0),o=un(),a=!!(n=n||o)&&n===l;xe(n,!1);const c=(0,s.useRef)(null),u=Qe(r.id),d=n.useState("mounted"),f=Xn(d,r.hidden,i),m=f?ie(ne({},r.style),{display:"none"}):r.style,v=n.useState((e=>Array.isArray(e.selectedValue))),g=function(e,t,n){const i=function(e){const[t]=(0,s.useState)(e);return t}(n),[r,l]=(0,s.useState)(i);return(0,s.useEffect)((()=>{const n=e&&"current"in e?e.current:e;if(!n)return;const r=()=>{const e=n.getAttribute(t);l(null==e?i:e)},s=new MutationObserver(r);return s.observe(n,{attributeFilter:[t]}),r(),()=>s.disconnect()}),[e,t,i]),r}(c,"role",r.role),h=("listbox"===g||"tree"===g||"grid"===g)&&v||void 0,[b,w]=(0,s.useState)(!1),x=n.useState("contentElement");Xe((()=>{if(!d)return;const e=c.current;if(!e)return;if(x!==e)return;const t=()=>{w(!!e.querySelector("[role='listbox']"))},n=new MutationObserver(t);return n.observe(e,{subtree:!0,childList:!0,attributeFilter:["role"]}),t(),()=>n.disconnect()}),[d,x]),b||(r=ne({role:"listbox","aria-multiselectable":h},r)),r=nt(r,(e=>(0,p.jsx)(vn,{value:n,children:(0,p.jsx)(an.Provider,{value:g,children:e})})),[n,g]);const y=!u||l&&a?null:n.setContentElement;return _e(r=ie(ne({id:u,hidden:f},r),{ref:Je(y,c,r.ref),style:m}))}))),ei=at((function(e){return ut("div",Qn(e))}));function ti(e){const t=e.relatedTarget;return(null==t?void 0:t.nodeType)===Node.ELEMENT_NODE?t:null}var ni=Symbol("composite-hover"),ii=dt((function(e){var t=e,{store:n,focusOnHover:i=!0,blurOnHoverEnd:r=!!i}=t,l=re(t,["store","focusOnHover","blurOnHoverEnd"]);const o=gt();xe(n=n||o,!1);const a=((0,s.useEffect)((()=>{We("mousemove",st,!0),We("mousedown",ot,!0),We("mouseup",ot,!0),We("keydown",ot,!0),We("scroll",ot,!0)}),[]),Ze((()=>it))),c=l.onMouseMove,u=tt(i),d=Ze((e=>{if(null==c||c(e),!e.defaultPrevented&&a()&&u(e)){if(!Vn(e.currentTarget)){const e=null==n?void 0:n.getState().baseElement;e&&!kn(e)&&e.focus()}null==n||n.setActiveId(e.currentTarget.id)}})),f=l.onMouseLeave,m=tt(r),v=Ze((e=>{var t;null==f||f(e),e.defaultPrevented||a()&&(function(e){const t=ti(e);return!!t&&Ve(e.currentTarget,t)}(e)||function(e){let t=ti(e);if(!t)return!1;do{if(ge(t,ni)&&t[ni])return!0;t=t.parentElement}while(t);return!1}(e)||u(e)&&m(e)&&(null==n||n.setActiveId(null),null==(t=null==n?void 0:n.getState().baseElement)||t.focus()))})),p=(0,s.useCallback)((e=>{e&&(e[ni]=!0)}),[]);return _e(l=ie(ne({},l),{ref:Je(p,l.ref),onMouseMove:d,onMouseLeave:v}))})),ri=(ct(at((function(e){return ut("div",ii(e))}))),dt((function(e){var t=e,{store:n,shouldRegisterItem:i=!0,getItem:r=we,element:l}=t,o=re(t,["store","shouldRegisterItem","getItem","element"]);const a=vt();n=n||a;const c=Qe(o.id),u=(0,s.useRef)(l);return(0,s.useEffect)((()=>{const e=u.current;if(!c)return;if(!e)return;if(!i)return;const t=r({id:c,element:e});return null==n?void 0:n.renderItem(t)}),[c,i,r,n]),_e(o=ie(ne({},o),{ref:Je(u,o.ref)}))})));function li(e){if(!e.isTrusted)return!1;const t=e.currentTarget;return"Enter"===e.key?Oe(t)||"SUMMARY"===t.tagName||"A"===t.tagName:" "===e.key&&(Oe(t)||"SUMMARY"===t.tagName||"INPUT"===t.tagName||"SELECT"===t.tagName)}at((function(e){return ut("div",ri(e))}));var si=Symbol("command"),oi=dt((function(e){var t=e,{clickOnEnter:n=!0,clickOnSpace:i=!0}=t,r=re(t,["clickOnEnter","clickOnSpace"]);const l=(0,s.useRef)(null),[o,a]=(0,s.useState)(!1);(0,s.useEffect)((()=>{l.current&&a(Oe(l.current))}),[]);const[c,u]=(0,s.useState)(!1),d=(0,s.useRef)(!1),f=ye(r),[m,v]=function(e,t,n){const i=e.onLoadedMetadataCapture,r=(0,s.useMemo)((()=>Object.assign((()=>{}),ie(ne({},i),{[t]:n}))),[i,t,n]);return[null==i?void 0:i[t],{onLoadedMetadataCapture:r}]}(r,si,!0),p=r.onKeyDown,g=Ze((e=>{null==p||p(e);const t=e.currentTarget;if(e.defaultPrevented)return;if(m)return;if(f)return;if(!He(e))return;if(Fe(t))return;if(t.isContentEditable)return;const r=n&&"Enter"===e.key,l=i&&" "===e.key,s="Enter"===e.key&&!n,o=" "===e.key&&!i;if(s||o)e.preventDefault();else if(r||l){const n=li(e);if(r){if(!n){e.preventDefault();const n=e,{view:i}=n,r=re(n,["view"]),l=()=>Ke(t,r);Ie&&/firefox\//i.test(navigator.userAgent)?Ge(t,"keyup",l):queueMicrotask(l)}}else l&&(d.current=!0,n||(e.preventDefault(),u(!0)))}})),h=r.onKeyUp,b=Ze((e=>{if(null==h||h(e),e.defaultPrevented)return;if(m)return;if(f)return;if(e.metaKey)return;const t=i&&" "===e.key;if(d.current&&t&&(d.current=!1,!li(e))){e.preventDefault(),u(!1);const t=e.currentTarget,n=e,{view:i}=n,r=re(n,["view"]);queueMicrotask((()=>Ke(t,r)))}}));return r=ie(ne(ne({"data-active":c||void 0,type:o?"button":void 0},v),r),{ref:Je(l,r.ref),onKeyDown:g,onKeyUp:b}),Rn(r)}));function ai(e,t=!1){const{top:n}=e.getBoundingClientRect();return t?n+e.clientHeight:n}function ci(e,t,n,i=!1){var r;if(!t)return;if(!n)return;const{renderedItems:l}=t.getState(),s=Ne(e);if(!s)return;const o=function(e,t=!1){const n=e.clientHeight,{top:i}=e.getBoundingClientRect(),r=1.5*Math.max(.875*n,n-40),l=t?n-r+i:r+i;return"HTML"===e.tagName?l+e.scrollTop:l}(s,i);let a,c;for(let e=0;e<l.length;e+=1){const l=a;if(a=n(e),!a)break;if(a===l)continue;const s=null==(r=yn(t,a))?void 0:r.element;if(!s)continue;const u=ai(s,i)-o,d=Math.abs(u);if(i&&u<=0||!i&&u>=0){void 0!==c&&c<d&&(a=l);break}c=d}return a}at((function(e){return ut("button",oi(e))}));var ui=dt((function(e){var t=e,{store:n,rowId:i,preventScrollOnKeyDown:r=!1,moveOnKeyPress:l=!0,tabbable:o=!1,getItem:a,"aria-setsize":c,"aria-posinset":u}=t,d=re(t,["store","rowId","preventScrollOnKeyDown","moveOnKeyPress","tabbable","getItem","aria-setsize","aria-posinset"]);const f=gt();n=n||f;const m=Qe(d.id),v=(0,s.useRef)(null),g=(0,s.useContext)(yt),h=ye(d)&&!d.accessibleWhenDisabled,{rowId:b,baseElement:w,isActiveItem:x,ariaSetSize:y,ariaPosInSet:_,isTabbable:S}=Lt(n,{rowId:e=>i||(e&&(null==g?void 0:g.baseElement)&&g.baseElement===e.baseElement?g.id:void 0),baseElement:e=>(null==e?void 0:e.baseElement)||void 0,isActiveItem:e=>!!e&&e.activeId===m,ariaSetSize:e=>null!=c?c:e&&(null==g?void 0:g.ariaSetSize)&&g.baseElement===e.baseElement?g.ariaSetSize:void 0,ariaPosInSet(e){if(null!=u)return u;if(!e)return;if(!(null==g?void 0:g.ariaPosInSet))return;if(g.baseElement!==e.baseElement)return;const t=e.renderedItems.filter((e=>e.rowId===b));return g.ariaPosInSet+t.findIndex((e=>e.id===m))},isTabbable(e){if(!(null==e?void 0:e.renderedItems.length))return!0;if(e.virtualFocus)return!1;if(o)return!0;if(null===e.activeId)return!1;const t=null==n?void 0:n.item(e.activeId);return!!(null==t?void 0:t.disabled)||!(null==t?void 0:t.element)||e.activeId===m}}),C=(0,s.useCallback)((e=>{var t;const n=ie(ne({},e),{id:m||e.id,rowId:b,disabled:!!h,children:null==(t=e.element)?void 0:t.textContent});return a?a(n):n}),[m,b,h,a]),j=d.onFocus,I=(0,s.useRef)(!1),E=Ze((e=>{if(null==j||j(e),e.defaultPrevented)return;if(Re(e))return;if(!m)return;if(!n)return;if(function(e,t){return!He(e)&&Cn(t,e.target)}(e,n))return;const{virtualFocus:t,baseElement:i}=n.getState();var r;(n.setActiveId(m),Te(e.currentTarget)&&function(e,t=!1){if(Fe(e))e.setSelectionRange(t?e.value.length:0,e.value.length);else if(e.isContentEditable){const n=Ee(e).getSelection();null==n||n.selectAllChildren(e),t&&(null==n||n.collapseToEnd())}}(e.currentTarget),t)&&(He(e)&&(Te(r=e.currentTarget)||"INPUT"===r.tagName&&!Oe(r)||(null==i?void 0:i.isConnected)&&(Be()&&e.currentTarget.hasAttribute("data-autofocus")&&e.currentTarget.scrollIntoView({block:"nearest",inline:"nearest"}),I.current=!0,e.relatedTarget===i||Cn(n,e.relatedTarget)?function(e){e[Sn]=!0,e.focus({preventScroll:!0})}(i):i.focus())))})),k=d.onBlurCapture,V=Ze((e=>{if(null==k||k(e),e.defaultPrevented)return;const t=null==n?void 0:n.getState();(null==t?void 0:t.virtualFocus)&&I.current&&(I.current=!1,e.preventDefault(),e.stopPropagation())})),O=d.onKeyDown,P=tt(r),F=tt(l),T=Ze((e=>{if(null==O||O(e),e.defaultPrevented)return;if(!He(e))return;if(!n)return;const{currentTarget:t}=e,i=n.getState(),r=n.item(m),l=!!(null==r?void 0:r.rowId),s="horizontal"!==i.orientation,o="vertical"!==i.orientation,a=()=>!(!l&&!o&&i.baseElement&&Fe(i.baseElement)),c={ArrowUp:(l||s)&&n.up,ArrowRight:(l||o)&&n.next,ArrowDown:(l||s)&&n.down,ArrowLeft:(l||o)&&n.previous,Home:()=>{if(a())return!l||e.ctrlKey?null==n?void 0:n.first():null==n?void 0:n.previous(-1)},End:()=>{if(a())return!l||e.ctrlKey?null==n?void 0:n.last():null==n?void 0:n.next(-1)},PageUp:()=>ci(t,n,null==n?void 0:n.up,!0),PageDown:()=>ci(t,n,null==n?void 0:n.down)}[e.key];if(c){if(Te(t)){const n=Ae(t),i=o&&"ArrowLeft"===e.key,r=o&&"ArrowRight"===e.key,l=s&&"ArrowUp"===e.key,a=s&&"ArrowDown"===e.key;if(r||a){const{length:e}=function(e){if(Fe(e))return e.value;if(e.isContentEditable){const t=Ee(e).createRange();return t.selectNodeContents(e),t.toString()}return""}(t);if(n.end!==e)return}else if((i||l)&&0!==n.start)return}const i=c();if(P(e)||void 0!==i){if(!F(e))return;e.preventDefault(),n.move(i)}}})),A=(0,s.useMemo)((()=>({id:m,baseElement:w})),[m,w]);return d=nt(d,(e=>(0,p.jsx)(xt.Provider,{value:A,children:e})),[A]),d=ie(ne({id:m,"data-active-item":x||void 0},d),{ref:Je(v,d.ref),tabIndex:S?d.tabIndex:-1,onFocus:E,onBlurCapture:V,onKeyDown:T}),d=oi(d),d=ri(ie(ne({store:n},d),{getItem:C,shouldRegisterItem:!!m&&d.shouldRegisterItem})),_e(ie(ne({},d),{"aria-setsize":y,"aria-posinset":_}))}));function di(e){var t;return null!=(t={menu:"menuitem",listbox:"option",tree:"treeitem"}[e])?t:"option"}ct(at((function(e){return ut("button",ui(e))})));var fi=dt((function(e){var t,n=e,{store:i,value:r,hideOnClick:l,setValueOnClick:o,selectValueOnClick:a=!0,resetValueOnSelect:c,focusOnHover:u=!1,moveOnKeyPress:d=!0,getItem:f}=n,m=re(n,["store","value","hideOnClick","setValueOnClick","selectValueOnClick","resetValueOnSelect","focusOnHover","moveOnKeyPress","getItem"]);const v=dn();xe(i=i||v,!1);const{resetValueOnSelectState:g,multiSelectable:h,selected:b}=Lt(i,{resetValueOnSelectState:"resetValueOnSelect",multiSelectable:e=>Array.isArray(e.selectedValue),selected:e=>function(e,t){if(null!=t)return null!=e&&(Array.isArray(e)?e.includes(t):e===t)}(e.selectedValue,r)}),w=(0,s.useCallback)((e=>{const t=ie(ne({},e),{value:r});return f?f(t):t}),[r,f]);o=null!=o?o:!h,l=null!=l?l:null!=r&&!h;const x=m.onClick,y=tt(o),_=tt(a),S=tt(null!=(t=null!=c?c:g)?t:h),C=tt(l),j=Ze((e=>{null==x||x(e),e.defaultPrevented||function(e){const t=e.currentTarget;if(!t)return!1;const n=t.tagName.toLowerCase();return!!e.altKey&&("a"===n||"button"===n&&"submit"===t.type||"input"===n&&"submit"===t.type)}(e)||function(e){const t=e.currentTarget;if(!t)return!1;const n=De();if(n&&!e.metaKey)return!1;if(!n&&!e.ctrlKey)return!1;const i=t.tagName.toLowerCase();return"a"===i||"button"===i&&"submit"===t.type||"input"===i&&"submit"===t.type}(e)||(null!=r&&(_(e)&&(S(e)&&(null==i||i.resetValue()),null==i||i.setSelectedValue((e=>Array.isArray(e)?e.includes(r)?e.filter((e=>e!==r)):[...e,r]:r))),y(e)&&(null==i||i.setValue(r))),C(e)&&(null==i||i.hide()))})),I=m.onKeyDown,E=Ze((e=>{if(null==I||I(e),e.defaultPrevented)return;const t=null==i?void 0:i.getState().baseElement;t&&(kn(t)||(1===e.key.length||"Backspace"===e.key||"Delete"===e.key)&&(queueMicrotask((()=>t.focus())),Fe(t)&&(null==i||i.setValue(t.value))))}));h&&null!=b&&(m=ne({"aria-selected":b},m)),m=nt(m,(e=>(0,p.jsx)(pn.Provider,{value:r,children:(0,p.jsx)(gn.Provider,{value:null!=b&&b,children:e})})),[r,b]);const k=(0,s.useContext)(an);m=ie(ne({role:di(k),children:r},m),{onClick:j,onKeyDown:E});const V=tt(d);return m=ui(ie(ne({store:i},m),{getItem:w,moveOnKeyPress:e=>{if(!V(e))return!1;const t=new Event("combobox-item-move"),n=null==i?void 0:i.getState().baseElement;return null==n||n.dispatchEvent(t),!0}})),ii(ne({store:i,focusOnHover:u},m))})),mi=ct(at((function(e){return ut("div",fi(e))})));function vi(e){return be(e).toLowerCase()}var pi=dt((function(e){var t=e,{store:n,value:i,userValue:r}=t,l=re(t,["store","value","userValue"]);const o=dn();n=n||o;const a=(0,s.useContext)(pn),c=null!=i?i:a,u=Nt(n,(e=>null!=r?r:null==e?void 0:e.value)),d=(0,s.useMemo)((()=>{if(c)return u?function(e,t){if(!e)return e;if(!t)return e;const n=(i=t,Array.isArray(i)?i:void 0!==i?[i]:[]).filter(Boolean).map(vi);var i;const r=[],l=(e,t=!1)=>(0,p.jsx)("span",{"data-autocomplete-value":t?"":void 0,"data-user-value":t?void 0:"",children:e},r.length),s=function(e){return e.sort((([e],[t])=>e-t))}(function(e){return e.filter((([e,t],n,i)=>!i.some((([i,r],l)=>l!==n&&i<=e&&i+r>=e+t))))}(function(e,t){const n=[];for(const i of t){let t=0;const r=i.length;for(;-1!==e.indexOf(i,t);){const l=e.indexOf(i,t);-1!==l&&n.push([l,r]),t=l+1}}return n}(vi(e),new Set(n))));if(!s.length)return r.push(l(e,!0)),r;const[o]=s[0],a=[e.slice(0,o),...s.flatMap((([t,n],i)=>{var r;const l=e.slice(t,t+n),o=null==(r=s[i+1])?void 0:r[0];return[l,e.slice(t+n,o)]}))];return a.forEach(((e,t)=>{e&&r.push(l(e,t%2==0))})),r}(c,u):c}),[c,u]);return _e(l=ne({children:d},l))})),gi=at((function(e){return ut("span",pi(e))}));const hi=window.wp.compose,bi=(0,p.jsx)(v.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,p.jsx)(v.Path,{d:"M16.7 7.1l-6.3 8.5-3.3-2.5-.9 1.2 4.5 3.4L17.9 8z"})}),wi=(0,p.jsx)(v.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,p.jsx)(v.Path,{d:"M13 5c-3.3 0-6 2.7-6 6 0 1.4.5 2.7 1.3 3.7l-3.8 3.8 1.1 1.1 3.8-3.8c1 .8 2.3 1.3 3.7 1.3 3.3 0 6-2.7 6-6S16.3 5 13 5zm0 10.5c-2.5 0-4.5-2-4.5-4.5s2-4.5 4.5-4.5 4.5 2 4.5 4.5-2 4.5-4.5 4.5z"})}),xi=(0,p.jsx)(v.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,p.jsx)(v.Circle,{cx:12,cy:12,r:3})});function yi(e=""){return f()(e.trim().toLowerCase())}const _i=[],Si=(e,t)=>e.singleSelection?t?.value:Array.isArray(t?.value)?t.value:!Array.isArray(t?.value)&&t?.value?[t.value]:_i,Ci=(e,t,n)=>e.singleSelection?n:Array.isArray(t?.value)?t.value.includes(n)?t.value.filter((e=>e!==n)):[...t.value,n]:[n];function ji(e,t){return`${e}-${t}`}function Ii({view:e,filter:t,onChangeView:n}){const i=(0,hi.useInstanceId)(Ii,"dataviews-filter-list-box"),[r,l]=(0,L.useState)(1===t.operators?.length?void 0:null),s=e.filters?.find((e=>e.field===t.field)),o=Si(t,s);return(0,p.jsx)(N.Composite,{virtualFocus:!0,focusLoop:!0,activeId:r,setActiveId:l,role:"listbox",className:"dataviews-filters__search-widget-listbox","aria-label":(0,m.sprintf)(/* translators: List of items for a filter. 1: Filter name. e.g.: "List of: Author". */ /* translators: List of items for a filter. 1: Filter name. e.g.: "List of: Author". */
(0,m.__)("List of: %1$s"),t.name),onFocusVisible:()=>{!r&&t.elements.length&&l(ji(i,t.elements[0].value))},render:(0,p.jsx)(N.Composite.Typeahead,{}),children:t.elements.map((r=>(0,p.jsxs)(N.Composite.Hover,{render:(0,p.jsx)(N.Composite.Item,{id:ji(i,r.value),render:(0,p.jsx)("div",{"aria-label":r.label,role:"option",className:"dataviews-filters__search-widget-listitem"}),onClick:()=>{var i,l;const o=s?[...(null!==(i=e.filters)&&void 0!==i?i:[]).map((e=>e.field===t.field?{...e,operator:s.operator||t.operators[0],value:Ci(t,s,r.value)}:e))]:[...null!==(l=e.filters)&&void 0!==l?l:[],{field:t.field,operator:t.operators[0],value:Ci(t,s,r.value)}];n({...e,page:1,filters:o})}}),children:[(0,p.jsxs)("span",{className:"dataviews-filters__search-widget-listitem-check",children:[t.singleSelection&&o===r.value&&(0,p.jsx)(N.Icon,{icon:xi}),!t.singleSelection&&o.includes(r.value)&&(0,p.jsx)(N.Icon,{icon:bi})]}),(0,p.jsx)("span",{children:r.label})]},r.value)))})}function Ei({view:e,filter:t,onChangeView:n}){const[i,r]=(0,L.useState)(""),l=(0,L.useDeferredValue)(i),s=e.filters?.find((e=>e.field===t.field)),o=Si(t,s),a=(0,L.useMemo)((()=>{const e=yi(l);return t.elements.filter((t=>yi(t.label).includes(e)))}),[t.elements,l]);return(0,p.jsxs)(hn,{selectedValue:o,setSelectedValue:i=>{var r,l;const o=s?[...(null!==(r=e.filters)&&void 0!==r?r:[]).map((e=>e.field===t.field?{...e,operator:s.operator||t.operators[0],value:i}:e))]:[...null!==(l=e.filters)&&void 0!==l?l:[],{field:t.field,operator:t.operators[0],value:i}];n({...e,page:1,filters:o})},setValue:r,children:[(0,p.jsxs)("div",{className:"dataviews-filters__search-widget-filter-combobox__wrapper",children:[(0,p.jsx)(wn,{render:(0,p.jsx)(N.VisuallyHidden,{children:(0,m.__)("Search items")}),children:(0,m.__)("Search items")}),(0,p.jsx)(Wn,{autoSelect:"always",placeholder:(0,m.__)("Search"),className:"dataviews-filters__search-widget-filter-combobox__input"}),(0,p.jsx)("div",{className:"dataviews-filters__search-widget-filter-combobox__icon",children:(0,p.jsx)(N.Icon,{icon:wi})})]}),(0,p.jsxs)(ei,{className:"dataviews-filters__search-widget-filter-combobox-list",alwaysVisible:!0,children:[a.map((e=>(0,p.jsxs)(mi,{resetValueOnSelect:!1,value:e.value,className:"dataviews-filters__search-widget-listitem",hideOnClick:!1,setValueOnClick:!1,focusOnHover:!0,children:[(0,p.jsxs)("span",{className:"dataviews-filters__search-widget-listitem-check",children:[t.singleSelection&&o===e.value&&(0,p.jsx)(N.Icon,{icon:xi}),!t.singleSelection&&o.includes(e.value)&&(0,p.jsx)(N.Icon,{icon:bi})]}),(0,p.jsxs)("span",{children:[(0,p.jsx)(gi,{className:"dataviews-filters__search-widget-filter-combobox-item-value",value:e.label}),!!e.description&&(0,p.jsx)("span",{className:"dataviews-filters__search-widget-listitem-description",children:e.description})]})]},e.value))),!a.length&&(0,p.jsx)("p",{children:(0,m.__)("No results found")})]})]})}function ki(e){const t=e.filter.elements.length>10?Ei:Ii;return(0,p.jsx)(t,{...e})}const Vi="Enter",Oi=" ",Pi=({activeElements:e,filterInView:t,filter:n})=>{if(void 0===e||0===e.length)return n.name;const i={Name:(0,p.jsx)("span",{className:"dataviews-filters__summary-filter-text-name"}),Value:(0,p.jsx)("span",{className:"dataviews-filters__summary-filter-text-value"})};return t?.operator===x?(0,L.createInterpolateElement)((0,m.sprintf)(/* translators: 1: Filter name. 3: Filter value. e.g.: "Author is any: Admin, Editor". */ /* translators: 1: Filter name. 3: Filter value. e.g.: "Author is any: Admin, Editor". */
(0,m.__)("<Name>%1$s is any: </Name><Value>%2$s</Value>"),n.name,e.map((e=>e.label)).join(", ")),i):t?.operator===y?(0,L.createInterpolateElement)((0,m.sprintf)(/* translators: 1: Filter name. 3: Filter value. e.g.: "Author is none: Admin, Editor". */ /* translators: 1: Filter name. 3: Filter value. e.g.: "Author is none: Admin, Editor". */
(0,m.__)("<Name>%1$s is none: </Name><Value>%2$s</Value>"),n.name,e.map((e=>e.label)).join(", ")),i):t?.operator===_?(0,L.createInterpolateElement)((0,m.sprintf)(/* translators: 1: Filter name. 3: Filter value. e.g.: "Author is all: Admin, Editor". */ /* translators: 1: Filter name. 3: Filter value. e.g.: "Author is all: Admin, Editor". */
(0,m.__)("<Name>%1$s is all: </Name><Value>%2$s</Value>"),n.name,e.map((e=>e.label)).join(", ")),i):t?.operator===S?(0,L.createInterpolateElement)((0,m.sprintf)(/* translators: 1: Filter name. 3: Filter value. e.g.: "Author is not all: Admin, Editor". */ /* translators: 1: Filter name. 3: Filter value. e.g.: "Author is not all: Admin, Editor". */
(0,m.__)("<Name>%1$s is not all: </Name><Value>%2$s</Value>"),n.name,e.map((e=>e.label)).join(", ")),i):t?.operator===b?(0,L.createInterpolateElement)((0,m.sprintf)(/* translators: 1: Filter name. 3: Filter value. e.g.: "Author is: Admin". */ /* translators: 1: Filter name. 3: Filter value. e.g.: "Author is: Admin". */
(0,m.__)("<Name>%1$s is: </Name><Value>%2$s</Value>"),n.name,e[0].label),i):t?.operator===w?(0,L.createInterpolateElement)((0,m.sprintf)(/* translators: 1: Filter name. 3: Filter value. e.g.: "Author is not: Admin". */ /* translators: 1: Filter name. 3: Filter value. e.g.: "Author is not: Admin". */
(0,m.__)("<Name>%1$s is not: </Name><Value>%2$s</Value>"),n.name,e[0].label),i):(0,m.sprintf)(/* translators: 1: Filter name e.g.: "Unknown status for Author". */ /* translators: 1: Filter name e.g.: "Unknown status for Author". */
(0,m.__)("Unknown status for %1$s"),n.name)};function Fi({filter:e,view:t,onChangeView:n}){const i=e.operators?.map((e=>({value:e,label:j[e]?.label}))),r=t.filters?.find((t=>t.field===e.field)),l=r?.operator||e.operators[0];return i.length>1&&(0,p.jsxs)(N.__experimentalHStack,{spacing:2,justify:"flex-start",className:"dataviews-filters__summary-operators-container",children:[(0,p.jsx)(N.FlexItem,{className:"dataviews-filters__summary-operators-filter-name",children:e.name}),(0,p.jsx)(N.SelectControl,{label:(0,m.__)("Conditions"),value:l,options:i,onChange:i=>{var l,s;const o=i,a=r?[...(null!==(l=t.filters)&&void 0!==l?l:[]).map((t=>t.field===e.field?{...t,operator:o}:t))]:[...null!==(s=t.filters)&&void 0!==s?s:[],{field:e.field,operator:o,value:void 0}];n({...t,page:1,filters:a})},size:"small",__nextHasNoMarginBottom:!0,hideLabelFromVision:!0})]})}function Ti({addFilterRef:e,openedFilter:t,...n}){const i=(0,L.useRef)(null),{filter:r,view:l,onChangeView:s}=n,o=l.filters?.find((e=>e.field===r.field)),a=r.elements.filter((e=>r.singleSelection?e.value===o?.value:o?.value?.includes(e.value))),c=r.isPrimary,u=void 0!==o?.value,d=!c||u;return(0,p.jsx)(N.Dropdown,{defaultOpen:t===r.field,contentClassName:"dataviews-filters__summary-popover",popoverProps:{placement:"bottom-start",role:"dialog"},onClose:()=>{i.current?.focus()},renderToggle:({isOpen:t,onToggle:n})=>(0,p.jsxs)("div",{className:"dataviews-filters__summary-chip-container",children:[(0,p.jsx)(N.Tooltip,{text:(0,m.sprintf)(/* translators: 1: Filter name. */ /* translators: 1: Filter name. */
(0,m.__)("Filter by: %1$s"),r.name.toLowerCase()),placement:"top",children:(0,p.jsx)("div",{className:$("dataviews-filters__summary-chip",{"has-reset":d,"has-values":u}),role:"button",tabIndex:0,onClick:n,onKeyDown:e=>{[Vi,Oi].includes(e.key)&&(n(),e.preventDefault())},"aria-pressed":t,"aria-expanded":t,ref:i,children:(0,p.jsx)(Pi,{activeElements:a,filterInView:o,filter:r})})}),d&&(0,p.jsx)(N.Tooltip,{text:c?(0,m.__)("Reset"):(0,m.__)("Remove"),placement:"top",children:(0,p.jsx)("button",{className:$("dataviews-filters__summary-chip-remove",{"has-values":u}),onClick:()=>{s({...l,page:1,filters:l.filters?.filter((e=>e.field!==r.field))}),c?i.current?.focus():e.current?.focus()},children:(0,p.jsx)(N.Icon,{icon:q})})})]}),renderContent:()=>(0,p.jsxs)(N.__experimentalVStack,{spacing:0,justify:"flex-start",children:[(0,p.jsx)(Fi,{...n}),(0,p.jsx)(ki,{...n})]})})}const Ai=window.wp.privateApis,{lock:Mi,unlock:Ni}=(0,Ai.__dangerousOptInToUnstableAPIsOnlyForCoreModules)("I acknowledge private features are not for use in themes or plugins and doing so will break in the next version of WordPress.","@wordpress/dataviews"),{Menu:Li}=Ni(N.privateApis);function Di({filters:e,view:t,onChangeView:n,setOpenedFilter:i,trigger:r}){const l=e.filter((e=>!e.isVisible));return(0,p.jsx)(Li,{trigger:r,children:l.map((e=>(0,p.jsx)(Li.Item,{onClick:()=>{i(e.field),n({...t,page:1,filters:[...t.filters||[],{field:e.field,value:void 0,operator:e.operators[0]}]})},children:(0,p.jsx)(Li.ItemLabel,{children:e.name})},e.field)))})}const Bi=(0,L.forwardRef)((function({filters:e,view:t,onChangeView:n,setOpenedFilter:i},r){if(!e.length||e.every((({isPrimary:e})=>e)))return null;const l=e.filter((e=>!e.isVisible));return(0,p.jsx)(Di,{trigger:(0,p.jsx)(N.Button,{accessibleWhenDisabled:!0,size:"compact",className:"dataviews-filters-button",variant:"tertiary",disabled:!l.length,ref:r,children:(0,m.__)("Add filter")}),filters:e,view:t,onChangeView:n,setOpenedFilter:i})}));function Ri({filters:e,view:t,onChangeView:n}){const i=!t.search&&!t.filters?.some((t=>{return void 0!==t.value||(n=t.field,!e.some((e=>e.field===n&&e.isPrimary)));var n}));return(0,p.jsx)(N.Button,{disabled:i,accessibleWhenDisabled:!0,size:"compact",variant:"tertiary",className:"dataviews-filters__reset-button",onClick:()=>{n({...t,page:1,search:"",filters:[]})},children:(0,m.__)("Reset")})}function Hi(e){let t=e.filterBy?.operators;return t&&Array.isArray(t)||(t=[x,y]),t=t.filter((e=>C.includes(e))),(t.includes(b)||t.includes(w))&&(t=t.filter((e=>[b,w].includes(e)))),t}function zi(e,t){return(0,L.useMemo)((()=>{const n=[];return e.forEach((e=>{if(!e.elements?.length)return;const i=Hi(e);if(0===i.length)return;const r=!!e.filterBy?.isPrimary;n.push({field:e.id,name:e.label,elements:e.elements,singleSelection:i.some((e=>[b,w].includes(e))),operators:i,isVisible:r||!!t.filters?.some((t=>t.field===e.id&&C.includes(t.operator))),isPrimary:r})})),n.sort(((e,t)=>e.isPrimary&&!t.isPrimary?-1:!e.isPrimary&&t.isPrimary?1:e.name.localeCompare(t.name))),n}),[e,t])}function Ki({filters:e,view:t,onChangeView:n,setOpenedFilter:i,isShowingFilter:r,setIsShowingFilter:l}){const s=(0,L.useRef)(null),o=(0,L.useCallback)((e=>{n(e),l(!0)}),[n,l]),a=!!e.filter((e=>e.isVisible)).length;if(0===e.length)return null;const c={label:(0,m.__)("Add filter"),"aria-expanded":!1,isPressed:!1},u={label:(0,m._x)("Filter","verb"),"aria-expanded":r,isPressed:r,onClick:()=>{r||i(null),l(!r)}},d=(0,p.jsx)(N.Button,{ref:s,className:"dataviews-filters__visibility-toggle",size:"compact",icon:G,...a?u:c});return(0,p.jsx)("div",{className:"dataviews-filters__container-visibility-toggle",children:a?(0,p.jsx)(Ui,{buttonRef:s,filtersCount:t.filters?.length,children:d}):(0,p.jsx)(Di,{filters:e,view:t,onChangeView:o,setOpenedFilter:i,trigger:d})})}function Ui({buttonRef:e,filtersCount:t,children:n}){return(0,L.useEffect)((()=>()=>{e.current?.focus()}),[e]),(0,p.jsxs)(p.Fragment,{children:[n,!!t&&(0,p.jsx)("span",{className:"dataviews-filters-toggle__count",children:t})]})}const Gi=(0,L.memo)((function(){const{fields:e,view:t,onChangeView:n,openedFilter:i,setOpenedFilter:r}=(0,L.useContext)(U),l=(0,L.useRef)(null),s=zi(e,t),o=(0,p.jsx)(Bi,{filters:s,view:t,onChangeView:n,ref:l,setOpenedFilter:r},"add-filter"),a=s.filter((e=>e.isVisible));if(0===a.length)return null;const c=[...a.map((e=>(0,p.jsx)(Ti,{filter:e,view:t,onChangeView:n,addFilterRef:l,openedFilter:i},e.field))),o];return c.push((0,p.jsx)(Ri,{filters:s,view:t,onChangeView:n},"reset-filters")),(0,p.jsx)(N.__experimentalHStack,{justify:"flex-start",style:{width:"fit-content"},className:"dataviews-filters__container",wrap:!0,children:c})})),Wi=(0,p.jsx)(v.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,p.jsx)(v.Path,{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM5 4.5h14c.3 0 .5.2.5.5v3.5h-15V5c0-.3.2-.5.5-.5zm8 5.5h6.5v3.5H13V10zm-1.5 3.5h-7V10h7v3.5zm-7 5.5v-4h7v4.5H5c-.3 0-.5-.2-.5-.5zm14.5.5h-6V15h6.5v4c0 .3-.2.5-.5.5z"})}),$i=(0,p.jsx)(v.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,p.jsx)(v.Path,{d:"M6 5.5h3a.5.5 0 01.5.5v3a.5.5 0 01-.5.5H6a.5.5 0 01-.5-.5V6a.5.5 0 01.5-.5zM4 6a2 2 0 012-2h3a2 2 0 012 2v3a2 2 0 01-2 2H6a2 2 0 01-2-2V6zm11-.5h3a.5.5 0 01.5.5v3a.5.5 0 01-.5.5h-3a.5.5 0 01-.5-.5V6a.5.5 0 01.5-.5zM13 6a2 2 0 012-2h3a2 2 0 012 2v3a2 2 0 01-2 2h-3a2 2 0 01-2-2V6zm5 8.5h-3a.5.5 0 00-.5.5v3a.5.5 0 00.5.5h3a.5.5 0 00.5-.5v-3a.5.5 0 00-.5-.5zM15 13a2 2 0 00-2 2v3a2 2 0 002 2h3a2 2 0 002-2v-3a2 2 0 00-2-2h-3zm-9 1.5h3a.5.5 0 01.5.5v3a.5.5 0 01-.5.5H6a.5.5 0 01-.5-.5v-3a.5.5 0 01.5-.5zM4 15a2 2 0 012-2h3a2 2 0 012 2v3a2 2 0 01-2 2H6a2 2 0 01-2-2v-3z",fillRule:"evenodd",clipRule:"evenodd"})}),qi=(0,p.jsx)(v.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,p.jsx)(v.Path,{d:"M4 8.8h8.9V7.2H4v1.6zm0 7h8.9v-1.5H4v1.5zM18 13c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-3c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2z"})}),Yi=(0,p.jsx)(v.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,p.jsx)(v.Path,{d:"M11.1 15.8H20v-1.5h-8.9v1.5zm0-8.6v1.5H20V7.2h-8.9zM6 13c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-7c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})});function Xi({selection:e,onChangeSelection:t,item:n,getItemId:i,titleField:r,disabled:l}){const s=i(n),o=!l&&e.includes(s);let a;return a=r?.getValue&&n?(0,m.sprintf)(o?/* translators: %s: item title. */ /* translators: %s: item title. */(0,m.__)("Deselect item: %s"):/* translators: %s: item title. */ /* translators: %s: item title. */(0,m.__)("Select item: %s"),r.getValue({item:n})):o?(0,m.__)("Select a new item"):(0,m.__)("Deselect item"),(0,p.jsx)(N.CheckboxControl,{className:"dataviews-selection-checkbox",__nextHasNoMarginBottom:!0,"aria-label":a,"aria-disabled":l,checked:o,onChange:()=>{l||t(e.includes(s)?e.filter((e=>s!==e)):[...e,s])}})}const Zi=(0,p.jsx)(v.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,p.jsx)(v.Path,{d:"M13 19h-2v-2h2v2zm0-6h-2v-2h2v2zm0-6h-2V5h2v2z"})}),Ji=window.wp.data,{Menu:Qi,kebabCase:er}=Ni(N.privateApis);function tr({action:e,onClick:t,items:n}){const i="string"==typeof e.label?e.label:e.label(n);return(0,p.jsx)(N.Button,{label:i,icon:e.icon,isDestructive:e.isDestructive,size:"compact",onClick:t})}function nr({action:e,onClick:t,items:n}){const i="string"==typeof e.label?e.label:e.label(n);return(0,p.jsx)(Qi.Item,{onClick:t,children:(0,p.jsx)(Qi.ItemLabel,{children:i})})}function ir({action:e,items:t,closeModal:n}){const i="string"==typeof e.label?e.label:e.label(t);return(0,p.jsx)(N.Modal,{title:e.modalHeader||i,__experimentalHideHeader:!!e.hideModalHeader,onRequestClose:n,focusOnMount:"firstContentElement",size:"medium",overlayClassName:`dataviews-action-modal dataviews-action-modal__${er(e.id)}`,children:(0,p.jsx)(e.RenderModal,{items:t,closeModal:n})})}function rr({actions:e,item:t,registry:n,setActiveModalAction:i}){return(0,p.jsx)(Qi.Group,{children:e.map((e=>(0,p.jsx)(nr,{action:e,onClick:()=>{"RenderModal"in e?i(e):e.callback([t],{registry:n})},items:[t]},e.id)))})}function lr({item:e,actions:t,isCompact:n}){const i=(0,Ji.useRegistry)(),{primaryActions:r,eligibleActions:l}=(0,L.useMemo)((()=>{const n=t.filter((t=>!t.isEligible||t.isEligible(e)));return{primaryActions:n.filter((e=>e.isPrimary&&!!e.icon)),eligibleActions:n}}),[t,e]);return n?(0,p.jsx)(sr,{item:e,actions:l,isSmall:!0,registry:i}):function(e,t){return 1===e.length&&1===t.length}(r,t)?(0,p.jsx)(or,{item:e,actions:r,registry:i}):(0,p.jsxs)(N.__experimentalHStack,{spacing:1,justify:"flex-end",className:"dataviews-item-actions",style:{flexShrink:"0",width:"auto"},children:[(0,p.jsx)(or,{item:e,actions:r,registry:i}),(0,p.jsx)(sr,{item:e,actions:l,registry:i})]})}function sr({item:e,actions:t,isSmall:n,registry:i}){const[r,l]=(0,L.useState)(null);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(Qi,{trigger:(0,p.jsx)(N.Button,{size:n?"small":"compact",icon:Zi,label:(0,m.__)("Actions"),accessibleWhenDisabled:!0,disabled:!t.length,className:"dataviews-all-actions-button"}),placement:"bottom-end",children:(0,p.jsx)(rr,{actions:t,item:e,registry:i,setActiveModalAction:l})}),!!r&&(0,p.jsx)(ir,{action:r,items:[e],closeModal:()=>l(null)})]})}function or({item:e,actions:t,registry:n}){const[i,r]=(0,L.useState)(null);return Array.isArray(t)&&0!==t.length?(0,p.jsxs)(p.Fragment,{children:[t.map((t=>(0,p.jsx)(tr,{action:t,onClick:()=>{"RenderModal"in t?r(t):t.callback([e],{registry:n})},items:[e]},t.id))),!!i&&(0,p.jsx)(ir,{action:i,items:[e],closeModal:()=>r(null)})]}):null}function ar({action:e,items:t,ActionTriggerComponent:n}){const[i,r]=(0,L.useState)(!1),l={action:e,onClick:()=>{r(!0)},items:t};return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(n,{...l}),i&&(0,p.jsx)(ir,{action:e,items:t,closeModal:()=>r(!1)})]})}function cr(e,t){return(0,L.useMemo)((()=>e.some((e=>e.supportsBulk&&(!e.isEligible||e.isEligible(t))))),[e,t])}function ur(e,t){return(0,L.useMemo)((()=>t.some((t=>e.some((e=>e.supportsBulk&&(!e.isEligible||e.isEligible(t))))))),[e,t])}function dr({selection:e,onChangeSelection:t,data:n,actions:i,getItemId:r}){const l=(0,L.useMemo)((()=>n.filter((e=>i.some((t=>t.supportsBulk&&(!t.isEligible||t.isEligible(e))))))),[n,i]),s=n.filter((t=>e.includes(r(t))&&l.includes(t))),o=s.length===l.length;return(0,p.jsx)(N.CheckboxControl,{className:"dataviews-view-table-selection-checkbox",__nextHasNoMarginBottom:!0,checked:o,indeterminate:!o&&!!s.length,onChange:()=>{t(o?[]:l.map((e=>r(e))))},"aria-label":o?(0,m.__)("Deselect all"):(0,m.__)("Select all")})}function fr({action:e,onClick:t,isBusy:n,items:i}){const r="string"==typeof e.label?e.label:e.label(i);return(0,p.jsx)(N.Button,{disabled:n,accessibleWhenDisabled:!0,label:r,icon:e.icon,isDestructive:e.isDestructive,size:"compact",onClick:t,isBusy:n,tooltipPosition:"top"})}const mr=[];function vr({action:e,selectedItems:t,actionInProgress:n,setActionInProgress:i}){const r=(0,Ji.useRegistry)(),l=(0,L.useMemo)((()=>t.filter((t=>!e.isEligible||e.isEligible(t)))),[e,t]);return"RenderModal"in e?(0,p.jsx)(ar,{action:e,items:l,ActionTriggerComponent:fr},e.id):(0,p.jsx)(fr,{action:e,onClick:async()=>{i(e.id),await e.callback(t,{registry:r}),i(null)},items:l,isBusy:n===e.id},e.id)}function pr(e,t,n,i,r,l,s,o,a){const c=l.length>0?(0,m.sprintf)(/* translators: %d: number of items. */ /* translators: %d: number of items. */
(0,m._n)("%d Item selected","%d Items selected",l.length),l.length):(0,m.sprintf)(/* translators: %d: number of items. */ /* translators: %d: number of items. */
(0,m._n)("%d Item","%d Items",e.length),e.length);return(0,p.jsxs)(N.__experimentalHStack,{expanded:!1,className:"dataviews-bulk-actions-footer__container",spacing:3,children:[(0,p.jsx)(dr,{selection:i,onChangeSelection:a,data:e,actions:t,getItemId:n}),(0,p.jsx)("span",{className:"dataviews-bulk-actions-footer__item-count",children:c}),(0,p.jsxs)(N.__experimentalHStack,{className:"dataviews-bulk-actions-footer__action-buttons",expanded:!1,spacing:1,children:[r.map((e=>(0,p.jsx)(vr,{action:e,selectedItems:l,actionInProgress:s,setActionInProgress:o},e.id))),l.length>0&&(0,p.jsx)(N.Button,{icon:q,showTooltip:!0,tooltipPosition:"top",size:"compact",label:(0,m.__)("Cancel"),disabled:!!s,accessibleWhenDisabled:!1,onClick:()=>{a(mr)}})]})]})}function gr({selection:e,actions:t,onChangeSelection:n,data:i,getItemId:r}){const[l,s]=(0,L.useState)(null),o=(0,L.useRef)(null),a=(0,L.useMemo)((()=>t.filter((e=>e.supportsBulk))),[t]),c=(0,L.useMemo)((()=>i.filter((e=>a.some((t=>!t.isEligible||t.isEligible(e)))))),[i,a]),u=(0,L.useMemo)((()=>i.filter((t=>e.includes(r(t))&&c.includes(t)))),[e,i,r,c]),d=(0,L.useMemo)((()=>t.filter((e=>e.supportsBulk&&e.icon&&u.some((t=>!e.isEligible||e.isEligible(t)))))),[t,u]);return l?(o.current||(o.current=pr(i,t,r,e,d,u,l,s,n)),o.current):(o.current&&(o.current=null),pr(i,t,r,e,d,u,l,s,n))}function hr(){const{data:e,selection:t,actions:n=mr,onChangeSelection:i,getItemId:r}=(0,L.useContext)(U);return(0,p.jsx)(gr,{selection:t,onChangeSelection:i,data:e,actions:n,getItemId:r})}const br=(0,p.jsx)(v.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,p.jsx)(v.Path,{d:"M20 11.2H6.8l3.7-3.7-1-1L3.9 12l5.6 5.5 1-1-3.7-3.7H20z"})}),wr=(0,p.jsx)(v.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,p.jsx)(v.Path,{d:"m14.5 6.5-1 1 3.7 3.7H4v1.6h13.2l-3.7 3.7 1 1 5.6-5.5z"})}),xr=(0,p.jsx)(v.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,p.jsx)(v.Path,{d:"M20.7 12.7s0-.1-.1-.2c0-.2-.2-.4-.4-.6-.3-.5-.9-1.2-1.6-1.8-.7-.6-1.5-1.3-2.6-1.8l-.6 1.4c.9.4 1.6 1 2.1 1.5.6.6 1.1 1.2 1.4 1.6.1.2.3.4.3.5v.1l.7-.3.7-.3Zm-5.2-9.3-1.8 4c-.5-.1-1.1-.2-1.7-.2-3 0-5.2 1.4-6.6 2.7-.7.7-1.2 1.3-1.6 1.8-.2.3-.3.5-.4.6 0 0 0 .1-.1.2s0 0 .7.3l.7.3V13c0-.1.2-.3.3-.5.3-.4.7-1 1.4-1.6 1.2-1.2 3-2.3 5.5-2.3H13v.3c-.4 0-.8-.1-1.1-.1-1.9 0-3.5 1.6-3.5 3.5s.6 2.3 1.6 2.9l-2 4.4.9.4 7.6-16.2-.9-.4Zm-3 12.6c1.7-.2 3-1.7 3-3.5s-.2-1.4-.6-1.9L12.4 16Z"})}),{Menu:yr}=Ni(N.privateApis);function _r({children:e}){return L.Children.toArray(e).filter(Boolean).map(((e,t)=>(0,p.jsxs)(L.Fragment,{children:[t>0&&(0,p.jsx)(yr.Separator,{}),e]},t)))}const Sr=(0,L.forwardRef)((function({fieldId:e,view:t,fields:n,onChangeView:i,onHide:r,setOpenedFilter:l,canMove:s=!0},o){var a;const c=null!==(a=t.fields)&&void 0!==a?a:[],u=c?.indexOf(e),d=t.sort?.field===e;let f=!1,v=!1,g=!1,h=[];const b=n.find((t=>t.id===e));if(!b)return null;f=!1!==b.enableHiding,v=!1!==b.enableSorting;const w=b.header;return h=Hi(b),g=!(t.filters?.some((t=>e===t.field))||!b.elements?.length||!h.length||b.filterBy?.isPrimary),(0,p.jsx)(yr,{align:"start",trigger:(0,p.jsxs)(N.Button,{size:"compact",className:"dataviews-view-table-header-button",ref:o,variant:"tertiary",children:[w,t.sort&&d&&(0,p.jsx)("span",{"aria-hidden":"true",children:E[t.sort.direction]})]}),style:{minWidth:"240px"},children:(0,p.jsxs)(_r,{children:[v&&(0,p.jsx)(yr.Group,{children:I.map((n=>{const r=t.sort&&d&&t.sort.direction===n,l=`${e}-${n}`;return(0,p.jsx)(yr.RadioItem,{name:"view-table-sorting",value:l,checked:r,onChange:()=>{i({...t,sort:{field:e,direction:n}})},children:(0,p.jsx)(yr.ItemLabel,{children:V[n]})},l)}))}),g&&(0,p.jsx)(yr.Group,{children:(0,p.jsx)(yr.Item,{prefix:(0,p.jsx)(N.Icon,{icon:G}),onClick:()=>{l(e),i({...t,page:1,filters:[...t.filters||[],{field:e,value:void 0,operator:h[0]}]})},children:(0,p.jsx)(yr.ItemLabel,{children:(0,m.__)("Add filter")})})}),(s||f)&&b&&(0,p.jsxs)(yr.Group,{children:[s&&(0,p.jsx)(yr.Item,{prefix:(0,p.jsx)(N.Icon,{icon:br}),disabled:u<1,onClick:()=>{var n;i({...t,fields:[...null!==(n=c.slice(0,u-1))&&void 0!==n?n:[],e,c[u-1],...c.slice(u+1)]})},children:(0,p.jsx)(yr.ItemLabel,{children:(0,m.__)("Move left")})}),s&&(0,p.jsx)(yr.Item,{prefix:(0,p.jsx)(N.Icon,{icon:wr}),disabled:u>=c.length-1,onClick:()=>{var n;i({...t,fields:[...null!==(n=c.slice(0,u))&&void 0!==n?n:[],c[u+1],e,...c.slice(u+2)]})},children:(0,p.jsx)(yr.ItemLabel,{children:(0,m.__)("Move right")})}),f&&b&&(0,p.jsx)(yr.Item,{prefix:(0,p.jsx)(N.Icon,{icon:xr}),onClick:()=>{r(b),i({...t,fields:c.filter((t=>t!==e))})},children:(0,p.jsx)(yr.ItemLabel,{children:(0,m.__)("Hide column")})})]})]})})}));function Cr({item:e,isItemClickable:t,onClickItem:n,className:i}){return t(e)&&n?{className:i?`${i} ${i}--clickable`:void 0,role:"button",tabIndex:0,onClick:t=>{t.stopPropagation(),n(e)},onKeyDown:t=>{"Enter"!==t.key&&""!==t.key&&" "!==t.key||(t.stopPropagation(),n(e))}}:{className:i}}const jr=function({item:e,titleField:t,mediaField:n,descriptionField:i,onClickItem:r,isItemClickable:l}){const s=Cr({item:e,isItemClickable:l,onClickItem:r,className:"dataviews-view-table__cell-content-wrapper dataviews-title-field"});return(0,p.jsxs)(N.__experimentalHStack,{spacing:3,justify:"flex-start",children:[n&&(0,p.jsx)("div",{className:"dataviews-view-table__cell-content-wrapper dataviews-column-primary__media",children:(0,p.jsx)(n.render,{item:e})}),(0,p.jsxs)(N.__experimentalVStack,{spacing:0,children:[t&&(0,p.jsx)("div",{...s,children:(0,p.jsx)(t.render,{item:e})}),i&&(0,p.jsx)(i.render,{item:e})]})]})};function Ir({item:e,fields:t,column:n}){const i=t.find((e=>e.id===n));return i?(0,p.jsx)("div",{className:"dataviews-view-table__cell-content-wrapper",children:(0,p.jsx)(i.render,{item:e})}):null}function Er({hasBulkActions:e,item:t,actions:n,fields:i,id:r,view:l,titleField:s,mediaField:o,descriptionField:a,selection:c,getItemId:u,isItemClickable:d,onClickItem:f,onChangeSelection:m}){var v;const g=cr(n,t),h=g&&c.includes(r),[b,w]=(0,L.useState)(!1),{showTitle:x=!0,showMedia:y=!0,showDescription:_=!0}=l,S=(0,L.useRef)(!1),C=null!==(v=l.fields)&&void 0!==v?v:[],j=s&&x||o&&y||a&&_;return(0,p.jsxs)("tr",{className:$("dataviews-view-table__row",{"is-selected":g&&h,"is-hovered":b,"has-bulk-actions":g}),onMouseEnter:()=>{w(!0)},onMouseLeave:()=>{w(!1)},onTouchStart:()=>{S.current=!0},onClick:()=>{g&&(S.current||"Range"===document.getSelection()?.type||m(c.includes(r)?c.filter((e=>r!==e)):[r]))},children:[e&&(0,p.jsx)("td",{className:"dataviews-view-table__checkbox-column",style:{width:"1%"},children:(0,p.jsx)("div",{className:"dataviews-view-table__cell-content-wrapper",children:(0,p.jsx)(Xi,{item:t,selection:c,onChangeSelection:m,getItemId:u,titleField:s,disabled:!g})})}),j&&(0,p.jsx)("td",{children:(0,p.jsx)(jr,{item:t,titleField:x?s:void 0,mediaField:y?o:void 0,descriptionField:_?a:void 0,isItemClickable:d,onClickItem:f})}),C.map((e=>{var n;const{width:r,maxWidth:s,minWidth:o}=null!==(n=l.layout?.styles?.[e])&&void 0!==n?n:{};return(0,p.jsx)("td",{style:{width:r,maxWidth:s,minWidth:o},children:(0,p.jsx)(Ir,{fields:i,item:t,column:e})},e)})),!!n?.length&&(0,p.jsx)("td",{className:"dataviews-view-table__actions-column",onClick:e=>e.stopPropagation(),children:(0,p.jsx)(lr,{item:t,actions:n})})]})}const kr={xhuge:{min:3,max:6,default:5},huge:{min:2,max:4,default:4},xlarge:{min:2,max:3,default:3},large:{min:1,max:2,default:2},mobile:{min:1,max:2,default:2}};function Vr(){const e=(0,hi.useViewportMatch)("xhuge",">="),t=(0,hi.useViewportMatch)("huge",">="),n=(0,hi.useViewportMatch)("xlarge",">="),i=(0,hi.useViewportMatch)("large",">="),r=(0,hi.useViewportMatch)("mobile",">=");return e?"xhuge":t?"huge":n?"xlarge":i?"large":r?"mobile":null}function Or({view:e,selection:t,onChangeSelection:n,onClickItem:i,isItemClickable:r,getItemId:l,item:s,actions:o,mediaField:a,titleField:c,descriptionField:u,regularFields:d,badgeFields:f}){const{showTitle:v=!0,showMedia:g=!0,showDescription:h=!0}=e,b=cr(o,s),w=l(s),x=(0,hi.useInstanceId)(Or),y=t.includes(w),_=a?.render?(0,p.jsx)(a.render,{item:s}):null,S=v&&c?.render?(0,p.jsx)(c.render,{item:s}):null,C=Cr({item:s,isItemClickable:r,onClickItem:i,className:"dataviews-view-grid__media"}),j=Cr({item:s,isItemClickable:r,onClickItem:i,className:"dataviews-view-grid__title-field dataviews-title-field"});let I,E;return r(s)&&i&&(S?(I={"aria-labelledby":`dataviews-view-grid__title-field-${x}`},E={id:`dataviews-view-grid__title-field-${x}`}):I={"aria-label":(0,m.__)("Navigate to item")}),(0,p.jsxs)(N.__experimentalVStack,{spacing:0,className:$("dataviews-view-grid__card",{"is-selected":b&&y}),onClickCapture:e=>{if(e.ctrlKey||e.metaKey){if(e.stopPropagation(),e.preventDefault(),!b)return;n(t.includes(w)?t.filter((e=>w!==e)):[...t,w])}},children:[g&&_&&(0,p.jsx)("div",{...C,...I,children:_}),g&&_&&(0,p.jsx)(Xi,{item:s,selection:t,onChangeSelection:n,getItemId:l,titleField:c,disabled:!b}),(0,p.jsxs)(N.__experimentalHStack,{justify:"space-between",className:"dataviews-view-grid__title-actions",children:[(0,p.jsx)("div",{...j,...E,children:S}),(0,p.jsx)(lr,{item:s,actions:o,isCompact:!0})]}),(0,p.jsxs)(N.__experimentalVStack,{spacing:1,children:[h&&u?.render&&(0,p.jsx)(u.render,{item:s}),!!f?.length&&(0,p.jsx)(N.__experimentalHStack,{className:"dataviews-view-grid__badge-fields",spacing:2,wrap:!0,alignment:"top",justify:"flex-start",children:f.map((e=>(0,p.jsx)(N.FlexItem,{className:"dataviews-view-grid__field-value",children:(0,p.jsx)(e.render,{item:s})},e.id)))}),!!d?.length&&(0,p.jsx)(N.__experimentalVStack,{className:"dataviews-view-grid__fields",spacing:1,children:d.map((e=>(0,p.jsx)(N.Flex,{className:"dataviews-view-grid__field",gap:1,justify:"flex-start",expanded:!0,style:{height:"auto"},direction:"row",children:(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(N.FlexItem,{className:"dataviews-view-grid__field-name",children:e.header}),(0,p.jsx)(N.FlexItem,{className:"dataviews-view-grid__field-value",style:{maxHeight:"none"},children:(0,p.jsx)(e.render,{item:s})})]})},e.id)))})]})]},w)}const{Menu:Pr}=Ni(N.privateApis);function Fr(e){return`${e}-item-wrapper`}function Tr(e){return`${e}-dropdown`}function Ar({idPrefix:e,primaryAction:t,item:n}){const i=(0,Ji.useRegistry)(),[r,l]=(0,L.useState)(!1),s=function(e,t){return`${e}-primary-action-${t}`}(e,t.id),o="string"==typeof t.label?t.label:t.label([n]);return"RenderModal"in t?(0,p.jsx)("div",{role:"gridcell",children:(0,p.jsx)(N.Composite.Item,{id:s,render:(0,p.jsx)(N.Button,{label:o,icon:t.icon,isDestructive:t.isDestructive,size:"small",onClick:()=>l(!0)}),children:r&&(0,p.jsx)(ir,{action:t,items:[n],closeModal:()=>l(!1)})})},t.id):(0,p.jsx)("div",{role:"gridcell",children:(0,p.jsx)(N.Composite.Item,{id:s,render:(0,p.jsx)(N.Button,{label:o,icon:t.icon,isDestructive:t.isDestructive,size:"small",onClick:()=>{t.callback([n],{registry:i})}})})},t.id)}function Mr({view:e,actions:t,idPrefix:n,isSelected:i,item:r,titleField:l,mediaField:s,descriptionField:o,onSelect:a,otherFields:c,onDropdownTriggerKeyDown:u}){const{showTitle:d=!0,showMedia:f=!0,showDescription:v=!0}=e,g=(0,L.useRef)(null),h=`${n}-label`,b=`${n}-description`,w=(0,Ji.useRegistry)(),[x,y]=(0,L.useState)(!1),[_,S]=(0,L.useState)(null),C=({type:e})=>{y("mouseenter"===e)};(0,L.useEffect)((()=>{i&&g.current?.scrollIntoView({behavior:"auto",block:"nearest",inline:"nearest"})}),[i]);const{primaryAction:j,eligibleActions:I}=(0,L.useMemo)((()=>{const e=t.filter((e=>!e.isEligible||e.isEligible(r)));return{primaryAction:e.filter((e=>e.isPrimary&&!!e.icon))[0],eligibleActions:e}}),[t,r]),E=j&&1===t.length,k=f&&s?.render?(0,p.jsx)("div",{className:"dataviews-view-list__media-wrapper",children:(0,p.jsx)(s.render,{item:r})}):null,V=d&&l?.render?(0,p.jsx)(l.render,{item:r}):null,O=I?.length>0&&(0,p.jsxs)(N.__experimentalHStack,{spacing:3,className:"dataviews-view-list__item-actions",children:[j&&(0,p.jsx)(Ar,{idPrefix:n,primaryAction:j,item:r}),!E&&(0,p.jsxs)("div",{role:"gridcell",children:[(0,p.jsx)(Pr,{trigger:(0,p.jsx)(N.Composite.Item,{id:Tr(n),render:(0,p.jsx)(N.Button,{size:"small",icon:Zi,label:(0,m.__)("Actions"),accessibleWhenDisabled:!0,disabled:!t.length,onKeyDown:u})}),placement:"bottom-end",children:(0,p.jsx)(rr,{actions:I,item:r,registry:w,setActiveModalAction:S})}),!!_&&(0,p.jsx)(ir,{action:_,items:[r],closeModal:()=>S(null)})]})]});return(0,p.jsx)(N.Composite.Row,{ref:g,render:(0,p.jsx)("li",{}),role:"row",className:$({"is-selected":i,"is-hovered":x}),onMouseEnter:C,onMouseLeave:C,children:(0,p.jsxs)(N.__experimentalHStack,{className:"dataviews-view-list__item-wrapper",spacing:0,children:[(0,p.jsx)("div",{role:"gridcell",children:(0,p.jsx)(N.Composite.Item,{id:Fr(n),"aria-pressed":i,"aria-labelledby":h,"aria-describedby":b,className:"dataviews-view-list__item",onClick:()=>a(r)})}),(0,p.jsxs)(N.__experimentalHStack,{spacing:3,justify:"start",alignment:"flex-start",children:[k,(0,p.jsxs)(N.__experimentalVStack,{spacing:1,className:"dataviews-view-list__field-wrapper",children:[(0,p.jsxs)(N.__experimentalHStack,{spacing:0,children:[(0,p.jsx)("div",{className:"dataviews-title-field",id:h,children:V}),O]}),v&&o?.render&&(0,p.jsx)("div",{className:"dataviews-view-list__field",children:(0,p.jsx)(o.render,{item:r})}),(0,p.jsx)("div",{className:"dataviews-view-list__fields",id:b,children:c.map((e=>(0,p.jsxs)("div",{className:"dataviews-view-list__field",children:[(0,p.jsx)(N.VisuallyHidden,{as:"span",className:"dataviews-view-list__field-label",children:e.label}),(0,p.jsx)("span",{className:"dataviews-view-list__field-value",children:(0,p.jsx)(e.render,{item:r})})]},e.id)))})]})]})]})})}function Nr(e){return!!e}const Lr=[{type:P,label:(0,m.__)("Table"),component:function({actions:e,data:t,fields:n,getItemId:i,isLoading:r=!1,onChangeView:l,onChangeSelection:s,selection:o,setOpenedFilter:a,onClickItem:c,isItemClickable:u,view:d}){var f;const v=(0,L.useRef)(new Map),g=(0,L.useRef)(),[h,b]=(0,L.useState)(),w=ur(e,t);(0,L.useEffect)((()=>{g.current&&(g.current.focus(),g.current=void 0)}));const x=(0,L.useId)();if(h)return g.current=h,void b(void 0);const y=e=>{const t=v.current.get(e.id),n=t?v.current.get(t.fallback):void 0;b(n?.node)},_=!!t?.length,S=n.find((e=>e.id===d.titleField)),C=n.find((e=>e.id===d.mediaField)),j=n.find((e=>e.id===d.descriptionField)),{showTitle:I=!0,showMedia:E=!0,showDescription:V=!0}=d,O=S&&I||C&&E||j&&V,P=null!==(f=d.fields)&&void 0!==f?f:[],F=(e,t)=>n=>{n?v.current.set(e,{node:n,fallback:P[t>0?t-1:1]}):v.current.delete(e)};return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("table",{className:$("dataviews-view-table",{[`has-${d.layout?.density}-density`]:d.layout?.density&&["compact","comfortable"].includes(d.layout.density)}),"aria-busy":r,"aria-describedby":x,children:[(0,p.jsx)("thead",{children:(0,p.jsxs)("tr",{className:"dataviews-view-table__row",children:[w&&(0,p.jsx)("th",{className:"dataviews-view-table__checkbox-column",style:{width:"1%"},scope:"col",children:(0,p.jsx)(dr,{selection:o,onChangeSelection:s,data:t,actions:e,getItemId:i})}),O&&(0,p.jsx)("th",{scope:"col",children:(0,p.jsx)("span",{className:"dataviews-view-table-header",children:S&&(0,p.jsx)(Sr,{ref:F(S.id,0),fieldId:S.id,view:d,fields:n,onChangeView:l,onHide:y,setOpenedFilter:a,canMove:!1})})}),P.map(((e,t)=>{var i;const{width:r,maxWidth:s,minWidth:o}=null!==(i=d.layout?.styles?.[e])&&void 0!==i?i:{};return(0,p.jsx)("th",{style:{width:r,maxWidth:s,minWidth:o},"aria-sort":d.sort?.direction&&d.sort?.field===e?k[d.sort.direction]:void 0,scope:"col",children:(0,p.jsx)(Sr,{ref:F(e,t),fieldId:e,view:d,fields:n,onChangeView:l,onHide:y,setOpenedFilter:a})},e)})),!!e?.length&&(0,p.jsx)("th",{className:"dataviews-view-table__actions-column",children:(0,p.jsx)("span",{className:"dataviews-view-table-header",children:(0,m.__)("Actions")})})]})}),(0,p.jsx)("tbody",{children:_&&t.map(((t,r)=>(0,p.jsx)(Er,{item:t,hasBulkActions:w,actions:e,fields:n,id:i(t)||r.toString(),view:d,titleField:S,mediaField:C,descriptionField:j,selection:o,getItemId:i,onChangeSelection:s,onClickItem:c,isItemClickable:u},i(t))))})]}),(0,p.jsx)("div",{className:$({"dataviews-loading":r,"dataviews-no-results":!_&&!r}),id:x,children:!_&&(0,p.jsx)("p",{children:r?(0,p.jsx)(N.Spinner,{}):(0,m.__)("No results")})})]})},icon:Wi,viewConfigOptions:function(){const e=(0,L.useContext)(U),t=e.view;return(0,p.jsxs)(N.__experimentalToggleGroupControl,{__nextHasNoMarginBottom:!0,size:"__unstable-large",label:(0,m.__)("Density"),value:t.layout?.density||"balanced",onChange:n=>{e.onChangeView({...t,layout:{...t.layout,density:n}})},isBlock:!0,children:[(0,p.jsx)(N.__experimentalToggleGroupControlOption,{value:"comfortable",label:(0,m._x)("Comfortable","Density option for DataView layout")},"comfortable"),(0,p.jsx)(N.__experimentalToggleGroupControlOption,{value:"balanced",label:(0,m._x)("Balanced","Density option for DataView layout")},"balanced"),(0,p.jsx)(N.__experimentalToggleGroupControlOption,{value:"compact",label:(0,m._x)("Compact","Density option for DataView layout")},"compact")]})}},{type:F,label:(0,m.__)("Grid"),component:function({actions:e,data:t,fields:n,getItemId:i,isLoading:r,onChangeSelection:l,onClickItem:s,isItemClickable:o,selection:a,view:c}){var u;const d=n.find((e=>e.id===c?.titleField)),f=n.find((e=>e.id===c?.mediaField)),v=n.find((e=>e.id===c?.descriptionField)),g=null!==(u=c.fields)&&void 0!==u?u:[],{regularFields:h,badgeFields:b}=g.reduce(((e,t)=>{const i=n.find((e=>e.id===t));return i?(e[c.layout?.badgeFields?.includes(t)?"badgeFields":"regularFields"].push(i),e):e}),{regularFields:[],badgeFields:[]}),w=!!t?.length,x=function(){const e=Vr(),t=(0,L.useContext)(U).view;return(0,L.useMemo)((()=>{const n=t.layout?.previewSize;let i;if(!e||!n)return;const r=kr[e];return n<r.min&&(i=r.min),n>r.max&&(i=r.max),i}),[e,t])}()||c.layout?.previewSize,y=x?{gridTemplateColumns:`repeat(${x}, minmax(0, 1fr))`}:{};return(0,p.jsxs)(p.Fragment,{children:[w&&(0,p.jsx)(N.__experimentalGrid,{gap:8,columns:2,alignment:"top",className:"dataviews-view-grid",style:y,"aria-busy":r,children:t.map((t=>(0,p.jsx)(Or,{view:c,selection:a,onChangeSelection:l,onClickItem:s,isItemClickable:o,getItemId:i,item:t,actions:e,mediaField:f,titleField:d,descriptionField:v,regularFields:h,badgeFields:b},i(t))))}),!w&&(0,p.jsx)("div",{className:$({"dataviews-loading":r,"dataviews-no-results":!r}),children:(0,p.jsx)("p",{children:r?(0,p.jsx)(N.Spinner,{}):(0,m.__)("No results")})})]})},icon:$i,viewConfigOptions:function(){const e=Vr(),t=(0,L.useContext)(U),n=t.view,i=kr[e||"mobile"],r=n.layout?.previewSize||i.default,l=(0,L.useMemo)((()=>Array.from({length:i.max-i.min+1},((e,t)=>({value:i.min+t})))),[i]);return e?(0,p.jsx)(N.RangeControl,{__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,showTooltip:!1,label:(0,m.__)("Preview size"),value:i.max+i.min-r,marks:l,min:i.min,max:i.max,withInputField:!1,onChange:(e=0)=>{t.onChangeView({...n,layout:{...n.layout,previewSize:i.max+i.min-e}})},step:1}):null}},{type:"list",label:(0,m.__)("List"),component:function e(t){var n;const{actions:i,data:r,fields:l,getItemId:s,isLoading:o,onChangeSelection:a,selection:c,view:u}=t,d=(0,hi.useInstanceId)(e,"view-list"),f=r?.findLast((e=>c.includes(s(e)))),v=l.find((e=>e.id===u.titleField)),g=l.find((e=>e.id===u.mediaField)),h=l.find((e=>e.id===u.descriptionField)),b=(null!==(n=u?.fields)&&void 0!==n?n:[]).map((e=>l.find((t=>e===t.id)))).filter(Nr),w=e=>a([s(e)]),x=(0,L.useCallback)((e=>`${d}-${s(e)}`),[d,s]),y=(0,L.useCallback)(((e,t)=>t.startsWith(x(e))),[x]),[_,S]=(0,L.useState)(void 0);(0,L.useEffect)((()=>{f&&S(Fr(x(f)))}),[f,x]);const C=r.findIndex((e=>y(e,null!=_?_:""))),j=(0,hi.usePrevious)(C),I=-1!==C,E=(0,L.useCallback)(((e,t)=>{const n=Math.min(r.length-1,Math.max(0,e));if(!r[n])return;const i=t(x(r[n]));S(i),document.getElementById(i)?.focus()}),[r,x]);(0,L.useEffect)((()=>{!I&&void 0!==j&&-1!==j&&E(j,Fr)}),[I,E,j]);const k=(0,L.useCallback)((e=>{"ArrowDown"===e.key&&(e.preventDefault(),E(C+1,Tr)),"ArrowUp"===e.key&&(e.preventDefault(),E(C-1,Tr))}),[E,C]),V=r?.length;return V?(0,p.jsx)(N.Composite,{id:d,render:(0,p.jsx)("ul",{}),className:"dataviews-view-list",role:"grid",activeId:_,setActiveId:S,children:r.map((e=>{const t=x(e);return(0,p.jsx)(Mr,{view:u,idPrefix:t,actions:i,item:e,isSelected:e===f,onSelect:w,mediaField:g,titleField:v,descriptionField:h,otherFields:b,onDropdownTriggerKeyDown:k},t)}))}):(0,p.jsx)("div",{className:$({"dataviews-loading":o,"dataviews-no-results":!V&&!o}),children:!V&&(0,p.jsx)("p",{children:o?(0,p.jsx)(N.Spinner,{}):(0,m.__)("No results")})})},icon:(0,m.isRTL)()?qi:Yi}];function Dr(){const{actions:e=[],data:t,fields:n,getItemId:i,isLoading:r,view:l,onChangeView:s,selection:o,onChangeSelection:a,setOpenedFilter:c,onClickItem:u,isItemClickable:d}=(0,L.useContext)(U),f=Lr.find((e=>e.type===l.type))?.component;return(0,p.jsx)(f,{actions:e,data:t,fields:n,getItemId:i,isLoading:r,onChangeView:s,onChangeSelection:a,selection:o,setOpenedFilter:c,onClickItem:u,isItemClickable:d,view:l})}const Br=(0,p.jsx)(v.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,p.jsx)(v.Path,{d:"M6.6 6L5.4 7l4.5 5-4.5 5 1.1 1 5.5-6-5.4-6zm6 0l-1.1 1 4.5 5-4.5 5 1.1 1 5.5-6-5.5-6z"})}),Rr=(0,p.jsx)(v.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,p.jsx)(v.Path,{d:"M11.6 7l-1.1-1L5 12l5.5 6 1.1-1L7 12l4.6-5zm6 0l-1.1-1-5.5 6 5.5 6 1.1-1-4.6-5 4.6-5z"})}),Hr=(0,L.memo)((function(){var e;const{view:t,onChangeView:n,paginationInfo:{totalItems:i=0,totalPages:r}}=(0,L.useContext)(U);if(!i||!r)return null;const l=null!==(e=t.page)&&void 0!==e?e:1,s=Array.from(Array(r)).map(((e,t)=>{const n=t+1;return{value:n.toString(),label:n.toString(),"aria-label":l===n?(0,m.sprintf)(
// translators: Current page number in total number of pages
// translators: Current page number in total number of pages
(0,m.__)("Page %1$s of %2$s"),l,r):n.toString()}}));return!!i&&1!==r&&(0,p.jsxs)(N.__experimentalHStack,{expanded:!1,className:"dataviews-pagination",justify:"end",spacing:6,children:[(0,p.jsx)(N.__experimentalHStack,{justify:"flex-start",expanded:!1,spacing:1,className:"dataviews-pagination__page-select",children:(0,L.createInterpolateElement)((0,m.sprintf)(
// translators: 1: Current page number, 2: Total number of pages.
// translators: 1: Current page number, 2: Total number of pages.
(0,m._x)("<div>Page</div>%1$s<div>of %2$s</div>","paging"),"<CurrentPage />",r),{div:(0,p.jsx)("div",{"aria-hidden":!0}),CurrentPage:(0,p.jsx)(N.SelectControl,{"aria-label":(0,m.__)("Current page"),value:l.toString(),options:s,onChange:e=>{n({...t,page:+e})},size:"small",__nextHasNoMarginBottom:!0,variant:"minimal"})})}),(0,p.jsxs)(N.__experimentalHStack,{expanded:!1,spacing:1,children:[(0,p.jsx)(N.Button,{onClick:()=>n({...t,page:l-1}),disabled:1===l,accessibleWhenDisabled:!0,label:(0,m.__)("Previous page"),icon:(0,m.isRTL)()?Br:Rr,showTooltip:!0,size:"compact",tooltipPosition:"top"}),(0,p.jsx)(N.Button,{onClick:()=>n({...t,page:l+1}),disabled:l>=r,accessibleWhenDisabled:!0,label:(0,m.__)("Next page"),icon:(0,m.isRTL)()?Rr:Br,showTooltip:!0,size:"compact",tooltipPosition:"top"})]})]})})),zr=[];function Kr(){const{view:e,paginationInfo:{totalItems:t=0,totalPages:n},data:i,actions:r=zr}=(0,L.useContext)(U),l=ur(r,i)&&[P,F].includes(e.type);return!t||!n||n<=1&&!l?null:!!t&&(0,p.jsxs)(N.__experimentalHStack,{expanded:!1,justify:"end",className:"dataviews-footer",children:[l&&(0,p.jsx)(hr,{}),(0,p.jsx)(Hr,{})]})}const Ur=(0,L.memo)((function({label:e}){const{view:t,onChangeView:n}=(0,L.useContext)(U),[i,r,l]=(0,hi.useDebouncedInput)(t.search);(0,L.useEffect)((()=>{var e;r(null!==(e=t.search)&&void 0!==e?e:"")}),[t.search,r]);const s=(0,L.useRef)(n),o=(0,L.useRef)(t);(0,L.useEffect)((()=>{s.current=n,o.current=t}),[n,t]),(0,L.useEffect)((()=>{l!==o.current?.search&&s.current({...o.current,page:1,search:l})}),[l]);const a=e||(0,m.__)("Search");return(0,p.jsx)(N.SearchControl,{className:"dataviews-search",__nextHasNoMarginBottom:!0,onChange:r,value:i,label:a,placeholder:a,size:"compact"})})),Gr=(0,p.jsx)(v.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,p.jsx)(v.Path,{d:"M17 10h-1.2V7c0-2.1-1.7-3.8-3.8-3.8-2.1 0-3.8 1.7-3.8 3.8v3H7c-.6 0-1 .4-1 1v8c0 .6.4 1 1 1h10c.6 0 1-.4 1-1v-8c0-.6-.4-1-1-1zm-2.8 0H9.8V7c0-1.2 1-2.2 2.2-2.2s2.2 1 2.2 2.2v3z"})}),Wr=(0,p.jsx)(v.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,p.jsx)(v.Path,{d:"M6.5 12.4L12 8l5.5 4.4-.9 1.2L12 10l-4.5 3.6-1-1.2z"})}),$r=(0,p.jsx)(v.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,p.jsx)(v.Path,{d:"M17.5 11.6L12 16l-5.5-4.4.9-1.2L12 14l4.5-3.6 1 1.2z"})}),qr=(0,p.jsx)(v.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,p.jsx)(v.Path,{d:"M3.99961 13C4.67043 13.3354 4.6703 13.3357 4.67017 13.3359L4.67298 13.3305C4.67621 13.3242 4.68184 13.3135 4.68988 13.2985C4.70595 13.2686 4.7316 13.2218 4.76695 13.1608C4.8377 13.0385 4.94692 12.8592 5.09541 12.6419C5.39312 12.2062 5.84436 11.624 6.45435 11.0431C7.67308 9.88241 9.49719 8.75 11.9996 8.75C14.502 8.75 16.3261 9.88241 17.5449 11.0431C18.1549 11.624 18.6061 12.2062 18.9038 12.6419C19.0523 12.8592 19.1615 13.0385 19.2323 13.1608C19.2676 13.2218 19.2933 13.2686 19.3093 13.2985C19.3174 13.3135 19.323 13.3242 19.3262 13.3305L19.3291 13.3359C19.3289 13.3357 19.3288 13.3354 19.9996 13C20.6704 12.6646 20.6703 12.6643 20.6701 12.664L20.6697 12.6632L20.6688 12.6614L20.6662 12.6563L20.6583 12.6408C20.6517 12.6282 20.6427 12.6108 20.631 12.5892C20.6078 12.5459 20.5744 12.4852 20.5306 12.4096C20.4432 12.2584 20.3141 12.0471 20.1423 11.7956C19.7994 11.2938 19.2819 10.626 18.5794 9.9569C17.1731 8.61759 14.9972 7.25 11.9996 7.25C9.00203 7.25 6.82614 8.61759 5.41987 9.9569C4.71736 10.626 4.19984 11.2938 3.85694 11.7956C3.68511 12.0471 3.55605 12.2584 3.4686 12.4096C3.42484 12.4852 3.39142 12.5459 3.36818 12.5892C3.35656 12.6108 3.34748 12.6282 3.34092 12.6408L3.33297 12.6563L3.33041 12.6614L3.32948 12.6632L3.32911 12.664C3.32894 12.6643 3.32879 12.6646 3.99961 13ZM11.9996 16C13.9326 16 15.4996 14.433 15.4996 12.5C15.4996 10.567 13.9326 9 11.9996 9C10.0666 9 8.49961 10.567 8.49961 12.5C8.49961 14.433 10.0666 16 11.9996 16Z"})}),Yr=(0,p.jsx)(v.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,p.jsx)(v.Path,{fillRule:"evenodd",d:"M10.289 4.836A1 1 0 0111.275 4h1.306a1 1 0 01.987.836l.244 1.466c.787.26 1.503.679 2.108 1.218l1.393-.522a1 1 0 011.216.437l.653 1.13a1 1 0 01-.23 1.273l-1.148.944a6.025 6.025 0 010 2.435l1.149.946a1 1 0 01.23 1.272l-.653 1.13a1 1 0 01-1.216.437l-1.394-.522c-.605.54-1.32.958-2.108 1.218l-.244 1.466a1 1 0 01-.987.836h-1.306a1 1 0 01-.986-.836l-.244-1.466a5.995 5.995 0 01-2.108-1.218l-1.394.522a1 1 0 01-1.217-.436l-.653-1.131a1 1 0 01.23-1.272l1.149-.946a6.026 6.026 0 010-2.435l-1.148-.944a1 1 0 01-.23-1.272l.653-1.131a1 1 0 011.217-.437l1.393.522a5.994 5.994 0 012.108-1.218l.244-1.466zM14.929 12a3 3 0 11-6 0 3 3 0 016 0z",clipRule:"evenodd"})}),Xr=window.wp.warning;var Zr=n.n(Xr);const{Menu:Jr}=Ni(N.privateApis),Qr={className:"dataviews-config__popover",placement:"bottom-end",offset:9};function el({defaultLayouts:e={list:{},grid:{},table:{}}}){const{view:t,onChangeView:n}=(0,L.useContext)(U),i=Object.keys(e);if(i.length<=1)return null;const r=Lr.find((e=>t.type===e.type));return(0,p.jsx)(Jr,{trigger:(0,p.jsx)(N.Button,{size:"compact",icon:r?.icon,label:(0,m.__)("Layout")}),children:i.map((i=>{const r=Lr.find((e=>e.type===i));return r?(0,p.jsx)(Jr.RadioItem,{value:i,name:"view-actions-available-view",checked:i===t.type,hideOnClick:!0,onChange:i=>{switch(i.target.value){case"list":case"grid":case"table":const r={...t};return"layout"in r&&delete r.layout,n({...r,type:i.target.value,...e[i.target.value]})}!0===globalThis.SCRIPT_DEBUG&&Zr()("Invalid dataview")},children:(0,p.jsx)(Jr.ItemLabel,{children:r.label})},i):null}))})}function tl(){const{view:e,fields:t,onChangeView:n}=(0,L.useContext)(U),i=(0,L.useMemo)((()=>t.filter((e=>!1!==e.enableSorting)).map((e=>({label:e.label,value:e.id})))),[t]);return(0,p.jsx)(N.SelectControl,{__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,label:(0,m.__)("Sort by"),value:e.sort?.field,options:i,onChange:t=>{n({...e,sort:{direction:e?.sort?.direction||"desc",field:t}})}})}function nl(){const{view:e,fields:t,onChangeView:n}=(0,L.useContext)(U);if(0===t.filter((e=>!1!==e.enableSorting)).length)return null;let i=e.sort?.direction;return!i&&e.sort?.field&&(i="desc"),(0,p.jsx)(N.__experimentalToggleGroupControl,{className:"dataviews-view-config__sort-direction",__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,isBlock:!0,label:(0,m.__)("Order"),value:i,onChange:i=>{"asc"!==i&&"desc"!==i?!0===globalThis.SCRIPT_DEBUG&&Zr()("Invalid direction"):n({...e,sort:{direction:i,field:e.sort?.field||t.find((e=>!1!==e.enableSorting))?.id||""}})},children:I.map((e=>(0,p.jsx)(N.__experimentalToggleGroupControlOptionIcon,{value:e,icon:O[e],label:V[e]},e)))})}const il=[10,20,50,100];function rl(){const{view:e,onChangeView:t}=(0,L.useContext)(U);return(0,p.jsx)(N.__experimentalToggleGroupControl,{__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,isBlock:!0,label:(0,m.__)("Items per page"),value:e.perPage||10,disabled:!e?.sort?.field,onChange:n=>{const i="number"==typeof n||void 0===n?n:parseInt(n,10);t({...e,perPage:i,page:1})},children:il.map((e=>(0,p.jsx)(N.__experimentalToggleGroupControlOption,{value:e,label:e.toString()},e)))})}function ll({field:e,isVisible:t,isFirst:n,isLast:i,canMove:r=!0,onToggleVisibility:l,onMoveUp:s,onMoveDown:o}){return(0,p.jsx)(N.__experimentalItem,{children:(0,p.jsxs)(N.__experimentalHStack,{expanded:!0,className:`dataviews-field-control__field dataviews-field-control__field-${e.id}`,justify:"flex-start",children:[(0,p.jsx)("span",{className:"dataviews-field-control__icon",children:!r&&!e.enableHiding&&(0,p.jsx)(N.Icon,{icon:Gr})}),(0,p.jsx)("span",{className:"dataviews-field-control__label",children:e.label}),(0,p.jsxs)(N.__experimentalHStack,{justify:"flex-end",expanded:!1,className:"dataviews-field-control__actions",children:[t&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(N.Button,{disabled:n||!r,accessibleWhenDisabled:!0,size:"compact",onClick:s,icon:Wr,label:n||!r?(0,m.__)("This field can't be moved up"):(0,m.sprintf)(/* translators: %s: field label */ /* translators: %s: field label */
(0,m.__)("Move %s up"),e.label)}),(0,p.jsx)(N.Button,{disabled:i||!r,accessibleWhenDisabled:!0,size:"compact",onClick:o,icon:$r,label:i||!r?(0,m.__)("This field can't be moved down"):(0,m.sprintf)(/* translators: %s: field label */ /* translators: %s: field label */
(0,m.__)("Move %s down"),e.label)})]}),l&&(0,p.jsx)(N.Button,{className:"dataviews-field-control__field-visibility-button",disabled:!e.enableHiding,accessibleWhenDisabled:!0,size:"compact",onClick:()=>{l(),setTimeout((()=>{const t=document.querySelector(`.dataviews-field-control__field-${e.id} .dataviews-field-control__field-visibility-button`);t instanceof HTMLElement&&t.focus()}),50)},icon:t?xr:qr,label:t?(0,m.sprintf)(/* translators: %s: field label */ /* translators: %s: field label */
(0,m._x)("Hide %s","field"),e.label):(0,m.sprintf)(/* translators: %s: field label */ /* translators: %s: field label */
(0,m._x)("Show %s","field"),e.label)})]})]})})}function sl({index:e,field:t,view:n,onChangeView:i}){var r;const l=null!==(r=n.fields)&&void 0!==r?r:[],s=void 0!==e&&l.includes(t.id);return(0,p.jsx)(ll,{field:t,isVisible:s,isFirst:void 0!==e&&e<1,isLast:void 0!==e&&e===l.length-1,onToggleVisibility:()=>{i({...n,fields:s?l.filter((e=>e!==t.id)):[...l,t.id]})},onMoveUp:void 0!==e?()=>{var r;i({...n,fields:[...null!==(r=l.slice(0,e-1))&&void 0!==r?r:[],t.id,l[e-1],...l.slice(e+1)]})}:void 0,onMoveDown:void 0!==e?()=>{var r;i({...n,fields:[...null!==(r=l.slice(0,e))&&void 0!==r?r:[],l[e+1],t.id,...l.slice(e+2)]})}:void 0})}function ol(e){return!!e}function al(){var e;const{view:t,fields:n,onChangeView:i}=(0,L.useContext)(U),r=[t?.titleField,t?.mediaField,t?.descriptionField].filter(Boolean),l=null!==(e=t.fields)&&void 0!==e?e:[],s=n.filter((e=>!l.includes(e.id)&&!r.includes(e.id))),o=l.map((e=>n.find((t=>t.id===e)))).filter(ol);if(!o?.length&&!s?.length)return null;const a=[{field:n.find((e=>e.id===t.titleField)),isVisibleFlag:"showTitle"},{field:n.find((e=>e.id===t.mediaField)),isVisibleFlag:"showMedia"},{field:n.find((e=>e.id===t.descriptionField)),isVisibleFlag:"showDescription"}].filter((({field:e})=>ol(e))),c=a.filter((({field:e,isVisibleFlag:n})=>{var i;return ol(e)&&(null===(i=t[n])||void 0===i||i)})),u=a.filter((({field:e,isVisibleFlag:n})=>{var i;return ol(e)&&!(null===(i=t[n])||void 0===i||i)}));return(0,p.jsxs)(N.__experimentalVStack,{className:"dataviews-field-control",spacing:6,children:[(0,p.jsx)(N.__experimentalVStack,{className:"dataviews-view-config__properties",spacing:0,children:(c.length>0||!!o?.length)&&(0,p.jsxs)(N.__experimentalItemGroup,{isBordered:!0,isSeparated:!0,children:[c.map((({field:e,isVisibleFlag:n})=>(0,p.jsx)(ll,{field:e,isVisible:!0,onToggleVisibility:()=>{i({...t,[n]:!1})},canMove:!1},e.id))),o.map(((e,n)=>(0,p.jsx)(sl,{field:e,view:t,onChangeView:i,index:n},e.id)))]})}),(!!s?.length||!!u.length)&&(0,p.jsxs)(N.__experimentalVStack,{spacing:4,children:[(0,p.jsx)(N.BaseControl.VisualLabel,{style:{margin:0},children:(0,m.__)("Hidden")}),(0,p.jsx)(N.__experimentalVStack,{className:"dataviews-view-config__properties",spacing:0,children:(0,p.jsxs)(N.__experimentalItemGroup,{isBordered:!0,isSeparated:!0,children:[u.length>0&&u.map((({field:e,isVisibleFlag:n})=>(0,p.jsx)(ll,{field:e,isVisible:!1,onToggleVisibility:()=>{i({...t,[n]:!0})},canMove:!1},e.id))),s.map((e=>(0,p.jsx)(sl,{field:e,view:t,onChangeView:i},e.id)))]})})]})]})}function cl({title:e,description:t,children:n}){return(0,p.jsxs)(N.__experimentalGrid,{columns:12,className:"dataviews-settings-section",gap:4,children:[(0,p.jsxs)("div",{className:"dataviews-settings-section__sidebar",children:[(0,p.jsx)(N.__experimentalHeading,{level:2,className:"dataviews-settings-section__title",children:e}),t&&(0,p.jsx)(N.__experimentalText,{variant:"muted",className:"dataviews-settings-section__description",children:t})]}),(0,p.jsx)(N.__experimentalGrid,{columns:8,gap:4,className:"dataviews-settings-section__content",children:n})]})}function ul(){const{view:e}=(0,L.useContext)(U),t=(0,hi.useInstanceId)(dl,"dataviews-view-config-dropdown"),n=Lr.find((t=>t.type===e.type));return(0,p.jsx)(N.Dropdown,{expandOnMobile:!0,popoverProps:{...Qr,id:t},renderToggle:({onToggle:e,isOpen:n})=>(0,p.jsx)(N.Button,{size:"compact",icon:Yr,label:(0,m._x)("View options","View is used as a noun"),onClick:e,"aria-expanded":n?"true":"false","aria-controls":t}),renderContent:()=>(0,p.jsx)(N.__experimentalDropdownContentWrapper,{paddingSize:"medium",className:"dataviews-config__popover-content-wrapper",children:(0,p.jsxs)(N.__experimentalVStack,{className:"dataviews-view-config",spacing:6,children:[(0,p.jsxs)(cl,{title:(0,m.__)("Appearance"),children:[(0,p.jsxs)(N.__experimentalHStack,{expanded:!0,className:"is-divided-in-two",children:[(0,p.jsx)(tl,{}),(0,p.jsx)(nl,{})]}),!!n?.viewConfigOptions&&(0,p.jsx)(n.viewConfigOptions,{}),(0,p.jsx)(rl,{})]}),(0,p.jsx)(cl,{title:(0,m.__)("Properties"),children:(0,p.jsx)(al,{})})]})})})}function dl({defaultLayouts:e={list:{},grid:{},table:{}}}){return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(el,{defaultLayouts:e}),(0,p.jsx)(ul,{})]})}const fl=(0,L.memo)(dl),ml=e=>e.id,vl=()=>!0,pl=[];function gl({view:e,onChangeView:t,fields:n,search:i=!0,searchLabel:r,actions:l=pl,data:s,getItemId:o=ml,isLoading:a=!1,paginationInfo:c,defaultLayouts:u,selection:d,onChangeSelection:f,onClickItem:m,isItemClickable:v=vl,header:g}){const[h,b]=(0,L.useState)([]),w=void 0===d||void 0===f,x=w?h:d,[y,_]=(0,L.useState)(null),S=(0,L.useMemo)((()=>H(n)),[n]),C=(0,L.useMemo)((()=>x.filter((e=>s.some((t=>o(t)===e))))),[x,s,o]),j=zi(S,e),[I,E]=(0,L.useState)((()=>(j||[]).some((e=>e.isPrimary))));return(0,p.jsx)(U.Provider,{value:{view:e,onChangeView:t,fields:S,actions:l,data:s,isLoading:a,paginationInfo:c,selection:C,onChangeSelection:function(e){const t="function"==typeof e?e(x):e;w&&b(t),f&&f(t)},openedFilter:y,setOpenedFilter:_,getItemId:o,isItemClickable:v,onClickItem:m},children:(0,p.jsxs)("div",{className:"dataviews-wrapper",children:[(0,p.jsxs)(N.__experimentalHStack,{alignment:"top",justify:"space-between",className:"dataviews__view-actions",spacing:1,children:[(0,p.jsxs)(N.__experimentalHStack,{justify:"start",expanded:!1,className:"dataviews__search",children:[i&&(0,p.jsx)(Ur,{label:r}),(0,p.jsx)(Ki,{filters:j,view:e,onChangeView:t,setOpenedFilter:_,setIsShowingFilter:E,isShowingFilter:I})]}),(0,p.jsxs)(N.__experimentalHStack,{spacing:1,expanded:!1,style:{flexShrink:0},children:[(0,p.jsx)(fl,{defaultLayouts:u}),g]})]}),I&&(0,p.jsx)(Gi,{}),(0,p.jsx)(Dr,{}),(0,p.jsx)(Kr,{})]})})}const hl=window.wp.coreData,bl=({flag:e})=>e.users&&0!==e.users.length?(0,s.createElement)("ul",{style:{margin:0}},e.users?.map((e=>(0,s.createElement)("li",{key:e},(0,s.createElement)(wl,{userId:e}))))):null,wl=({userId:e})=>{var t;const n=(e=>(0,Ji.useSelect)((t=>t(hl.store).getEntityRecord("root","user",e)),[e]))(e);return null!==(t=n?.email)&&void 0!==t?t:""},xl=window.wp.dataControls,yl={SET_FLAGS:"SET_FLAGS",SAVE_SUCCESS:"SAVE_SUCCESS",SAVE_FAILURE:"SAVE_FAILURE"},_l=e=>e&&e.date?new Date(e.date):void 0,Sl=e=>{if("string"==typeof e||null==e)return e},Cl=e=>{if("boolean"==typeof e||null==e)return e},jl=e=>{if("number"==typeof e||null==e)return e},Il=e=>!e.force_disabled&&!e.force_enabled,El=e=>{if("object"!=typeof e||!e)throw new Error("Invalid flag data");if(!("key"in e&&"name"in e&&"description"in e&&"created"in e&&"group"in e&&"force_enabled"in e&&"force_disabled"in e&&"is_published"in e&&"users"in e))throw new Error("Invalid flag data");return{key:Sl(e.key),name:Sl(e.name),description:Sl(e.description),created:Vl(e.created),group:Sl(e.group),force_enabled:Cl(e.force_enabled),force_disabled:Cl(e.force_disabled),is_published:Cl(e.is_published),users:kl(e.users,Sl)}},kl=(e,t)=>{if(Array.isArray(e))return e.map(t).filter((e=>null!=e))},Vl=e=>{if("object"==typeof e&&e&&"date"in e&&"timezone_type"in e&&"timezone"in e)return{date:Sl(e.date),timezone_type:jl(e.timezone_type),timezone:Sl(e.timezone)}},{SET_FLAGS:Ol,SAVE_SUCCESS:Pl,SAVE_FAILURE:Fl}=yl;function Tl(e){return"feature-flags/v1/flags/"+e.key}function Al(e){return{type:Ol,payload:e}}function*Ml(e){try{const t=yield(0,xl.apiFetch)({path:Tl(e)+"",method:"PUT",data:e});if(!t||"object"!=typeof t)throw new Error("Invalid response");return{type:Pl,payload:{flag:El(t)}}}catch(e){return console.error(e),{type:Fl}}}const{SET_FLAGS:Nl,SAVE_SUCCESS:Ll,SAVE_FAILURE:Dl}=yl;function*Bl(){return Al(yield(0,xl.apiFetch)({path:"feature-flags/v1/flags"}))}const Rl=e=>{var t;return null!==(t=e?.flags)&&void 0!==t?t:[]},Hl=e=>{var t;return(null!==(t=e?.flags)&&void 0!==t?t:[]).map((e=>e.group)).filter(((e,t,n)=>n.indexOf(e)===t)).filter((e=>null!=e)).sort()},zl=(0,Ji.createReduxStore)("boxuk/feature-flags",{selectors:l,actions:i,reducer:(e,{type:t,payload:n})=>{switch(t){case Nl:return Array.isArray(n)?{...e,flags:n.map(El)}:{...e};case Ll:if("object"!=typeof n||!n||"flag"in n==0||!n.flag)return{...e};const t=El(n.flag);return{...e,flags:e.flags.map((e=>e.key===t.key?t:e))};default:return e}},resolvers:r,controls:xl.controls});var Kl;function Ul(){return Ul=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ul.apply(null,arguments)}var Gl,Wl=function(e){return s.createElement("svg",Ul({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"#5f6368",viewBox:"0 -960 960 960"},e),Kl||(Kl=s.createElement("path",{d:"m424-296 282-282-56-56-226 226-114-114-56 56zm56 216q-83 0-156-31.5T197-197t-85.5-127T80-480t31.5-156T197-763t127-85.5T480-880t156 31.5T763-763t85.5 127T880-480t-31.5 156T763-197t-127 85.5T480-80m0-80q134 0 227-93t93-227-93-227-227-93-227 93-93 227 93 227 227 93m0-320"})))};function $l(){return $l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},$l.apply(null,arguments)}var ql,Yl=function(e){return s.createElement("svg",$l({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"#5f6368",viewBox:"0 -960 960 960"},e),Gl||(Gl=s.createElement("path",{d:"M480-280v-400q-83 0-141.5 58.5T280-480t58.5 141.5T480-280m0 200q-83 0-156-31.5T197-197t-85.5-127T80-480t31.5-156T197-763t127-85.5T480-880t156 31.5T763-763t85.5 127T880-480t-31.5 156T763-197t-127 85.5T480-80m0-80q134 0 227-93t93-227-93-227-227-93-227 93-93 227 93 227 227 93m0-320"})))};function Xl(){return Xl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Xl.apply(null,arguments)}var Zl,Jl=function(e){return s.createElement("svg",Xl({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"#5f6368",viewBox:"0 -960 960 960"},e),ql||(ql=s.createElement("path",{d:"m320-240 160-122 160 122-60-198 160-114H544l-64-208-64 208H220l160 114zM480-80q-83 0-156-31.5T197-197t-85.5-127T80-480t31.5-156T197-763t127-85.5T480-880t156 31.5T763-763t85.5 127T880-480t-31.5 156T763-197t-127 85.5T480-80m0-80q134 0 227-93t93-227-93-227-227-93-227 93-93 227 93 227 227 93m0-320"})))};function Ql(){return Ql=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ql.apply(null,arguments)}var es,ts=function(e){return s.createElement("svg",Ql({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"#5f6368",viewBox:"0 -960 960 960"},e),Zl||(Zl=s.createElement("path",{d:"M480-280q17 0 28.5-11.5T520-320t-11.5-28.5T480-360t-28.5 11.5T440-320t11.5 28.5T480-280m-40-160h80v-240h-80zm40 360q-83 0-156-31.5T197-197t-85.5-127T80-480t31.5-156T197-763t127-85.5T480-880t156 31.5T763-763t85.5 127T880-480t-31.5 156T763-197t-127 85.5T480-80m0-80q134 0 227-93t93-227-93-227-227-93-227 93-93 227 93 227 227 93m0-320"})))};function ns(){return ns=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ns.apply(null,arguments)}var is=function(e){return s.createElement("svg",ns({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"#5f6368",viewBox:"0 -960 960 960"},e),es||(es=s.createElement("path",{d:"m336-280 144-144 144 144 56-56-144-144 144-144-56-56-144 144-144-144-56 56 144 144-144 144zM480-80q-83 0-156-31.5T197-197t-85.5-127T80-480t31.5-156T197-763t127-85.5T480-880t156 31.5T763-763t85.5 127T880-480t-31.5 156T763-197t-127 85.5T480-80m0-80q134 0 227-93t93-227-93-227-227-93-227 93-93 227 93 227 227 93m0-320"})))};const rs=({flag:e})=>{var t;return e.force_enabled?(0,s.createElement)(N.Flex,{justify:"start"},(0,s.createElement)(Jl,null),(0,s.createElement)("span",null,"Enforced")):e.force_disabled?(0,s.createElement)(N.Flex,{justify:"start"},(0,s.createElement)(ts,null),(0,s.createElement)("span",null,"Disabled")):!e.is_published&&null!==(t=e.users?.length)&&void 0!==t&&t?(0,s.createElement)(N.Flex,{justify:"start"},(0,s.createElement)(Yl,null),(0,s.createElement)("span",null,"Published for ",e.users?.length," users")):e.is_published?(0,s.createElement)(N.Flex,{justify:"start"},(0,s.createElement)(Wl,null),(0,s.createElement)("span",null,"Published")):e.is_published?null:(0,s.createElement)(N.Flex,{justify:"start"},(0,s.createElement)(is,null),(0,s.createElement)("span",null,"Unpublished"))},ls={fields:["name","description","group","created","status","users"],filters:[],page:1,perPage:20,search:"",type:"table"},ss={table:{fields:["key","name","description","created","status","users"],layout:{combinedFields:[{id:"status",label:"Status",children:["is_published","force_enabled","force_disabled"],direction:"horizontal"}]}}};var os;function as(){return as=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},as.apply(null,arguments)}const cs=[{id:"pubish",label:"Publish",isPrimary:!0,icon:(0,s.createElement)(Wl,null),supportsBulk:!0,isEligible:e=>!(e.is_published||!Il(e)),callback:e=>{e.map((e=>(0,Ji.dispatch)(zl).updateFlag({...e,is_published:!0})))},disabled:!0},{id:"manage_users",label:"Manage Flag Users",isPrimary:!0,icon:(0,s.createElement)((function(e){return s.createElement("svg",as({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"#5f6368",viewBox:"0 -960 960 960"},e),os||(os=s.createElement("path",{d:"M234-276q51-39 114-61.5T480-360t132 22.5T726-276q35-41 54.5-93T800-480q0-133-93.5-226.5T480-800t-226.5 93.5T160-480q0 59 19.5 111t54.5 93m246-164q-59 0-99.5-40.5T340-580t40.5-99.5T480-720t99.5 40.5T620-580t-40.5 99.5T480-440m0 360q-83 0-156-31.5T197-197t-85.5-127T80-480t31.5-156T197-763t127-85.5T480-880t156 31.5T763-763t85.5 127T880-480t-31.5 156T763-197t-127 85.5T480-80m0-80q53 0 100-15.5t86-44.5q-39-29-86-44.5T480-280t-100 15.5-86 44.5q39 29 86 44.5T480-160m0-360q26 0 43-17t17-43-17-43-43-17-43 17-17 43 17 43 43 17m0 300"})))}),null),supportsBulk:!0,isEligible:e=>Il(e),RenderModal:({items:e,closeModal:t})=>{const[n,i]=(0,s.useState)(e),{updateFlag:r}=(0,Ji.useDispatch)(zl),l=(0,Ji.useSelect)((e=>e(hl.store).getEntityRecords("root","user",{context:"edit"})),[]),o=(e,t)=>r=>{const l=n.map((n=>{var i;return n.key!==e.key?n:{...n,users:r?[...null!==(i=n.users)&&void 0!==i?i:[],t.id+""]:n.users?.filter((e=>e!==t.id+""))}}));i(l)};return(0,s.createElement)(s.Fragment,null,(0,s.createElement)(N.__experimentalGrid,{columns:n.length+1},(0,s.createElement)(s.Fragment,null,(0,s.createElement)("h4",null,"User"),n.map((e=>(0,s.createElement)("h4",{key:e.key},e.name)))),l?.map((e=>(0,s.createElement)(s.Fragment,{key:e.id},(0,s.createElement)("span",null,e.email),n.map((t=>(0,s.createElement)(N.CheckboxControl,{key:t.key,"aria-label":"Toggle "+t.name+" for "+e.name,checked:t.users?.includes(e.id+""),onChange:o(t,e)}))))))),(0,s.createElement)(N.Flex,{justify:"end",style:{marginTop:"1rem"}},(0,s.createElement)(N.ButtonGroup,null,(0,s.createElement)(N.Button,{variant:"secondary",isDestructive:!0,onClick:t},"Cancel"),(0,s.createElement)(N.Button,{variant:"primary",onClick:()=>{n.forEach(r),t&&t()}},"Save"))))}},{id:"unpublish",label:"Unpublish",isPrimary:!0,icon:(0,s.createElement)(is,null),supportsBulk:!0,isDestructive:!0,isEligible:e=>!(!e.is_published||!Il(e)),callback:e=>{e.map((e=>(0,Ji.dispatch)(zl).updateFlag({...e,is_published:!1})))}}],us=(window.wp.apiFetch,()=>{const[e,t]=((e,t,n=(e=>"object"==typeof e&&null!==e))=>{const[i,r]=(0,s.useState)((()=>{const i=localStorage.getItem(e);if(!i)return t;const r=JSON.parse(i);return n(r)?r:t}));return[i,t=>{r(t),localStorage.setItem(e,JSON.stringify(t))}]})("featureFlagsView",ls),n=(0,Ji.useSelect)((e=>e(zl).getFlags()),[]),i=[{id:"key",label:"Key",type:"text"},{id:"name",label:"Name",enableSorting:!0,enableGlobalSearch:!0,enableHiding:!0},{id:"description",label:"Description",type:"text",enableGlobalSearch:!0},{id:"created",label:"Created",type:"datetime",enableSorting:!0,render:e=>_l(e.item.created)?.toLocaleString(),getValue:({item:e})=>_l(e.created)?.getTime()},{id:"group",label:"Group",type:"text",enableGlobalSearch:!0,enableSorting:!0,filterBy:{isPrimary:!0},elements:(0,Ji.useSelect)((e=>e(zl).getGroups()),[]).map((e=>({label:e,value:e})))},{id:"state",label:"State",render:e=>(0,s.createElement)(rs,{flag:e.item}),elements:[{label:"Published",value:"published"},{label:"Partially Published",value:"partially-published"},{label:"Enforced",value:"enforced"},{label:"Disabled",value:"disabled"},{label:"Unpublished",value:"unpublished"}],getValue:({item:e})=>{var t;return e.force_enabled?"enforced":e.force_disabled?"disabled":!e.is_published&&(null!==(t=e.users?.length)&&void 0!==t?t:0)>0?"partially-published":e.is_published?"published":e.is_published?"":"unpublished"},filterBy:{isPrimary:!0}},{id:"users",label:"Users",enableSorting:!1,render:e=>(0,s.createElement)(bl,{flag:e.item})}],{data:r,paginationInfo:l}=function(e,t,n){if(!e)return{data:K,paginationInfo:{totalItems:0,totalPages:0}};const i=H(n);let r=[...e];if(t.search){const e=z(t.search);r=r.filter((t=>i.filter((e=>e.enableGlobalSearch)).map((e=>z(e.getValue({item:t})))).some((t=>t.includes(e)))))}if(t.filters&&t.filters?.length>0&&t.filters.forEach((e=>{const t=i.find((t=>t.id===e.field));t&&(e.operator===x&&e?.value?.length>0?r=r.filter((n=>{const i=t.getValue({item:n});return Array.isArray(i)?e.value.some((e=>i.includes(e))):"string"==typeof i&&e.value.includes(i)})):e.operator===y&&e?.value?.length>0?r=r.filter((n=>{const i=t.getValue({item:n});return Array.isArray(i)?!e.value.some((e=>i.includes(e))):"string"==typeof i&&!e.value.includes(i)})):e.operator===_&&e?.value?.length>0?r=r.filter((n=>e.value.every((e=>t.getValue({item:n})?.includes(e))))):e.operator===S&&e?.value?.length>0?r=r.filter((n=>e.value.every((e=>!t.getValue({item:n})?.includes(e))))):e.operator===b?r=r.filter((n=>e.value===t.getValue({item:n}))):e.operator===w&&(r=r.filter((n=>e.value!==t.getValue({item:n})))))})),t.sort){const e=t.sort.field,n=i.find((t=>t.id===e));n&&r.sort(((e,i)=>{var r;return n.sort(e,i,null!==(r=t.sort?.direction)&&void 0!==r?r:"desc")}))}let l=r.length,s=1;if(void 0!==t.page&&void 0!==t.perPage){const e=(t.page-1)*t.perPage;l=r?.length||0,s=Math.ceil(l/t.perPage),r=r?.slice(e,e+t.perPage)}return{data:r,paginationInfo:{totalItems:l,totalPages:s}}}(null!=n?n:[],e,i);return(0,s.createElement)(s.Fragment,null,(0,s.createElement)(gl,{isLoading:void 0===n,actions:cs,defaultLayouts:ss,fields:i,view:e,data:r,paginationInfo:l,onChangeView:t,getItemId:e=>(e.key||0).toString()}))});u()((()=>{const e=document.getElementById("boxuk-wp-feature-flags");e&&((0,Ji.register)(zl),(0,a.H)(e).render((0,s.createElement)(us,null)))}))},873:(e,t,n)=>{"use strict";var i=n(795);t.H=i.createRoot,i.hydrateRoot},335:(e,t,n)=>{"use strict";var i=n(609),r=Symbol.for("react.element"),l=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var i,l={},c=null,u=null;for(i in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)s.call(t,i)&&!a.hasOwnProperty(i)&&(l[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps)void 0===l[i]&&(l[i]=t[i]);return{$$typeof:r,type:e,key:c,ref:u,props:l,_owner:o.current}}t.Fragment=l,t.jsx=c,t.jsxs=c},85:(e,t,n)=>{"use strict";e.exports=n(335)},892:e=>{var t={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",Ấ:"A",Ắ:"A",Ẳ:"A",Ẵ:"A",Ặ:"A",Æ:"AE",Ầ:"A",Ằ:"A",Ȃ:"A",Ả:"A",Ạ:"A",Ẩ:"A",Ẫ:"A",Ậ:"A",Ç:"C",Ḉ:"C",È:"E",É:"E",Ê:"E",Ë:"E",Ế:"E",Ḗ:"E",Ề:"E",Ḕ:"E",Ḝ:"E",Ȇ:"E",Ẻ:"E",Ẽ:"E",Ẹ:"E",Ể:"E",Ễ:"E",Ệ:"E",Ì:"I",Í:"I",Î:"I",Ï:"I",Ḯ:"I",Ȋ:"I",Ỉ:"I",Ị:"I",Ð:"D",Ñ:"N",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",Ố:"O",Ṍ:"O",Ṓ:"O",Ȏ:"O",Ỏ:"O",Ọ:"O",Ổ:"O",Ỗ:"O",Ộ:"O",Ờ:"O",Ở:"O",Ỡ:"O",Ớ:"O",Ợ:"O",Ù:"U",Ú:"U",Û:"U",Ü:"U",Ủ:"U",Ụ:"U",Ử:"U",Ữ:"U",Ự:"U",Ý:"Y",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",ấ:"a",ắ:"a",ẳ:"a",ẵ:"a",ặ:"a",æ:"ae",ầ:"a",ằ:"a",ȃ:"a",ả:"a",ạ:"a",ẩ:"a",ẫ:"a",ậ:"a",ç:"c",ḉ:"c",è:"e",é:"e",ê:"e",ë:"e",ế:"e",ḗ:"e",ề:"e",ḕ:"e",ḝ:"e",ȇ:"e",ẻ:"e",ẽ:"e",ẹ:"e",ể:"e",ễ:"e",ệ:"e",ì:"i",í:"i",î:"i",ï:"i",ḯ:"i",ȋ:"i",ỉ:"i",ị:"i",ð:"d",ñ:"n",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",ố:"o",ṍ:"o",ṓ:"o",ȏ:"o",ỏ:"o",ọ:"o",ổ:"o",ỗ:"o",ộ:"o",ờ:"o",ở:"o",ỡ:"o",ớ:"o",ợ:"o",ù:"u",ú:"u",û:"u",ü:"u",ủ:"u",ụ:"u",ử:"u",ữ:"u",ự:"u",ý:"y",ÿ:"y",Ā:"A",ā:"a",Ă:"A",ă:"a",Ą:"A",ą:"a",Ć:"C",ć:"c",Ĉ:"C",ĉ:"c",Ċ:"C",ċ:"c",Č:"C",č:"c",C̆:"C",c̆:"c",Ď:"D",ď:"d",Đ:"D",đ:"d",Ē:"E",ē:"e",Ĕ:"E",ĕ:"e",Ė:"E",ė:"e",Ę:"E",ę:"e",Ě:"E",ě:"e",Ĝ:"G",Ǵ:"G",ĝ:"g",ǵ:"g",Ğ:"G",ğ:"g",Ġ:"G",ġ:"g",Ģ:"G",ģ:"g",Ĥ:"H",ĥ:"h",Ħ:"H",ħ:"h",Ḫ:"H",ḫ:"h",Ĩ:"I",ĩ:"i",Ī:"I",ī:"i",Ĭ:"I",ĭ:"i",Į:"I",į:"i",İ:"I",ı:"i",Ĳ:"IJ",ĳ:"ij",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",Ḱ:"K",ḱ:"k",K̆:"K",k̆:"k",Ĺ:"L",ĺ:"l",Ļ:"L",ļ:"l",Ľ:"L",ľ:"l",Ŀ:"L",ŀ:"l",Ł:"l",ł:"l",Ḿ:"M",ḿ:"m",M̆:"M",m̆:"m",Ń:"N",ń:"n",Ņ:"N",ņ:"n",Ň:"N",ň:"n",ŉ:"n",N̆:"N",n̆:"n",Ō:"O",ō:"o",Ŏ:"O",ŏ:"o",Ő:"O",ő:"o",Œ:"OE",œ:"oe",P̆:"P",p̆:"p",Ŕ:"R",ŕ:"r",Ŗ:"R",ŗ:"r",Ř:"R",ř:"r",R̆:"R",r̆:"r",Ȓ:"R",ȓ:"r",Ś:"S",ś:"s",Ŝ:"S",ŝ:"s",Ş:"S",Ș:"S",ș:"s",ş:"s",Š:"S",š:"s",Ţ:"T",ţ:"t",ț:"t",Ț:"T",Ť:"T",ť:"t",Ŧ:"T",ŧ:"t",T̆:"T",t̆:"t",Ũ:"U",ũ:"u",Ū:"U",ū:"u",Ŭ:"U",ŭ:"u",Ů:"U",ů:"u",Ű:"U",ű:"u",Ų:"U",ų:"u",Ȗ:"U",ȗ:"u",V̆:"V",v̆:"v",Ŵ:"W",ŵ:"w",Ẃ:"W",ẃ:"w",X̆:"X",x̆:"x",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Y̆:"Y",y̆:"y",Ź:"Z",ź:"z",Ż:"Z",ż:"z",Ž:"Z",ž:"z",ſ:"s",ƒ:"f",Ơ:"O",ơ:"o",Ư:"U",ư:"u",Ǎ:"A",ǎ:"a",Ǐ:"I",ǐ:"i",Ǒ:"O",ǒ:"o",Ǔ:"U",ǔ:"u",Ǖ:"U",ǖ:"u",Ǘ:"U",ǘ:"u",Ǚ:"U",ǚ:"u",Ǜ:"U",ǜ:"u",Ứ:"U",ứ:"u",Ṹ:"U",ṹ:"u",Ǻ:"A",ǻ:"a",Ǽ:"AE",ǽ:"ae",Ǿ:"O",ǿ:"o",Þ:"TH",þ:"th",Ṕ:"P",ṕ:"p",Ṥ:"S",ṥ:"s",X́:"X",x́:"x",Ѓ:"Г",ѓ:"г",Ќ:"К",ќ:"к",A̋:"A",a̋:"a",E̋:"E",e̋:"e",I̋:"I",i̋:"i",Ǹ:"N",ǹ:"n",Ồ:"O",ồ:"o",Ṑ:"O",ṑ:"o",Ừ:"U",ừ:"u",Ẁ:"W",ẁ:"w",Ỳ:"Y",ỳ:"y",Ȁ:"A",ȁ:"a",Ȅ:"E",ȅ:"e",Ȉ:"I",ȉ:"i",Ȍ:"O",ȍ:"o",Ȑ:"R",ȑ:"r",Ȕ:"U",ȕ:"u",B̌:"B",b̌:"b",Č̣:"C",č̣:"c",Ê̌:"E",ê̌:"e",F̌:"F",f̌:"f",Ǧ:"G",ǧ:"g",Ȟ:"H",ȟ:"h",J̌:"J",ǰ:"j",Ǩ:"K",ǩ:"k",M̌:"M",m̌:"m",P̌:"P",p̌:"p",Q̌:"Q",q̌:"q",Ř̩:"R",ř̩:"r",Ṧ:"S",ṧ:"s",V̌:"V",v̌:"v",W̌:"W",w̌:"w",X̌:"X",x̌:"x",Y̌:"Y",y̌:"y",A̧:"A",a̧:"a",B̧:"B",b̧:"b",Ḑ:"D",ḑ:"d",Ȩ:"E",ȩ:"e",Ɛ̧:"E",ɛ̧:"e",Ḩ:"H",ḩ:"h",I̧:"I",i̧:"i",Ɨ̧:"I",ɨ̧:"i",M̧:"M",m̧:"m",O̧:"O",o̧:"o",Q̧:"Q",q̧:"q",U̧:"U",u̧:"u",X̧:"X",x̧:"x",Z̧:"Z",z̧:"z",й:"и",Й:"И",ё:"е",Ё:"Е"},n=Object.keys(t).join("|"),i=new RegExp(n,"g"),r=new RegExp(n,"");function l(e){return t[e]}var s=function(e){return e.replace(i,l)};e.exports=s,e.exports.has=function(e){return!!e.match(r)},e.exports.remove=s},26:(e,t,n)=>{"use strict";var i=n(609),r="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},l=i.useState,s=i.useEffect,o=i.useLayoutEffect,a=i.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!r(e,n)}catch(e){return!0}}var u="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),i=l({inst:{value:n,getSnapshot:t}}),r=i[0].inst,u=i[1];return o((function(){r.value=n,r.getSnapshot=t,c(r)&&u({inst:r})}),[e,n,t]),s((function(){return c(r)&&u({inst:r}),e((function(){c(r)&&u({inst:r})}))}),[e]),a(n),n};t.useSyncExternalStore=void 0!==i.useSyncExternalStore?i.useSyncExternalStore:u},139:(e,t,n)=>{"use strict";e.exports=n(26)},609:e=>{"use strict";e.exports=window.React},795:e=>{"use strict";e.exports=window.ReactDOM}},r={};function l(e){var t=r[e];if(void 0!==t)return t.exports;var n=r[e]={exports:{}};return i[e](n,n.exports,l),n.exports}l.m=i,e=[],l.O=(t,n,i,r)=>{if(!n){var s=1/0;for(u=0;u<e.length;u++){for(var[n,i,r]=e[u],o=!0,a=0;a<n.length;a++)(!1&r||s>=r)&&Object.keys(l.O).every((e=>l.O[e](n[a])))?n.splice(a--,1):(o=!1,r<s&&(s=r));if(o){e.splice(u--,1);var c=i();void 0!==c&&(t=c)}}return t}r=r||0;for(var u=e.length;u>0&&e[u-1][2]>r;u--)e[u]=e[u-1];e[u]=[n,i,r]},l.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return l.d(t,{a:t}),t},n=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,l.t=function(e,i){if(1&i&&(e=this(e)),8&i)return e;if("object"==typeof e&&e){if(4&i&&e.__esModule)return e;if(16&i&&"function"==typeof e.then)return e}var r=Object.create(null);l.r(r);var s={};t=t||[null,n({}),n([]),n(n)];for(var o=2&i&&e;"object"==typeof o&&!~t.indexOf(o);o=n(o))Object.getOwnPropertyNames(o).forEach((t=>s[t]=()=>e[t]));return s.default=()=>e,l.d(r,s),r},l.d=(e,t)=>{for(var n in t)l.o(t,n)&&!l.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),l.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={57:0,350:0};l.O.j=t=>0===e[t];var t=(t,n)=>{var i,r,[s,o,a]=n,c=0;if(s.some((t=>0!==e[t]))){for(i in o)l.o(o,i)&&(l.m[i]=o[i]);if(a)var u=a(l)}for(t&&t(n);c<s.length;c++)r=s[c],l.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return l.O(u)},n=globalThis.webpackChunk_boxuk_wp_feature_flags=globalThis.webpackChunk_boxuk_wp_feature_flags||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var s=l.O(void 0,[350],(()=>l(550)));s=l.O(s)})();