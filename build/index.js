(()=>{var e,t,n,r={224:(e,t,n)=>{"use strict";var r={};n.r(r),n.d(r,{setFlags:()=>bo,updateFlag:()=>xo});var i={};n.r(i),n.d(i,{getFlags:()=>_o});var o={};n.r(o),n.d(o,{getFlags:()=>Eo,getGroups:()=>Co});var s=n(609),l=n.t(s,2),a=n(873);const u=window.wp.domReady;var c=n.n(u),d=n(892),f=n.n(d);const m=window.wp.i18n,v="is",p="isNot",h="isAny",g="isNone",w="isAll",b="isNotAll",x=[v,p,h,g,w,b],y={[v]:{key:"is-filter",label:(0,m.__)("Is")},[p]:{key:"is-not-filter",label:(0,m.__)("Is not")},[h]:{key:"is-any-filter",label:(0,m.__)("Is any")},[g]:{key:"is-none-filter",label:(0,m.__)("Is none")},[w]:{key:"is-all-filter",label:(0,m.__)("Is all")},[b]:{key:"is-not-all-filter",label:(0,m.__)("Is not all")}},j=["asc","desc"],S={asc:"↑",desc:"↓"},_={asc:"ascending",desc:"descending"},E={asc:(0,m.__)("Sort ascending"),desc:(0,m.__)("Sort descending")},C="table",I="grid";function k(e){return e.map((e=>{const t=e.getValue||(({item:t})=>t[e.id]);return{...e,header:e.header||e.id,getValue:t,render:e.render||t}}))}function V(e=""){return f()(e.trim().toLowerCase())}const O=[],P=window.wp.components,A=window.wp.element,M=window.wp.primitives,F=window.ReactJSXRuntime,T=(0,F.jsx)(M.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,F.jsx)(M.Path,{d:"M14.6 7l-1.2-1L8 12l5.4 6 1.2-1-4.6-5z"})}),N=(0,F.jsx)(M.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,F.jsx)(M.Path,{d:"M10.6 6L9.4 7l4.6 5-4.6 5 1.2 1 5.4-6z"})}),D=(0,A.memo)((function({view:e,onChangeView:t,paginationInfo:{totalItems:n=0,totalPages:r}}){var i;if(!n||!r)return null;const o=null!==(i=e.page)&&void 0!==i?i:1;return!!n&&1!==r&&(0,F.jsxs)(P.__experimentalHStack,{expanded:!1,spacing:6,justify:"end",className:"dataviews-pagination",children:[(0,F.jsx)(P.__experimentalHStack,{justify:"flex-start",expanded:!1,spacing:2,className:"dataviews-pagination__page-selection",children:(0,A.createInterpolateElement)((0,m.sprintf)(
// translators: %s: Total number of pages.
// translators: %s: Total number of pages.
(0,m._x)("Page <CurrentPageControl /> of %s","paging"),r),{CurrentPageControl:(0,F.jsx)(P.SelectControl,{"aria-label":(0,m.__)("Current page"),value:e.page?.toString(),options:Array.from(Array(r)).map(((e,t)=>{const n=t+1;return{value:n.toString(),label:n.toString()}})),onChange:n=>{t({...e,page:+n})},size:"compact",__nextHasNoMarginBottom:!0})})}),(0,F.jsxs)(P.__experimentalHStack,{expanded:!1,spacing:1,children:[(0,F.jsx)(P.Button,{onClick:()=>t({...e,page:o-1}),disabled:1===o,__experimentalIsFocusable:!0,label:(0,m.__)("Previous page"),icon:T,showTooltip:!0,size:"compact",tooltipPosition:"top"}),(0,F.jsx)(P.Button,{onClick:()=>t({...e,page:o+1}),disabled:o>=r,__experimentalIsFocusable:!0,label:(0,m.__)("Next page"),icon:N,showTooltip:!0,size:"compact",tooltipPosition:"top"})]})]})})),L=(0,F.jsxs)(M.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[(0,F.jsx)(M.Path,{d:"m19 7.5h-7.628c-.3089-.87389-1.1423-1.5-2.122-1.5-.97966 0-1.81309.62611-2.12197 1.5h-2.12803v1.5h2.12803c.30888.87389 1.14231 1.5 2.12197 1.5.9797 0 1.8131-.62611 2.122-1.5h7.628z"}),(0,F.jsx)(M.Path,{d:"m19 15h-2.128c-.3089-.8739-1.1423-1.5-2.122-1.5s-1.8131.6261-2.122 1.5h-7.628v1.5h7.628c.3089.8739 1.1423 1.5 2.122 1.5s1.8131-.6261 2.122-1.5h2.128z"})]}),B=window.wp.privateApis,{lock:R,unlock:H}=(0,B.__dangerousOptInToUnstableAPIsOnlyForCoreModules)("I acknowledge private features are not for use in themes or plugins and doing so will break in the next version of WordPress.","@wordpress/dataviews"),z=(0,F.jsx)(M.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,F.jsx)(M.Path,{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM5 4.5h14c.3 0 .5.2.5.5v3.5h-15V5c0-.3.2-.5.5-.5zm8 5.5h6.5v3.5H13V10zm-1.5 3.5h-7V10h7v3.5zm-7 5.5v-4h7v4.5H5c-.3 0-.5-.2-.5-.5zm14.5.5h-6V15h6.5v4c0 .3-.2.5-.5.5z"})}),K=(0,F.jsx)(M.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,F.jsx)(M.Path,{d:"M6 5.5h3a.5.5 0 01.5.5v3a.5.5 0 01-.5.5H6a.5.5 0 01-.5-.5V6a.5.5 0 01.5-.5zM4 6a2 2 0 012-2h3a2 2 0 012 2v3a2 2 0 01-2 2H6a2 2 0 01-2-2V6zm11-.5h3a.5.5 0 01.5.5v3a.5.5 0 01-.5.5h-3a.5.5 0 01-.5-.5V6a.5.5 0 01.5-.5zM13 6a2 2 0 012-2h3a2 2 0 012 2v3a2 2 0 01-2 2h-3a2 2 0 01-2-2V6zm5 8.5h-3a.5.5 0 00-.5.5v3a.5.5 0 00.5.5h3a.5.5 0 00.5-.5v-3a.5.5 0 00-.5-.5zM15 13a2 2 0 00-2 2v3a2 2 0 002 2h3a2 2 0 002-2v-3a2 2 0 00-2-2h-3zm-9 1.5h3a.5.5 0 01.5.5v3a.5.5 0 01-.5.5H6a.5.5 0 01-.5-.5v-3a.5.5 0 01.5-.5zM4 15a2 2 0 012-2h3a2 2 0 012 2v3a2 2 0 01-2 2H6a2 2 0 01-2-2v-3z",fillRule:"evenodd",clipRule:"evenodd"})}),U=(0,F.jsx)(M.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,F.jsx)(M.Path,{d:"M4 8.8h8.9V7.2H4v1.6zm0 7h8.9v-1.5H4v1.5zM18 13c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-3c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2z"})}),q=(0,F.jsx)(M.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,F.jsx)(M.Path,{d:"M11.1 15.8H20v-1.5h-8.9v1.5zm0-8.6v1.5H20V7.2h-8.9zM6 13c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-7c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})});function G(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=G(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}const W=function(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=G(e))&&(r&&(r+=" "),r+=t);return r},$=(0,F.jsx)(M.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,F.jsx)(M.Path,{d:"M10 17.5H14V16H10V17.5ZM6 6V7.5H18V6H6ZM8 12.5H16V11H8V12.5Z"})}),Y=(0,F.jsx)(M.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,F.jsx)(M.Path,{d:"M4.67 10.664s-2.09 1.11-2.917 1.582l.494.87 1.608-.914.002.002c.343.502.86 1.17 1.563 1.84.348.33.742.663 1.185.976L5.57 16.744l.858.515 1.02-1.701a9.1 9.1 0 0 0 4.051 1.18V19h1v-2.263a9.1 9.1 0 0 0 4.05-1.18l1.021 1.7.858-.514-1.034-1.723c.442-.313.837-.646 1.184-.977.703-.669 1.22-1.337 1.563-1.839l.002-.003 1.61.914.493-.87c-1.75-.994-2.918-1.58-2.918-1.58l-.003.005a8.29 8.29 0 0 1-.422.689 10.097 10.097 0 0 1-1.36 1.598c-1.218 1.16-3.042 2.293-5.544 2.293-2.503 0-4.327-1.132-5.546-2.293a10.099 10.099 0 0 1-1.359-1.599 8.267 8.267 0 0 1-.422-.689l-.003-.005Z"})});function X({selection:e,onSelectionChange:t,item:n,data:r,getItemId:i,primaryField:o,disabled:s}){const l=i(n),a=!s&&e.includes(l);let u;return u=o?.getValue&&n?(0,m.sprintf)(/* translators: %s: item title. */
a?(0,m.__)("Deselect item: %s"):(0,m.__)("Select item: %s"),o.getValue({item:n})):a?(0,m.__)("Select a new item"):(0,m.__)("Deselect item"),(0,F.jsx)(P.CheckboxControl,{className:"dataviews-view-table-selection-checkbox",__nextHasNoMarginBottom:!0,"aria-label":u,"aria-disabled":s,checked:a,onChange:()=>{s||t(a?r.filter((t=>{const n=i?.(t);return n!==l&&e.includes(n)})):r.filter((t=>{const n=i?.(t);return n===l||e.includes(n)})))}})}const Z=(0,F.jsx)(M.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,F.jsx)(M.Path,{d:"M13 19h-2v-2h2v2zm0-6h-2v-2h2v2zm0-6h-2V5h2v2z"})}),{DropdownMenuV2:J,DropdownMenuGroupV2:Q,DropdownMenuItemV2:ee,DropdownMenuItemLabelV2:te,kebabCase:ne}=H(P.privateApis);function re({action:e,onClick:t,items:n}){const r="string"==typeof e.label?e.label:e.label(n);return(0,F.jsx)(P.Button,{label:r,icon:e.icon,isDestructive:e.isDestructive,size:"compact",onClick:t})}function ie({action:e,onClick:t,items:n}){const r="string"==typeof e.label?e.label:e.label(n);return(0,F.jsx)(ee,{onClick:t,hideOnClick:!("RenderModal"in e),children:(0,F.jsx)(te,{children:r})})}function oe({action:e,items:t,closeModal:n}){const r="string"==typeof e.label?e.label:e.label(t);return(0,F.jsx)(P.Modal,{title:e.modalHeader||r,__experimentalHideHeader:!!e.hideModalHeader,onRequestClose:null!=n?n:()=>{},overlayClassName:`dataviews-action-modal dataviews-action-modal__${ne(e.id)}`,children:(0,F.jsx)(e.RenderModal,{items:t,closeModal:n,onActionStart:e.onActionStart,onActionPerformed:e.onActionPerformed})})}function se({action:e,items:t,ActionTrigger:n,isBusy:r}){const[i,o]=(0,A.useState)(!1),s={action:e,onClick:()=>{o(!0)},items:t,isBusy:r};return(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(n,{...s}),i&&(0,F.jsx)(oe,{action:e,items:t,closeModal:()=>o(!1)})]})}function le({actions:e,item:t}){return(0,F.jsx)(Q,{children:e.map((e=>"RenderModal"in e?(0,F.jsx)(se,{action:e,items:[t],ActionTrigger:ie},e.id):(0,F.jsx)(ie,{action:e,onClick:()=>e.callback([t]),items:[t]},e.id)))})}function ae({item:e,actions:t,isCompact:n}){const{primaryActions:r,eligibleActions:i}=(0,A.useMemo)((()=>{const n=t.filter((t=>!t.isEligible||t.isEligible(e)));return{primaryActions:n.filter((e=>e.isPrimary&&!!e.icon)),eligibleActions:n}}),[t,e]);return n?(0,F.jsx)(ue,{item:e,actions:i}):(0,F.jsxs)(P.__experimentalHStack,{spacing:1,justify:"flex-end",className:"dataviews-item-actions",style:{flexShrink:"0",width:"auto"},children:[!!r.length&&r.map((t=>"RenderModal"in t?(0,F.jsx)(se,{action:t,items:[e],ActionTrigger:re},t.id):(0,F.jsx)(re,{action:t,onClick:()=>t.callback([e]),items:[e]},t.id))),(0,F.jsx)(ue,{item:e,actions:i})]})}function ue({item:e,actions:t}){return(0,F.jsx)(J,{trigger:(0,F.jsx)(P.Button,{size:"compact",icon:Z,label:(0,m.__)("Actions"),__experimentalIsFocusable:!0,disabled:!t.length,className:"dataviews-all-actions-button"}),placement:"bottom-end",children:(0,F.jsx)(le,{actions:t,item:e})})}function ce(e){let t=e.filterBy?.operators;return t&&Array.isArray(t)||(t=[h,g]),t=t.filter((e=>x.includes(e))),(t.includes(v)||t.includes(p))&&(t=t.filter((e=>[v,p].includes(e)))),t}const{DropdownMenuV2:de,DropdownMenuGroupV2:fe,DropdownMenuItemV2:me,DropdownMenuSeparatorV2:ve}=H(P.privateApis);function pe(e,t){return(0,A.useMemo)((()=>e.some((e=>e.supportsBulk&&(!e.isEligible||e.isEligible(t))))),[e,t])}function he({action:e,selectedItems:t,setActionWithModal:n,onMenuOpenChange:r}){const i=(0,A.useMemo)((()=>t.filter((t=>!e.isEligible||e.isEligible(t)))),[e,t]),{RenderModal:o,hideModalHeader:s}=e,l=(0,A.useCallback)((()=>{n(void 0)}),[n]);if(!i.length)return null;const a="string"==typeof e.label?e.label:e.label(t);return(0,F.jsx)(P.Modal,{title:s?void 0:a,__experimentalHideHeader:!!s,onRequestClose:l,overlayClassName:"dataviews-action-modal",children:(0,F.jsx)(o,{items:i,closeModal:l,onActionPerformed:()=>r(!1)})})}function ge({action:e,selectedItems:t,setActionWithModal:n}){const r=(0,A.useMemo)((()=>t.filter((t=>!e.isEligible||e.isEligible(t)))),[e,t]),i="RenderModal"in e;return(0,F.jsx)(me,{disabled:0===r.length,hideOnClick:!i,onClick:async()=>{i?n(e):await e.callback(r)},suffix:r.length>0?r.length:void 0,children:e.label},e.id)}function we({actions:e,selectedItems:t,setActionWithModal:n}){return(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(fe,{children:e.map((e=>(0,F.jsx)(ge,{action:e,selectedItems:t,setActionWithModal:n},e.id)))}),(0,F.jsx)(ve,{})]})}function be({data:e,actions:t,selection:n,onSelectionChange:r,getItemId:i}){const o=(0,A.useMemo)((()=>t.filter((e=>e.supportsBulk))),[t]),[s,l]=(0,A.useState)(!1),[a,u]=(0,A.useState)(),c=(0,A.useMemo)((()=>e.filter((e=>o.some((t=>!t.isEligible||t.isEligible(e)))))),[e,o]),d=c.length,f=(0,A.useMemo)((()=>e.filter((e=>n.includes(i(e))&&c.includes(e)))),[n,e,i,c]),v=f.length===d;return 0===o.length?null:(0,F.jsxs)(F.Fragment,{children:[(0,F.jsxs)(de,{open:s,onOpenChange:l,label:(0,m.__)("Bulk actions"),style:{minWidth:"240px"},trigger:(0,F.jsx)(P.Button,{className:"dataviews-bulk-edit-button",__next40pxDefaultSize:!0,variant:"tertiary",size:"compact",children:f.length?(0,m.sprintf)(/* translators: %d: Number of items. */ /* translators: %d: Number of items. */
(0,m._n)("Edit %d item","Edit %d items",f.length),f.length):(0,m.__)("Bulk edit")}),children:[(0,F.jsx)(we,{actions:o,setActionWithModal:u,selectedItems:f}),(0,F.jsxs)(fe,{children:[(0,F.jsx)(me,{disabled:v,hideOnClick:!1,onClick:()=>{r(c)},suffix:d,children:(0,m.__)("Select all")}),(0,F.jsx)(me,{disabled:0===n.length,hideOnClick:!1,onClick:()=>{r([])},children:(0,m.__)("Deselect")})]})]}),a&&(0,F.jsx)(he,{action:a,selectedItems:f,setActionWithModal:u,onMenuOpenChange:l})]})}const{DropdownMenuV2:xe,DropdownMenuGroupV2:ye,DropdownMenuItemV2:je,DropdownMenuRadioItemV2:Se,DropdownMenuItemLabelV2:_e,DropdownMenuSeparatorV2:Ee}=H(P.privateApis);function Ce({children:e}){return A.Children.toArray(e).filter(Boolean).map(((e,t)=>(0,F.jsxs)(A.Fragment,{children:[t>0&&(0,F.jsx)(Ee,{}),e]},t)))}const Ie=(0,A.forwardRef)((function({field:e,view:t,onChangeView:n,onHide:r,setOpenedFilter:i},o){const s=!1!==e.enableHiding,l=!1!==e.enableSorting,a=t.sort?.field===e.id,u=ce(e),c=!(t.filters?.some((t=>e.id===t.field))||!e.elements?.length||!u.length||e.filterBy?.isPrimary);return l||s||c?(0,F.jsx)(xe,{align:"start",trigger:(0,F.jsxs)(P.Button,{size:"compact",className:"dataviews-view-table-header-button",ref:o,variant:"tertiary",children:[e.header,t.sort&&a&&(0,F.jsx)("span",{"aria-hidden":"true",children:S[t.sort.direction]})]}),style:{minWidth:"240px"},children:(0,F.jsxs)(Ce,{children:[l&&(0,F.jsx)(ye,{children:j.map((r=>{const i=t.sort&&a&&t.sort.direction===r,o=`${e.id}-${r}`;return(0,F.jsx)(Se,{name:"view-table-sorting",value:o,checked:i,onChange:()=>{n({...t,sort:{field:e.id,direction:r}})},children:(0,F.jsx)(_e,{children:E[r]})},o)}))}),c&&(0,F.jsx)(ye,{children:(0,F.jsx)(je,{prefix:(0,F.jsx)(P.Icon,{icon:$}),onClick:()=>{i(e.id),n({...t,page:1,filters:[...t.filters||[],{field:e.id,value:void 0,operator:u[0]}]})},children:(0,F.jsx)(_e,{children:(0,m.__)("Add filter")})})}),s&&(0,F.jsx)(je,{prefix:(0,F.jsx)(P.Icon,{icon:Y}),onClick:()=>{r(e),n({...t,hiddenFields:t.hiddenFields.concat(e.id)})},children:(0,F.jsx)(_e,{children:(0,m.__)("Hide")})})]})}):e.header}));function ke({selection:e,onSelectionChange:t,data:n,actions:r,getItemId:i}){const o=(0,A.useMemo)((()=>n.filter((e=>r.some((t=>t.supportsBulk&&(!t.isEligible||t.isEligible(e))))))),[n,r]),s=n.filter((t=>e.includes(i(t))&&o.includes(t))),l=s.length===o.length;return(0,F.jsx)(P.CheckboxControl,{className:"dataviews-view-table-selection-checkbox",__nextHasNoMarginBottom:!0,checked:l,indeterminate:!l&&!!s.length,onChange:()=>{t(l?[]:o)},"aria-label":l?(0,m.__)("Deselect all"):(0,m.__)("Select all")})}function Ve({hasBulkActions:e,item:t,actions:n,id:r,visibleFields:i,primaryField:o,selection:s,getItemId:l,onSelectionChange:a,data:u}){const c=pe(n,t),d=c&&s.includes(r),[f,m]=(0,A.useState)(!1),v=(0,A.useRef)(!1);return(0,F.jsxs)("tr",{className:W("dataviews-view-table__row",{"is-selected":c&&d,"is-hovered":f,"has-bulk-actions":c}),onMouseEnter:()=>{m(!0)},onMouseLeave:()=>{m(!1)},onTouchStart:()=>{v.current=!0},onClick:()=>{c&&(v.current||"Range"===document.getSelection()?.type||a(d?u.filter((e=>{const t=l?.(e);return t!==r&&s.includes(t)})):u.filter((e=>{const t=l?.(e);return t===r||s.includes(t)}))))},children:[e&&(0,F.jsx)("td",{className:"dataviews-view-table__checkbox-column",style:{width:"1%"},children:(0,F.jsx)("div",{className:"dataviews-view-table__cell-content-wrapper",children:(0,F.jsx)(X,{item:t,selection:s,onSelectionChange:a,getItemId:l,data:u,primaryField:o,disabled:!c})})}),i.map((e=>(0,F.jsx)("td",{style:{width:e.width||void 0,minWidth:e.minWidth||void 0,maxWidth:e.maxWidth||void 0},children:(0,F.jsx)("div",{className:W("dataviews-view-table__cell-content-wrapper",{"dataviews-view-table__primary-field":o?.id===e.id}),children:e.render({item:t})})},e.id))),!!n?.length&&(0,F.jsx)("td",{className:"dataviews-view-table__actions-column",onClick:e=>e.stopPropagation(),children:(0,F.jsx)(ae,{item:t,actions:n})})]})}function Oe({selection:e,data:t,onSelectionChange:n,getItemId:r,item:i,actions:o,mediaField:s,primaryField:l,visibleFields:a,badgeFields:u,columnFields:c}){const d=pe(o,i),f=r(i),m=e.includes(f);return(0,F.jsxs)(P.__experimentalVStack,{spacing:0,className:W("dataviews-view-grid__card",{"is-selected":d&&m}),onClickCapture:i=>{if(i.ctrlKey||i.metaKey){if(i.stopPropagation(),i.preventDefault(),!d)return;n(m?t.filter((t=>{const n=r?.(t);return n!==f&&e.includes(n)})):t.filter((t=>{const n=r?.(t);return n===f||e.includes(n)})))}},children:[(0,F.jsx)("div",{className:"dataviews-view-grid__media",children:s?.render({item:i})}),(0,F.jsxs)(P.__experimentalHStack,{justify:"space-between",className:"dataviews-view-grid__title-actions",children:[(0,F.jsx)(X,{item:i,selection:e,onSelectionChange:n,getItemId:r,data:t,primaryField:l,disabled:!d}),(0,F.jsx)(P.__experimentalHStack,{className:"dataviews-view-grid__primary-field",children:l?.render({item:i})}),(0,F.jsx)(ae,{item:i,actions:o,isCompact:!0})]}),!!u?.length&&(0,F.jsx)(P.__experimentalHStack,{className:"dataviews-view-grid__badge-fields",spacing:2,wrap:!0,alignment:"top",justify:"flex-start",children:u.map((e=>{const t=e.render({item:i});return t?(0,F.jsx)(P.FlexItem,{className:"dataviews-view-grid__field-value",children:t},e.id):null}))}),!!a?.length&&(0,F.jsx)(P.__experimentalVStack,{className:"dataviews-view-grid__fields",spacing:3,children:a.map((e=>{const t=e.render({item:i});return t?(0,F.jsx)(P.Flex,{className:W("dataviews-view-grid__field",c?.includes(e.id)?"is-column":"is-row"),gap:1,justify:"flex-start",expanded:!0,style:{height:"auto"},direction:c?.includes(e.id)?"column":"row",children:(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(P.FlexItem,{className:"dataviews-view-grid__field-name",children:e.header}),(0,F.jsx)(P.FlexItem,{className:"dataviews-view-grid__field-value",style:{maxHeight:"none"},children:t})]})},e.id):null}))})]},f)}const Pe=window.wp.compose,{useCompositeStoreV2:Ae,CompositeV2:Me,CompositeItemV2:Fe,CompositeRowV2:Te,DropdownMenuV2:Ne}=H(P.privateApis);function De({actions:e,id:t,isSelected:n,item:r,mediaField:i,onSelect:o,primaryField:s,store:l,visibleFields:a}){const u=(0,A.useRef)(null),c=`${t}-label`,d=`${t}-description`,[f,v]=(0,A.useState)(!1);(0,A.useEffect)((()=>{n&&u.current?.scrollIntoView({behavior:"auto",block:"nearest",inline:"nearest"})}),[n]);const{primaryAction:p,eligibleActions:h}=(0,A.useMemo)((()=>{const t=e.filter((e=>!e.isEligible||e.isEligible(r))),n=t.filter((e=>e.isPrimary&&!!e.icon));return{primaryAction:n?.[0],eligibleActions:t}}),[e,r]),[g,w]=(0,A.useState)(!1),b=p&&("string"==typeof p.label?p.label:p.label([r]));return(0,F.jsx)(Te,{ref:u,render:(0,F.jsx)("li",{}),role:"row",className:W({"is-selected":n,"is-hovered":f}),onMouseEnter:()=>{v(!0)},onMouseLeave:()=>{v(!1)},children:(0,F.jsxs)(P.__experimentalHStack,{className:"dataviews-view-list__item-wrapper",alignment:"center",spacing:0,children:[(0,F.jsx)("div",{role:"gridcell",children:(0,F.jsx)(Fe,{store:l,render:(0,F.jsx)("div",{}),role:"button",id:t,"aria-pressed":n,"aria-labelledby":c,"aria-describedby":d,className:"dataviews-view-list__item",onClick:()=>o(r),children:(0,F.jsxs)(P.__experimentalHStack,{spacing:3,justify:"start",alignment:"flex-start",children:[(0,F.jsx)("div",{className:"dataviews-view-list__media-wrapper",children:i?.render({item:r})||(0,F.jsx)("div",{className:"dataviews-view-list__media-placeholder"})}),(0,F.jsxs)(P.__experimentalVStack,{spacing:0,children:[(0,F.jsx)("span",{className:"dataviews-view-list__primary-field",id:c,children:s?.render({item:r})}),(0,F.jsx)("div",{className:"dataviews-view-list__fields",id:d,children:a.map((e=>(0,F.jsxs)("div",{className:"dataviews-view-list__field",children:[(0,F.jsx)(P.VisuallyHidden,{as:"span",className:"dataviews-view-list__field-label",children:e.header}),(0,F.jsx)("span",{className:"dataviews-view-list__field-value",children:e.render({item:r})})]},e.id)))})]})]})})}),h?.length>0&&(0,F.jsxs)(P.__experimentalHStack,{spacing:1,justify:"flex-end",className:"dataviews-view-list__item-actions",style:{flexShrink:"0",width:"auto"},children:[p&&"RenderModal"in p&&(0,F.jsx)("div",{role:"gridcell",children:(0,F.jsx)(Fe,{store:l,render:(0,F.jsx)(P.Button,{label:b,icon:p.icon,isDestructive:p.isDestructive,size:"compact",onClick:()=>w(!0)}),children:g&&(0,F.jsx)(oe,{action:p,items:[r],closeModal:()=>w(!1)})})}),p&&!("RenderModal"in p)&&(0,F.jsx)("div",{role:"gridcell",children:(0,F.jsx)(Fe,{store:l,render:(0,F.jsx)(P.Button,{label:b,icon:p.icon,isDestructive:p.isDestructive,size:"compact",onClick:()=>p.callback([r])})})},p.id),(0,F.jsx)("div",{role:"gridcell",children:(0,F.jsx)(Ne,{trigger:(0,F.jsx)(Fe,{store:l,render:(0,F.jsx)(P.Button,{size:"compact",icon:Z,label:(0,m.__)("Actions"),__experimentalIsFocusable:!0,disabled:!e.length,onKeyDown:e=>{"ArrowDown"===e.key&&(e.preventDefault(),l.move(l.down())),"ArrowUp"===e.key&&(e.preventDefault(),l.move(l.up()))}})}),placement:"bottom-end",children:(0,F.jsx)(le,{actions:h,item:r})})})]})]})})}const Le=[{type:C,label:(0,m.__)("Table"),component:function({actions:e,data:t,fields:n,getItemId:r,isLoading:i=!1,onChangeView:o,onSelectionChange:s,selection:l,setOpenedFilter:a,view:u}){const c=(0,A.useRef)(new Map),d=(0,A.useRef)(),[f,v]=(0,A.useState)(),p=function(e,t){return(0,A.useMemo)((()=>t.some((t=>e.some((e=>e.supportsBulk&&(!e.isEligible||e.isEligible(t))))))),[e,t])}(e,t);(0,A.useEffect)((()=>{d.current&&(d.current.focus(),d.current=void 0)}));const h=(0,A.useId)();if(f)return d.current=f,void v(void 0);const g=e=>{const t=c.current.get(e.id),n=t?c.current.get(t.fallback):void 0;v(n?.node)},w=n.filter((e=>!u.hiddenFields.includes(e.id)&&![u.layout.mediaField].includes(e.id))),b=!!t?.length,x=n.find((e=>e.id===u.layout.primaryField));return(0,F.jsxs)(F.Fragment,{children:[(0,F.jsxs)("table",{className:"dataviews-view-table","aria-busy":i,"aria-describedby":h,children:[(0,F.jsx)("thead",{children:(0,F.jsxs)("tr",{className:"dataviews-view-table__row",children:[p&&(0,F.jsx)("th",{className:"dataviews-view-table__checkbox-column",style:{width:"1%"},"data-field-id":"selection",scope:"col",children:(0,F.jsx)(ke,{selection:l,onSelectionChange:s,data:t,actions:e,getItemId:r})}),w.map(((e,t)=>(0,F.jsx)("th",{style:{width:e.width||void 0,minWidth:e.minWidth||void 0,maxWidth:e.maxWidth||void 0},"data-field-id":e.id,"aria-sort":u.sort?.field===e.id?_[u.sort.direction]:void 0,scope:"col",children:(0,F.jsx)(Ie,{ref:n=>{n?c.current.set(e.id,{node:n,fallback:w[t>0?t-1:1]?.id}):c.current.delete(e.id)},field:e,view:u,onChangeView:o,onHide:g,setOpenedFilter:a})},e.id))),!!e?.length&&(0,F.jsx)("th",{"data-field-id":"actions",className:"dataviews-view-table__actions-column",children:(0,F.jsx)("span",{className:"dataviews-view-table-header",children:(0,m.__)("Actions")})})]})}),(0,F.jsx)("tbody",{children:b&&t.map(((n,i)=>(0,F.jsx)(Ve,{item:n,hasBulkActions:p,actions:e,id:r(n)||i.toString(),visibleFields:w,primaryField:x,selection:l,getItemId:r,onSelectionChange:s,data:t},r(n))))})]}),(0,F.jsx)("div",{className:W({"dataviews-loading":i,"dataviews-no-results":!b&&!i}),id:h,children:!b&&(0,F.jsx)("p",{children:i?(0,F.jsx)(P.Spinner,{}):(0,m.__)("No results")})})]})},icon:z},{type:I,label:(0,m.__)("Grid"),component:function({actions:e,data:t,fields:n,getItemId:r,isLoading:i,onSelectionChange:o,selection:s,view:l}){const a=n.find((e=>e.id===l.layout.mediaField)),u=n.find((e=>e.id===l.layout.primaryField)),{visibleFields:c,badgeFields:d}=n.reduce(((e,t)=>(l.hiddenFields.includes(t.id)||[l.layout.mediaField,l.layout.primaryField].includes(t.id)||e[l.layout.badgeFields?.includes(t.id)?"badgeFields":"visibleFields"].push(t),e)),{visibleFields:[],badgeFields:[]}),f=!!t?.length;return(0,F.jsxs)(F.Fragment,{children:[f&&(0,F.jsx)(P.__experimentalGrid,{gap:8,columns:2,alignment:"top",className:"dataviews-view-grid","aria-busy":i,children:t.map((n=>(0,F.jsx)(Oe,{selection:s,data:t,onSelectionChange:o,getItemId:r,item:n,actions:e,mediaField:a,primaryField:u,visibleFields:c,badgeFields:d,columnFields:l.layout.columnFields},r(n))))}),!f&&(0,F.jsx)("div",{className:W({"dataviews-loading":i,"dataviews-no-results":!i}),children:(0,F.jsx)("p",{children:i?(0,F.jsx)(P.Spinner,{}):(0,m.__)("No results")})})]})},icon:K},{type:"list",label:(0,m.__)("List"),component:function e(t){const{actions:n,data:r,fields:i,getItemId:o,isLoading:s,onSelectionChange:l,selection:a,view:u}=t,c=(0,Pe.useInstanceId)(e,"view-list"),d=r?.findLast((e=>a.includes(o(e)))),f=i.find((e=>e.id===u.layout.mediaField)),v=i.find((e=>e.id===u.layout.primaryField)),p=i.filter((e=>!u.hiddenFields.includes(e.id)&&![u.layout.primaryField,u.layout.mediaField].includes(e.id))),h=(0,A.useCallback)((e=>l([e])),[l]),g=(0,A.useCallback)((e=>e?`${c}-${o(e)}`:void 0),[c,o]),w=Ae({defaultActiveId:g(d)}),b=w.useState((e=>e.items.some((t=>t.id===e.activeId))));(0,A.useEffect)((()=>{b||(w.down()?w.move(w.down()):w.up()&&w.move(w.up()))}),[b]);const x=r?.length;return x?(0,F.jsx)(Me,{id:c,render:(0,F.jsx)("ul",{}),className:"dataviews-view-list",role:"grid",store:w,children:r.map((e=>{const t=g(e);return(0,F.jsx)(De,{id:t,actions:n,item:e,isSelected:e===d,onSelect:h,mediaField:f,primaryField:v,store:w,visibleFields:p},t)}))}):(0,F.jsx)("div",{className:W({"dataviews-loading":s,"dataviews-no-results":!x&&!s}),children:!x&&(0,F.jsx)("p",{children:s?(0,F.jsx)(P.Spinner,{}):(0,m.__)("No results")})})},icon:(0,m.isRTL)()?U:q}],{DropdownMenuV2:Be,DropdownMenuGroupV2:Re,DropdownMenuItemV2:He,DropdownMenuRadioItemV2:ze,DropdownMenuCheckboxItemV2:Ke,DropdownMenuItemLabelV2:Ue}=H(P.privateApis);function qe({view:e,onChangeView:t,supportedLayouts:n}){let r=Le;if(n&&(r=r.filter((e=>n.includes(e.type)))),1===r.length)return null;const i=r.find((t=>e.type===t.type));return(0,F.jsx)(Be,{trigger:(0,F.jsx)(He,{suffix:(0,F.jsx)("span",{"aria-hidden":"true",children:i?.label}),children:(0,F.jsx)(Ue,{children:(0,m.__)("Layout")})}),children:r.map((n=>(0,F.jsx)(ze,{value:n.type,name:"view-actions-available-view",checked:n.type===e.type,hideOnClick:!0,onChange:n=>{switch(n.target.value){case"list":case"grid":case"table":return t({...e,type:n.target.value,layout:{}})}throw new Error("Invalid dataview")},children:(0,F.jsx)(Ue,{children:n.label})},n.type)))})}const Ge=[10,20,50,100];function We({view:e,onChangeView:t}){return(0,F.jsx)(Be,{trigger:(0,F.jsx)(He,{suffix:(0,F.jsx)("span",{"aria-hidden":"true",children:e.perPage}),children:(0,F.jsx)(Ue,{children:(0,m.__)("Items per page")})}),children:Ge.map((n=>(0,F.jsx)(ze,{value:n,name:"view-actions-page-size",checked:e.perPage===n,onChange:()=>{t({...e,perPage:n,page:1})},children:(0,F.jsx)(Ue,{children:n})},n)))})}function $e({view:e,onChangeView:t,fields:n}){const r=n.filter((t=>!1!==t.enableHiding&&t.id!==e.layout.mediaField));return r?.length?(0,F.jsx)(Be,{trigger:(0,F.jsx)(He,{children:(0,F.jsx)(Ue,{children:(0,m.__)("Fields")})}),children:r?.map((n=>(0,F.jsx)(Ke,{value:n.id,checked:!e.hiddenFields?.includes(n.id),onChange:()=>{t({...e,hiddenFields:e.hiddenFields?.includes(n.id)?e.hiddenFields.filter((e=>e!==n.id)):[...e.hiddenFields||[],n.id]})},children:(0,F.jsx)(Ue,{children:n.header})},n.id)))}):null}function Ye({fields:e,view:t,onChangeView:n}){const r=e.filter((e=>!1!==e.enableSorting));if(!r?.length)return null;const i=e.find((e=>e.id===t.sort?.field));return(0,F.jsx)(Be,{trigger:(0,F.jsx)(He,{suffix:(0,F.jsx)("span",{"aria-hidden":"true",children:i?.header}),children:(0,F.jsx)(Ue,{children:(0,m.__)("Sort by")})}),children:r?.map((e=>{const r=t.sort?.direction;return(0,F.jsx)(Be,{trigger:(0,F.jsx)(He,{children:(0,F.jsx)(Ue,{children:e.header})}),style:{minWidth:"220px"},children:j.map((o=>{const s=void 0!==i&&r===o&&e.id===i.id,l=`${e.id}-${o}`;return(0,F.jsx)(ze,{name:"view-actions-sorting",value:l,checked:s,onChange:()=>{n({...t,sort:{field:e.id,direction:o}})},children:(0,F.jsx)(Ue,{children:E[o]})},l)}))},e.id)}))})}const Xe=(0,A.memo)((function({fields:e,view:t,onChangeView:n,supportedLayouts:r}){return(0,F.jsx)(Be,{trigger:(0,F.jsx)(P.Button,{size:"compact",icon:L,label:(0,m.__)("View options")}),children:(0,F.jsxs)(Re,{children:[(0,F.jsx)(qe,{view:t,onChangeView:n,supportedLayouts:r}),(0,F.jsx)(Ye,{fields:e,view:t,onChangeView:n}),(0,F.jsx)($e,{fields:e,view:t,onChangeView:n}),(0,F.jsx)(We,{view:t,onChangeView:n})]})})})),Ze=(0,F.jsx)(M.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,F.jsx)(M.Path,{d:"M12 13.06l3.712 3.713 1.061-1.06L13.061 12l3.712-3.712-1.06-1.06L12 10.938 8.288 7.227l-1.061 1.06L10.939 12l-3.712 3.712 1.06 1.061L12 13.061z"})});var Je={id:null};function Qe(e,t){return t&&e.item(t)||null}var et=Symbol("FOCUS_SILENTLY");function tt(e,t,n){if(!t)return!1;if(t===n)return!1;const r=e.item(t.id);return!(!r||n&&r.element===n)}var nt=Object.defineProperty,rt=Object.defineProperties,it=Object.getOwnPropertyDescriptors,ot=Object.getOwnPropertySymbols,st=Object.prototype.hasOwnProperty,lt=Object.prototype.propertyIsEnumerable,at=(e,t,n)=>t in e?nt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ut=(e,t)=>{for(var n in t||(t={}))st.call(t,n)&&at(e,n,t[n]);if(ot)for(var n of ot(t))lt.call(t,n)&&at(e,n,t[n]);return e},ct=(e,t)=>rt(e,it(t)),dt=(e,t)=>{var n={};for(var r in e)st.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&ot)for(var r of ot(e))t.indexOf(r)<0&&lt.call(e,r)&&(n[r]=e[r]);return n},ft=Object.defineProperty,mt=Object.defineProperties,vt=Object.getOwnPropertyDescriptors,pt=Object.getOwnPropertySymbols,ht=Object.prototype.hasOwnProperty,gt=Object.prototype.propertyIsEnumerable,wt=(e,t,n)=>t in e?ft(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,bt=(e,t)=>{for(var n in t||(t={}))ht.call(t,n)&&wt(e,n,t[n]);if(pt)for(var n of pt(t))gt.call(t,n)&&wt(e,n,t[n]);return e},xt=(e,t)=>mt(e,vt(t));function yt(...e){}function jt(e,t){return"function"==typeof Object.hasOwn?Object.hasOwn(e,t):Object.prototype.hasOwnProperty.call(e,t)}function St(...e){return(...t)=>{for(const n of e)"function"==typeof n&&n(...t)}}function _t(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}function Et(e){return e}function Ct(e,t){if(!e){if("string"!=typeof t)throw new Error("Invariant failed");throw new Error(t)}}function It(e){return e.disabled||!0===e["aria-disabled"]||"true"===e["aria-disabled"]}function kt(...e){for(const t of e)if(void 0!==t)return t}var Vt,Ot="undefined"!=typeof window&&!!(null==(Vt=window.document)?void 0:Vt.createElement);function Pt(e){return e?e.ownerDocument||e:document}function At(e,t=!1){const{activeElement:n}=Pt(e);if(!(null==n?void 0:n.nodeName))return null;if("IFRAME"===n.tagName&&n.contentDocument)return At(n.contentDocument.body,t);if(t){const e=n.getAttribute("aria-activedescendant");if(e){const t=Pt(n).getElementById(e);if(t)return t}}return n}function Mt(e,t){return e===t||e.contains(t)}function Ft(e){const t=e.tagName.toLowerCase();return"button"===t||!("input"!==t||!e.type)&&-1!==Tt.indexOf(e.type)}var Tt=["button","color","file","image","reset","submit"];function Nt(e,t){return"matches"in e?e.matches(t):"msMatchesSelector"in e?e.msMatchesSelector(t):e.webkitMatchesSelector(t)}function Dt(e){try{const t=e instanceof HTMLInputElement&&null!==e.selectionStart,n="TEXTAREA"===e.tagName;return t||n||!1}catch(e){return!1}}function Lt(e,t){const n=null==e?void 0:e.getAttribute("role");return n&&-1!==["dialog","menu","listbox","tree","grid"].indexOf(n)?n:t}function Bt(e,t){var n;const r=Lt(e);return r&&null!=(n={menu:"menuitem",listbox:"option",tree:"treeitem",grid:"gridcell"}[r])?n:t}function Rt(e){if(!e)return null;if(e.clientHeight&&e.scrollHeight>e.clientHeight){const{overflowY:t}=getComputedStyle(e);if("visible"!==t&&"hidden"!==t)return e}else if(e.clientWidth&&e.scrollWidth>e.clientWidth){const{overflowX:t}=getComputedStyle(e);if("visible"!==t&&"hidden"!==t)return e}return Rt(e.parentElement)||document.scrollingElement||document.body}function Ht(e,...t){/text|search|password|tel|url/i.test(e.type)&&e.setSelectionRange(...t)}function zt(){return!!Ot&&/mac|iphone|ipad|ipod/i.test(navigator.platform)}function Kt(){return Ot&&zt()&&/apple/i.test(navigator.vendor)}function Ut(e){return Boolean(e.currentTarget&&!Mt(e.currentTarget,e.target))}function qt(e){return e.target===e.currentTarget}function Gt(e,t){const n=new FocusEvent("blur",t),r=e.dispatchEvent(n),i=xt(bt({},t),{bubbles:!0});return e.dispatchEvent(new FocusEvent("focusout",i)),r}function Wt(e,t){const n=new MouseEvent("click",t);return e.dispatchEvent(n)}function $t(e,t){const n=t||e.currentTarget,r=e.relatedTarget;return!r||!Mt(n,r)}function Yt(e,t,n){const r=requestAnimationFrame((()=>{e.removeEventListener(t,i,!0),n()})),i=()=>{cancelAnimationFrame(r),n()};return e.addEventListener(t,i,{once:!0,capture:!0}),r}function Xt(e,t,n,r=window){const i=[];try{r.document.addEventListener(e,t,n);for(const o of Array.from(r.frames))i.push(Xt(e,t,n,o))}catch(e){}return()=>{try{r.document.removeEventListener(e,t,n)}catch(e){}i.forEach((e=>e()))}}var Zt=ut({},l),Jt=Zt.useId,Qt=(Zt.useDeferredValue,Zt.useInsertionEffect),en=Ot?s.useLayoutEffect:s.useEffect;function tn(e){const t=(0,s.useRef)((()=>{throw new Error("Cannot call an event handler while rendering.")}));return Qt?Qt((()=>{t.current=e})):t.current=e,(0,s.useCallback)(((...e)=>{var n;return null==(n=t.current)?void 0:n.call(t,...e)}),[])}function nn(...e){return(0,s.useMemo)((()=>{if(e.some(Boolean))return t=>{e.forEach((e=>function(e,t){"function"==typeof e?e(t):e&&(e.current=t)}(e,t)))}}),e)}function rn(e){if(Jt){const t=Jt();return e||t}const[t,n]=(0,s.useState)(e);return en((()=>{if(e||t)return;const r=Math.random().toString(36).substr(2,6);n(`id-${r}`)}),[e,t]),e||t}function on(e,t){const n=e=>{if("string"==typeof e)return e},[r,i]=(0,s.useState)((()=>n(t)));return en((()=>{const r=e&&"current"in e?e.current:e;i((null==r?void 0:r.tagName.toLowerCase())||n(t))}),[e,t]),r}function sn(e,t){const n=(0,s.useRef)(!1);(0,s.useEffect)((()=>{if(n.current)return e();n.current=!0}),t),(0,s.useEffect)((()=>()=>{n.current=!1}),[])}function ln(e){return tn("function"==typeof e?e:()=>e)}function an(e,t,n=[]){const r=(0,s.useCallback)((n=>(e.wrapElement&&(n=e.wrapElement(n)),t(n))),[...n,e.wrapElement]);return ct(ut({},e),{wrapElement:r})}Symbol("setNextState");var un=!1,cn=0,dn=0;function fn(e){(function(e){const t=e.movementX||e.screenX-cn,n=e.movementY||e.screenY-dn;return cn=e.screenX,dn=e.screenY,t||n||!1})(e)&&(un=!0)}function mn(){un=!1}function vn(e){return s.forwardRef(((t,n)=>e(ut({ref:n},t))))}function pn(e){const t=vn(e);return s.memo(t)}function hn(e,t){const n=t,{as:r,wrapElement:i,render:o}=n,l=dt(n,["as","wrapElement","render"]);let a;const u=nn(t.ref,function(e){return function(e){return!!e&&!!(0,s.isValidElement)(e)&&"ref"in e}(e)?e.ref:null}(o));if(r&&"string"!=typeof r)a=(0,F.jsx)(r,ct(ut({},l),{render:o}));else if(s.isValidElement(o)){const e=ct(ut({},o.props),{ref:u});a=s.cloneElement(o,function(e,t){const n=ut({},e);for(const r in t){if(!jt(t,r))continue;if("className"===r){const r="className";n[r]=e[r]?`${e[r]} ${t[r]}`:t[r];continue}if("style"===r){const r="style";n[r]=e[r]?ut(ut({},e[r]),t[r]):t[r];continue}const i=t[r];if("function"==typeof i&&r.startsWith("on")){const t=e[r];if("function"==typeof t){n[r]=(...e)=>{i(...e),t(...e)};continue}}n[r]=i}return n}(l,e))}else if(o)a=o(l);else if("function"==typeof t.children){const e=l,{children:n}=e,r=dt(e,["children"]);a=t.children(r)}else a=r?(0,F.jsx)(r,ut({},l)):(0,F.jsx)(e,ut({},l));return i?i(a):a}function gn(e){return(t={})=>{const n=e(t),r={};for(const e in n)jt(n,e)&&void 0!==n[e]&&(r[e]=n[e]);return r}}function wn(e=[],t=[]){const n=s.createContext(void 0),r=s.createContext(void 0),i=()=>s.useContext(n),o=t=>e.reduceRight(((e,n)=>(0,F.jsx)(n,ct(ut({},t),{children:e}))),(0,F.jsx)(n.Provider,ut({},t)));return{context:n,scopedContext:r,useContext:i,useScopedContext:(e=!1)=>{const t=s.useContext(r),n=i();return e?t:t||n},useProviderContext:()=>{const e=s.useContext(r),t=i();if(!e||e!==t)return t},ContextProvider:o,ScopedContextProvider:e=>(0,F.jsx)(o,ct(ut({},e),{children:t.reduceRight(((t,n)=>(0,F.jsx)(n,ct(ut({},e),{children:t}))),(0,F.jsx)(r.Provider,ut({},e)))}))}}var bn=wn(),xn=bn.useContext,yn=(bn.useScopedContext,bn.useProviderContext,wn([bn.ContextProvider],[bn.ScopedContextProvider])),jn=yn.useContext,Sn=(yn.useScopedContext,yn.useProviderContext),En=yn.ContextProvider,Cn=yn.ScopedContextProvider,In=(0,s.createContext)(void 0),kn=(0,s.createContext)(void 0),Vn="";function On(){Vn=""}function Pn(e,t){var n;const r=(null==(n=e.element)?void 0:n.textContent)||e.children;return!!r&&_t(r).trim().toLowerCase().startsWith(t.toLowerCase())}var An=gn((e=>{var t=e,{store:n,typeahead:r=!0}=t,i=dt(t,["store","typeahead"]);const o=jn();Ct(n=n||o,!1);const l=i.onKeyDownCapture,a=(0,s.useRef)(0),u=tn((e=>{if(null==l||l(e),e.defaultPrevented)return;if(!r)return;if(!n)return;const{items:t,activeId:i}=n.getState();if(!function(e){const t=e.target;return(!t||!Dt(t))&&(!(" "!==e.key||!Vn.length)||1===e.key.length&&!e.ctrlKey&&!e.altKey&&!e.metaKey&&/^[\p{Letter}\p{Number}]$/u.test(e.key))}(e))return On();let o=function(e){return e.filter((e=>!e.disabled))}(t);if(!function(e,t){if(qt(e))return!0;const n=e.target;return!!n&&t.some((e=>e.element===n))}(e,o))return On();e.preventDefault(),window.clearTimeout(a.current),a.current=window.setTimeout((()=>{Vn=""}),500);const s=e.key.toLowerCase();Vn+=s,o=function(e,t,n){if(!n)return e;const r=e.find((e=>e.id===n));return r&&Pn(r,t)?Vn!==t&&Pn(r,Vn)?e:(Vn=t,function(e,t,n=!1){const r=e.findIndex((e=>e.id===t));return[...e.slice(r+1),...n?[Je]:[],...e.slice(0,r)]}(e.filter((e=>Pn(e,Vn))),n).filter((e=>e.id!==n))):e}(o,s,i);const u=o.find((e=>Pn(e,Vn)));u?n.move(u.id):On()}));return ct(ut({},i),{onKeyDownCapture:u})})),Mn=vn((e=>hn("div",An(e))));function Fn(e){return!!Nt(e,"input:not([type='hidden']):not([disabled]), select:not([disabled]), textarea:not([disabled]), a[href], button:not([disabled]), [tabindex], iframe, object, embed, area[href], audio[controls], video[controls], [contenteditable]:not([contenteditable='false'])")&&!!function(e){const t=e;return t.offsetWidth>0||t.offsetHeight>0||e.getClientRects().length>0}(e)&&!function(e,t){if("closest"in e)return e.closest(t);do{if(Nt(e,t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null}(e,"[inert]")}function Tn(e){const t=At(e);if(!t)return!1;if(t===e)return!0;const n=t.getAttribute("aria-activedescendant");return!!n&&n===e.id}function Nn(e){const t=At(e);if(!t)return!1;if(Mt(e,t))return!0;const n=t.getAttribute("aria-activedescendant");return!!n&&"id"in e&&(n===e.id||!!e.querySelector(`#${CSS.escape(n)}`))}function Dn(e){const t=e.relatedTarget;return(null==t?void 0:t.nodeType)===Node.ELEMENT_NODE?t:null}var Ln=Symbol("composite-hover"),Bn=gn((e=>{var t=e,{store:n,focusOnHover:r=!0,blurOnHoverEnd:i=!!r}=t,o=dt(t,["store","focusOnHover","blurOnHoverEnd"]);const l=jn();Ct(n=n||l,!1);const a=((0,s.useEffect)((()=>{Xt("mousemove",fn,!0),Xt("mousedown",mn,!0),Xt("mouseup",mn,!0),Xt("keydown",mn,!0),Xt("scroll",mn,!0)}),[]),tn((()=>un))),u=o.onMouseMove,c=ln(r),d=tn((e=>{if(null==u||u(e),!e.defaultPrevented&&a()&&c(e)){if(!Nn(e.currentTarget)){const e=null==n?void 0:n.getState().baseElement;e&&!Tn(e)&&e.focus()}null==n||n.setActiveId(e.currentTarget.id)}})),f=o.onMouseLeave,m=ln(i),v=tn((e=>{var t;null==f||f(e),e.defaultPrevented||a()&&(function(e){const t=Dn(e);return!!t&&Mt(e.currentTarget,t)}(e)||function(e){let t=Dn(e);if(!t)return!1;do{if(jt(t,Ln)&&t[Ln])return!0;t=t.parentElement}while(t);return!1}(e)||c(e)&&m(e)&&(null==n||n.setActiveId(null),null==(t=null==n?void 0:n.getState().baseElement)||t.focus()))})),p=(0,s.useCallback)((e=>{e&&(e[Ln]=!0)}),[]);return ct(ut({},o),{ref:nn(p,o.ref),onMouseMove:d,onMouseLeave:v})})),Rn=pn((e=>hn("div",Bn(e))));function Hn(e,t){const n=e.__unstableInternals;return Ct(n,"Invalid store"),n[t]}function zn(e,...t){let n=e,r=n,i=Symbol(),o=yt;const s=new Set,l=new Set,a=new Set,u=new Set,c=new Set,d=new WeakMap,f=new WeakMap,m=(e,t,n=u)=>(n.add(t),f.set(t,e),()=>{var e;null==(e=d.get(t))||e(),d.delete(t),f.delete(t),n.delete(t)}),v=(e,o,s=!1)=>{if(!jt(n,e))return;const a=(m=o,v=n[e],function(e){return"function"==typeof e}(m)?m(function(e){return"function"==typeof e}(v)?v():v):m);var m,v;if(a===n[e])return;s||t.forEach((t=>{var n;null==(n=null==t?void 0:t.setState)||n.call(t,e,a)}));const p=n;n=xt(bt({},n),{[e]:a});const h=Symbol();i=h,l.add(e);const g=(t,r,i)=>{var o;const s=f.get(t);s&&!s.some((t=>i?i.has(t):t===e))||(null==(o=d.get(t))||o(),d.set(t,t(n,r)))};u.forEach((e=>{g(e,p)})),queueMicrotask((()=>{if(i!==h)return;const e=n;c.forEach((e=>{g(e,r,l)})),r=e,l.clear()}))},p={getState:()=>n,setState:v,__unstableInternals:{setup:e=>(a.add(e),()=>a.delete(e)),init:()=>{const e=s.size,r=Symbol();s.add(r);const i=()=>{s.delete(r),s.size||o()};if(e)return i;const l=(u=n,Object.keys(u)).map((e=>St(...t.map((t=>{var n;const r=null==(n=null==t?void 0:t.getState)?void 0:n.call(t);if(r&&jt(r,e))return Gn(t,[e],(t=>{v(e,t[e],!0)}))})))));var u;const c=[];a.forEach((e=>c.push(e())));const d=t.map(Un);return o=St(...l,...c,...d),i},subscribe:(e,t)=>m(e,t),sync:(e,t)=>(d.set(t,t(n,n)),m(e,t)),batch:(e,t)=>(d.set(t,t(n,r)),m(e,t,c)),pick:e=>zn(function(e,t){const n={};for(const r of t)jt(e,r)&&(n[r]=e[r]);return n}(n,e),p),omit:e=>zn(function(e,t){const n=bt({},e);for(const e of t)jt(n,e)&&delete n[e];return n}(n,e),p)}};return p}function Kn(e,...t){if(e)return Hn(e,"setup")(...t)}function Un(e,...t){if(e)return Hn(e,"init")(...t)}function qn(e,...t){if(e)return Hn(e,"subscribe")(...t)}function Gn(e,...t){if(e)return Hn(e,"sync")(...t)}function Wn(e,...t){if(e)return Hn(e,"batch")(...t)}function $n(e,...t){if(e)return Hn(e,"omit")(...t)}function Yn(...e){const t=e.reduce(((e,t)=>{var n;const r=null==(n=null==t?void 0:t.getState)?void 0:n.call(t);return r?bt(bt({},e),r):e}),{});return zn(t,...e)}var Xn=n(139),{useSyncExternalStore:Zn}=Xn;function Jn(e,t=Et){const n=s.useCallback((t=>e?qn(e,null,t):()=>{}),[e]),r=()=>{const n="string"==typeof t?t:null,r="function"==typeof t?t:null,i=null==e?void 0:e.getState();return r?r(i):i&&n&&jt(i,n)?i[n]:void 0};return Zn(n,r,r)}function Qn(e,t,n,r){const i=jt(t,n)?t[n]:void 0,o=r?t[r]:void 0,l=function(e){const t=(0,s.useRef)(e);return en((()=>{t.current=e})),t}({value:i,setValue:o});en((()=>Gn(e,[n],((e,t)=>{const{value:r,setValue:i}=l.current;i&&e[n]!==t[n]&&e[n]!==r&&i(e[n])}))),[e,n]),en((()=>{if(void 0!==i)return e.setState(n,i),Wn(e,[n],(()=>{void 0!==i&&e.setState(n,i)}))}))}function er(e,t,n){return Qn(e=function(e,t,n){return sn(t,[n.store]),Qn(e,n,"items","setItems"),e}(e,t,n),n,"activeId","setActiveId"),Qn(e,n,"includesBaseElement"),Qn(e,n,"virtualFocus"),Qn(e,n,"orientation"),Qn(e,n,"rtl"),Qn(e,n,"focusLoop"),Qn(e,n,"focusWrap"),Qn(e,n,"focusShift"),e}function tr(e,t,n){return function(e,t,n){return sn(t,[n.store,n.disclosure]),Qn(e,n,"open","setOpen"),Qn(e,n,"mounted","setMounted"),Qn(e,n,"animated"),e}(e,t,n)}function nr(e={}){var t=e,{popover:n}=t,r=((e,t)=>{var n={};for(var r in e)ht.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&pt)for(var r of pt(e))t.indexOf(r)<0&&gt.call(e,r)&&(n[r]=e[r]);return n})(t,["popover"]);const i=Yn(r.store,$n(n,["arrowElement","anchorElement","contentElement","popoverElement","disclosureElement"])),o=null==i?void 0:i.getState(),s=function(e={}){return function(e={}){const t=Yn(e.store,$n(e.disclosure,["contentElement","disclosureElement"])),n=null==t?void 0:t.getState(),r=kt(e.open,null==n?void 0:n.open,e.defaultOpen,!1),i=kt(e.animated,null==n?void 0:n.animated,!1),o=zn({open:r,animated:i,animating:!!i&&r,mounted:r,contentElement:kt(null==n?void 0:n.contentElement,null),disclosureElement:kt(null==n?void 0:n.disclosureElement,null)},t);return Kn(o,(()=>Gn(o,["animated","animating"],(e=>{e.animated||o.setState("animating",!1)})))),Kn(o,(()=>qn(o,["open"],(()=>{o.getState().animated&&o.setState("animating",!0)})))),Kn(o,(()=>Gn(o,["open","animating"],(e=>{o.setState("mounted",e.open||e.animating)})))),xt(bt({},o),{setOpen:e=>o.setState("open",e),show:()=>o.setState("open",!0),hide:()=>o.setState("open",!1),toggle:()=>o.setState("open",(e=>!e)),stopAnimation:()=>o.setState("animating",!1),setContentElement:e=>o.setState("contentElement",e),setDisclosureElement:e=>o.setState("disclosureElement",e)})}(e)}(xt(bt({},r),{store:i})),l=kt(r.placement,null==o?void 0:o.placement,"bottom"),a=zn(xt(bt({},s.getState()),{placement:l,currentPlacement:l,anchorElement:kt(null==o?void 0:o.anchorElement,null),popoverElement:kt(null==o?void 0:o.popoverElement,null),arrowElement:kt(null==o?void 0:o.arrowElement,null),rendered:Symbol("rendered")}),s,i);return xt(bt(bt({},s),a),{setAnchorElement:e=>a.setState("anchorElement",e),setPopoverElement:e=>a.setState("popoverElement",e),setArrowElement:e=>a.setState("arrowElement",e),render:()=>a.setState("rendered",Symbol("rendered"))})}function rr(e={}){var t;e.store;const n=null==(t=e.store)?void 0:t.getState(),r=kt(e.items,null==n?void 0:n.items,e.defaultItems,[]),i=new Map(r.map((e=>[e.id,e]))),o={items:r,renderedItems:kt(null==n?void 0:n.renderedItems,[])},s=null==(c=e.store)?void 0:c.__unstablePrivateStore,l=zn({items:r,renderedItems:o.renderedItems},s),a=zn(o,e.store),u=e=>{const t=function(e){const t=e.map(((e,t)=>[t,e]));let n=!1;return t.sort((([e,t],[r,i])=>{const o=t.element,s=i.element;return o===s?0:o&&s?function(e,t){return Boolean(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_PRECEDING)}(o,s)?(e>r&&(n=!0),-1):(e<r&&(n=!0),1):0})),n?t.map((([e,t])=>t)):e}(e);l.setState("renderedItems",t),a.setState("renderedItems",t)};var c;Kn(a,(()=>Un(l))),Kn(l,(()=>Wn(l,["items"],(e=>{a.setState("items",e.items)})))),Kn(l,(()=>Wn(l,["renderedItems"],(e=>{let t=!0,n=requestAnimationFrame((()=>{const{renderedItems:t}=a.getState();e.renderedItems!==t&&u(e.renderedItems)}));if("function"!=typeof IntersectionObserver)return()=>cancelAnimationFrame(n);const r=function(e){var t;const n=e.find((e=>!!e.element)),r=[...e].reverse().find((e=>!!e.element));let i=null==(t=null==n?void 0:n.element)?void 0:t.parentElement;for(;i&&(null==r?void 0:r.element);){if(r&&i.contains(r.element))return i;i=i.parentElement}return Pt(i).body}(e.renderedItems),i=new IntersectionObserver((()=>{t?t=!1:(cancelAnimationFrame(n),n=requestAnimationFrame((()=>u(e.renderedItems))))}),{root:r});for(const t of e.renderedItems)t.element&&i.observe(t.element);return()=>{cancelAnimationFrame(n),i.disconnect()}}))));const d=(e,t,n=!1)=>{let r;return t((t=>{const n=t.findIndex((({id:t})=>t===e.id)),o=t.slice();if(-1!==n){r=t[n];const s=bt(bt({},r),e);o[n]=s,i.set(e.id,s)}else o.push(e),i.set(e.id,e);return o})),()=>{t((t=>{if(!r)return n&&i.delete(e.id),t.filter((({id:t})=>t!==e.id));const o=t.findIndex((({id:t})=>t===e.id));if(-1===o)return t;const s=t.slice();return s[o]=r,i.set(e.id,r),s}))}},f=e=>d(e,(e=>l.setState("items",e)),!0);return xt(bt({},a),{registerItem:f,renderItem:e=>St(f(e),d(e,(e=>l.setState("renderedItems",e)))),item:e=>{if(!e)return null;let t=i.get(e);if(!t){const{items:n}=a.getState();t=n.find((t=>t.id===e)),t&&i.set(e,t)}return t||null},__unstablePrivateStore:l})}function ir(e){const t=[];for(const n of e)t.push(...n);return t}function or(e){return e.slice().reverse()}var sr={id:null};function lr(e,t){return e.find((e=>t?!e.disabled&&e.id!==t:!e.disabled))}function ar(e,t){return e.filter((e=>e.rowId===t))}function ur(e){const t=[];for(const n of e){const e=t.find((e=>{var t;return(null==(t=e[0])?void 0:t.rowId)===n.rowId}));e?e.push(n):t.push([n])}return t}function cr(e){let t=0;for(const{length:n}of e)n>t&&(t=n);return t}function dr(e,t,n){const r=cr(e);for(const i of e)for(let e=0;e<r;e+=1){const r=i[e];if(!r||n&&r.disabled){const r=0===e&&n?lr(i):i[e-1];i[e]=r&&t!==r.id&&n?r:{id:"__EMPTY_ITEM__",disabled:!0,rowId:null==r?void 0:r.rowId}}}return e}function fr(e){const t=ur(e),n=cr(t),r=[];for(let e=0;e<n;e+=1)for(const n of t){const t=n[e];t&&r.push(xt(bt({},t),{rowId:t.rowId?`${e}`:void 0}))}return r}var mr=Kt()&&Ot&&!!navigator.maxTouchPoints;function vr(e={}){var t;e.store;const n=null==(t=e.store)?void 0:t.getState(),r=kt(e.activeId,null==n?void 0:n.activeId,e.defaultActiveId,null),i=function(e={}){var t;const n=null==(t=e.store)?void 0:t.getState(),r=rr(e),i=kt(e.activeId,null==n?void 0:n.activeId,e.defaultActiveId),o=zn(xt(bt({},r.getState()),{activeId:i,baseElement:kt(null==n?void 0:n.baseElement,null),includesBaseElement:kt(e.includesBaseElement,null==n?void 0:n.includesBaseElement,null===i),moves:kt(null==n?void 0:n.moves,0),orientation:kt(e.orientation,null==n?void 0:n.orientation,"both"),rtl:kt(e.rtl,null==n?void 0:n.rtl,!1),virtualFocus:kt(e.virtualFocus,null==n?void 0:n.virtualFocus,!1),focusLoop:kt(e.focusLoop,null==n?void 0:n.focusLoop,!1),focusWrap:kt(e.focusWrap,null==n?void 0:n.focusWrap,!1),focusShift:kt(e.focusShift,null==n?void 0:n.focusShift,!1)}),r,e.store);Kn(o,(()=>Gn(o,["renderedItems","activeId"],(e=>{o.setState("activeId",(t=>{var n;return void 0!==t?t:null==(n=lr(e.renderedItems))?void 0:n.id}))}))));const s=(e,t,n,r)=>{var i,s;const{activeId:l,rtl:a,focusLoop:u,focusWrap:c,includesBaseElement:d}=o.getState(),f=a&&"vertical"!==t?or(e):e;if(null==l)return null==(i=lr(f))?void 0:i.id;const m=f.find((e=>e.id===l));if(!m)return null==(s=lr(f))?void 0:s.id;const v=!!m.rowId,p=f.indexOf(m),h=f.slice(p+1),g=ar(h,m.rowId);if(void 0!==r){const e=function(e,t){return e.filter((e=>t?!e.disabled&&e.id!==t:!e.disabled))}(g,l),t=e.slice(r)[0]||e[e.length-1];return null==t?void 0:t.id}const w=function(e){return"vertical"===e?"horizontal":"horizontal"===e?"vertical":void 0}(v?t||"horizontal":t),b=u&&u!==w,x=v&&c&&c!==w;if(n=n||!v&&b&&d,b){const e=function(e,t,n=!1){const r=e.findIndex((e=>e.id===t));return[...e.slice(r+1),...n?[sr]:[],...e.slice(0,r)]}(x&&!n?f:ar(f,m.rowId),l,n),t=lr(e,l);return null==t?void 0:t.id}if(x){const e=lr(n?g:h,l);return n?(null==e?void 0:e.id)||null:null==e?void 0:e.id}const y=lr(g,l);return!y&&n?null:null==y?void 0:y.id};return xt(bt(bt({},r),o),{setBaseElement:e=>o.setState("baseElement",e),setActiveId:e=>o.setState("activeId",e),move:e=>{void 0!==e&&(o.setState("activeId",e),o.setState("moves",(e=>e+1)))},first:()=>{var e;return null==(e=lr(o.getState().renderedItems))?void 0:e.id},last:()=>{var e;return null==(e=lr(or(o.getState().renderedItems)))?void 0:e.id},next:e=>{const{renderedItems:t,orientation:n}=o.getState();return s(t,n,!1,e)},previous:e=>{var t;const{renderedItems:n,orientation:r,includesBaseElement:i}=o.getState(),l=!(null==(t=lr(n))?void 0:t.rowId)&&i;return s(or(n),r,l,e)},down:e=>{const{activeId:t,renderedItems:n,focusShift:r,focusLoop:i,includesBaseElement:l}=o.getState(),a=r&&!e,u=fr(ir(dr(ur(n),t,a)));return s(u,"vertical",i&&"horizontal"!==i&&l,e)},up:e=>{const{activeId:t,renderedItems:n,focusShift:r,includesBaseElement:i}=o.getState(),l=r&&!e,a=fr(or(ir(dr(ur(n),t,l))));return s(a,"vertical",i,e)}})}(xt(bt({},e),{activeId:r,includesBaseElement:kt(e.includesBaseElement,null==n?void 0:n.includesBaseElement,!0),orientation:kt(e.orientation,null==n?void 0:n.orientation,"vertical"),focusLoop:kt(e.focusLoop,null==n?void 0:n.focusLoop,!0),focusWrap:kt(e.focusWrap,null==n?void 0:n.focusWrap,!0),virtualFocus:kt(e.virtualFocus,null==n?void 0:n.virtualFocus,!mr)})),o=nr(xt(bt({},e),{placement:kt(e.placement,null==n?void 0:n.placement,"bottom-start")})),s=kt(e.value,null==n?void 0:n.value,e.defaultValue,""),l=kt(e.selectedValue,null==n?void 0:n.selectedValue,e.defaultSelectedValue,""),a=Array.isArray(l),u=zn(xt(bt(bt({},i.getState()),o.getState()),{value:s,selectedValue:l,resetValueOnSelect:kt(e.resetValueOnSelect,null==n?void 0:n.resetValueOnSelect,a),resetValueOnHide:kt(e.resetValueOnHide,null==n?void 0:n.resetValueOnHide,a),activeValue:null==n?void 0:n.activeValue}),i,o,e.store);return Kn(u,(()=>Gn(u,["resetValueOnHide","mounted"],(e=>{e.resetValueOnHide&&(e.mounted||u.setState("value",s))})))),Kn(u,(()=>Gn(u,["resetValueOnSelect","selectedValue"],(e=>{e.resetValueOnSelect&&u.setState("value",s)})))),Kn(u,(()=>Wn(u,["mounted"],(e=>{e.mounted||(u.setState("activeId",r),u.setState("moves",0))})))),Kn(u,(()=>Gn(u,["moves","activeId"],((e,t)=>{e.moves===t.moves&&u.setState("activeValue",void 0)})))),Kn(u,(()=>Wn(u,["moves","renderedItems"],((e,t)=>{if(e.moves===t.moves)return;const{activeId:n}=u.getState(),r=i.item(n);u.setState("activeValue",null==r?void 0:r.value)})))),xt(bt(bt(bt({},o),i),u),{setValue:e=>u.setState("value",e),setSelectedValue:e=>u.setState("selectedValue",e)})}function pr(e={}){const[t,n]=function(e,t){const[n,r]=s.useState((()=>e(t)));en((()=>Un(n)),[n]);const i=s.useCallback((e=>Jn(n,e)),[n]);return[s.useMemo((()=>ct(ut({},n),{useState:i})),[n,i]),tn((()=>{r((n=>e(ut(ut({},t),n.getState()))))}))]}(vr,e);return function(e,t,n){return Qn(e=er(e=function(e,t,n){return sn(t,[n.popover]),Qn(e=tr(e,t,n),n,"placement"),e}(e,t,n),t,n),n,"value","setValue"),Qn(e,n,"selectedValue","setSelectedValue"),Qn(e,n,"resetValueOnHide"),Qn(e,n,"resetValueOnSelect"),e}(t,n,e)}var hr=wn(),gr=(hr.useContext,hr.useScopedContext,hr.useProviderContext),wr=wn([hr.ContextProvider],[hr.ScopedContextProvider]),br=(wr.useContext,wr.useScopedContext,wr.useProviderContext,wr.ContextProvider),xr=wr.ScopedContextProvider,yr=((0,s.createContext)(void 0),(0,s.createContext)(void 0),wn([br],[xr])),jr=(yr.useContext,yr.useScopedContext,yr.useProviderContext),Sr=yr.ContextProvider,_r=yr.ScopedContextProvider,Er=wn([Sr,En],[_r,Cn]),Cr=(Er.useContext,Er.useScopedContext),Ir=Er.useProviderContext,kr=Er.ContextProvider,Vr=Er.ScopedContextProvider,Or=(0,s.createContext)(void 0),Pr=(0,s.createContext)(!1);function Ar(e={}){const t=pr(e);return(0,F.jsx)(kr,{value:t,children:e.children})}var Mr=gn((e=>{var t=e,{store:n}=t,r=dt(t,["store"]);const i=Ir();Ct(n=n||i,!1);const o=n.useState((e=>{var t;return null==(t=e.baseElement)?void 0:t.id}));return ut({htmlFor:o},r)})),Fr=pn((e=>hn("label",Mr(e)))),Tr=gn((e=>{var t=e,{store:n}=t,r=dt(t,["store"]);const i=jr();return n=n||i,ct(ut({},r),{ref:nn(null==n?void 0:n.setAnchorElement,r.ref)})}));vn((e=>hn("div",Tr(e))));var Nr=(0,s.createContext)(!0),Dr=Kt(),Lr=["text","search","url","tel","email","password","number","date","month","week","time","datetime","datetime-local"];function Br(e){return!("input"!==e.tagName.toLowerCase()||!e.type||"radio"!==e.type&&"checkbox"!==e.type)}function Rr(e,t,n,r,i){return e?t?n&&!r?-1:void 0:n?i:i||0:i}function Hr(e,t){return tn((n=>{null==e||e(n),n.defaultPrevented||t&&(n.stopPropagation(),n.preventDefault())}))}var zr=!0;function Kr(e){const t=e.target;t&&"hasAttribute"in t&&(t.hasAttribute("data-focus-visible")||(zr=!1))}function Ur(e){e.metaKey||e.ctrlKey||e.altKey||(zr=!0)}var qr=gn((e=>{var t=e,{focusable:n=!0,accessibleWhenDisabled:r,autoFocus:i,onFocusVisible:o}=t,l=dt(t,["focusable","accessibleWhenDisabled","autoFocus","onFocusVisible"]);const a=(0,s.useRef)(null);(0,s.useEffect)((()=>{n&&(Xt("mousedown",Kr,!0),Xt("keydown",Ur,!0))}),[n]),Dr&&(0,s.useEffect)((()=>{if(!n)return;const e=a.current;if(!e)return;if(!Br(e))return;const t=function(e){return"labels"in e?e.labels:null}(e);if(!t)return;const r=()=>queueMicrotask((()=>e.focus()));return t.forEach((e=>e.addEventListener("mouseup",r))),()=>{t.forEach((e=>e.removeEventListener("mouseup",r)))}}),[n]);const u=n&&It(l),c=!!u&&!r,[d,f]=(0,s.useState)(!1);(0,s.useEffect)((()=>{n&&c&&d&&f(!1)}),[n,c,d]),(0,s.useEffect)((()=>{if(!n)return;if(!d)return;const e=a.current;if(!e)return;if("undefined"==typeof IntersectionObserver)return;const t=new IntersectionObserver((()=>{Fn(e)||f(!1)}));return t.observe(e),()=>t.disconnect()}),[n,d]);const m=Hr(l.onKeyPressCapture,u),v=Hr(l.onMouseDownCapture,u),p=Hr(l.onClickCapture,u),h=l.onMouseDown,g=tn((e=>{if(null==h||h(e),e.defaultPrevented)return;if(!n)return;const t=e.currentTarget;if(!Dr)return;if(Ut(e))return;if(!Ft(t)&&!Br(t))return;let r=!1;const i=()=>{r=!0};t.addEventListener("focusin",i,{capture:!0,once:!0}),Yt(t,"mouseup",(()=>{t.removeEventListener("focusin",i,!0),r||function(e){!Nn(e)&&Fn(e)&&e.focus()}(t)}))})),w=(e,t)=>{if(t&&(e.currentTarget=t),!n)return;const r=e.currentTarget;r&&Tn(r)&&(null==o||o(e),e.defaultPrevented||f(!0))},b=l.onKeyDownCapture,x=tn((e=>{if(null==b||b(e),e.defaultPrevented)return;if(!n)return;if(d)return;if(e.metaKey)return;if(e.altKey)return;if(e.ctrlKey)return;if(!qt(e))return;const t=e.currentTarget;queueMicrotask((()=>w(e,t)))})),y=l.onFocusCapture,j=tn((e=>{if(null==y||y(e),e.defaultPrevented)return;if(!n)return;if(!qt(e))return void f(!1);const t=e.currentTarget,r=()=>w(e,t);zr||function(e){const{tagName:t,readOnly:n,type:r}=e;return"TEXTAREA"===t&&!n||"SELECT"===t&&!n||("INPUT"!==t||n?!!e.isContentEditable:Lr.includes(r))}(e.target)?queueMicrotask(r):function(e){return"combobox"===e.getAttribute("role")&&!!e.dataset.name}(e.target)?Yt(e.target,"focusout",r):f(!1)})),S=l.onBlur,_=tn((e=>{null==S||S(e),n&&$t(e)&&f(!1)})),E=(0,s.useContext)(Nr),C=tn((e=>{n&&i&&e&&E&&queueMicrotask((()=>{Tn(e)||Fn(e)&&e.focus()}))})),I=on(a,l.as),k=n&&function(e){return!e||"button"===e||"input"===e||"select"===e||"textarea"===e||"a"===e}(I),V=n&&function(e){return!e||"button"===e||"input"===e||"select"===e||"textarea"===e}(I),O=c?ut({pointerEvents:"none"},l.style):l.style;return ct(ut({"data-focus-visible":n&&d?"":void 0,"data-autofocus":!!i||void 0,"aria-disabled":!!u||void 0},l),{ref:nn(a,C,l.ref),style:O,tabIndex:Rr(n,c,k,V,l.tabIndex),disabled:!(!V||!c)||void 0,contentEditable:u?void 0:l.contentEditable,onKeyPressCapture:m,onClickCapture:p,onMouseDownCapture:v,onMouseDown:g,onKeyDownCapture:x,onFocusCapture:j,onBlur:_})}));function Gr(e,t,n){return tn((r=>{var i;if(null==t||t(r),r.defaultPrevented)return;if(r.isPropagationStopped())return;if(!qt(r))return;if(function(e){return"Shift"===e.key||"Control"===e.key||"Alt"===e.key||"Meta"===e.key}(r))return;if(function(e){const t=e.target;return!(t&&!Dt(t)||1!==e.key.length||e.ctrlKey||e.metaKey)}(r))return;const o=e.getState(),s=null==(i=Qe(e,o.activeId))?void 0:i.element;if(!s)return;const l=r,{view:a}=l,u=dt(l,["view"]);s!==(null==n?void 0:n.current)&&s.focus(),function(e,t,n){const r=new KeyboardEvent(t,n);return e.dispatchEvent(r)}(s,r.type,u)||r.preventDefault(),r.currentTarget.contains(s)&&r.stopPropagation()}))}vn((e=>hn("div",e=qr(e))));var Wr=gn((e=>{var t=e,{store:n,composite:r=!0,focusOnMove:i=r,moveOnKeyPress:o=!0}=t,l=dt(t,["store","composite","focusOnMove","moveOnKeyPress"]);const a=Sn();Ct(n=n||a,!1);const u=(0,s.useRef)(null),c=function(e){const[t,n]=(0,s.useState)(!1),r=(0,s.useCallback)((()=>n(!0)),[]),i=e.useState((t=>Qe(e,t.activeId)));return(0,s.useEffect)((()=>{const e=null==i?void 0:i.element;t&&e&&(n(!1),e.focus({preventScroll:!0}))}),[i,t]),r}(n),d=n.useState("moves");(0,s.useEffect)((()=>{var e;if(!n)return;if(!d)return;if(!r)return;if(!i)return;const{activeId:t}=n.getState(),o=null==(e=Qe(n,t))?void 0:e.element;var s;o&&("scrollIntoView"in(s=o)?(s.focus({preventScroll:!0}),s.scrollIntoView(bt({block:"nearest",inline:"nearest"},undefined))):s.focus())}),[n,d,r,i]),en((()=>{if(!n)return;if(!d)return;if(!r)return;const{baseElement:e,activeId:t}=n.getState();if(null!==t)return;if(!e)return;const i=u.current;u.current=null,i&&Gt(i,{relatedTarget:e}),Tn(e)||e.focus()}),[n,d,r]);const f=n.useState("activeId"),m=n.useState("virtualFocus");en((()=>{var e;if(!n)return;if(!r)return;if(!m)return;const t=u.current;if(u.current=null,!t)return;const i=(null==(e=Qe(n,f))?void 0:e.element)||At(t);i!==t&&Gt(t,{relatedTarget:i})}),[n,f,m,r]);const v=Gr(n,l.onKeyDownCapture,u),p=Gr(n,l.onKeyUpCapture,u),h=l.onFocusCapture,g=tn((e=>{if(null==h||h(e),e.defaultPrevented)return;if(!n)return;const{virtualFocus:t}=n.getState();if(!t)return;const r=e.relatedTarget,i=function(e){const t=e[et];return delete e[et],t}(e.currentTarget);qt(e)&&i&&(e.stopPropagation(),u.current=r)})),w=l.onFocus,b=tn((e=>{if(null==w||w(e),e.defaultPrevented)return;if(!r)return;if(!n)return;const{relatedTarget:t}=e,{virtualFocus:i}=n.getState();i?qt(e)&&!tt(n,t)&&queueMicrotask(c):qt(e)&&n.setActiveId(null)})),x=l.onBlurCapture,y=tn((e=>{var t;if(null==x||x(e),e.defaultPrevented)return;if(!n)return;const{virtualFocus:r,activeId:i}=n.getState();if(!r)return;const o=null==(t=Qe(n,i))?void 0:t.element,s=e.relatedTarget,l=tt(n,s),a=u.current;u.current=null,qt(e)&&l?(s===o?a&&a!==s&&Gt(a,e):o?Gt(o,e):a&&Gt(a,e),e.stopPropagation()):!tt(n,e.target)&&o&&Gt(o,e)})),j=l.onKeyDown,S=ln(o),_=tn((e=>{var t;if(null==j||j(e),e.defaultPrevented)return;if(!n)return;if(!qt(e))return;const{orientation:r,items:i,renderedItems:o,activeId:s}=n.getState(),l=Qe(n,s);if(null==(t=null==l?void 0:l.element)?void 0:t.isConnected)return;const a="horizontal"!==r,u="vertical"!==r,c=function(e){return e.some((e=>!!e.rowId))}(o);if(("ArrowLeft"===e.key||"ArrowRight"===e.key||"Home"===e.key||"End"===e.key)&&Dt(e.currentTarget))return;const d={ArrowUp:(c||a)&&(()=>{if(c){const e=i&&function(e){return function(e){return e.find((e=>!e.disabled))}(ir(or(function(e){const t=[];for(const n of e){const e=t.find((e=>{var t;return(null==(t=e[0])?void 0:t.rowId)===n.rowId}));e?e.push(n):t.push([n])}return t}(e))))}(i);return null==e?void 0:e.id}return null==n?void 0:n.last()}),ArrowRight:(c||u)&&n.first,ArrowDown:(c||a)&&n.first,ArrowLeft:(c||u)&&n.last,Home:n.first,End:n.last,PageUp:n.first,PageDown:n.last},f=d[e.key];if(f){const t=f();if(void 0!==t){if(!S(e))return;e.preventDefault(),n.move(t)}}}));l=an(l,(e=>(0,F.jsx)(En,{value:n,children:e})),[n]);const E=n.useState((e=>{var t;if(n&&r&&e.virtualFocus)return null==(t=Qe(n,e.activeId))?void 0:t.id}));l=ct(ut({"aria-activedescendant":E},l),{ref:nn(r?n.setBaseElement:null,l.ref),onKeyDownCapture:v,onKeyUpCapture:p,onFocusCapture:g,onFocus:b,onBlurCapture:y,onKeyDown:_});const C=n.useState((e=>r&&(e.virtualFocus||null===e.activeId)));return qr(ut({focusable:C},l))}));vn((e=>hn("div",Wr(e))));var $r=n(795);function Yr(e,t,n){if(!n)return!1;const r=e.find((e=>!e.disabled&&e.value));return(null==r?void 0:r.value)===t}function Xr(e,t){return!!t&&null!=e&&(e=_t(e),t.length>e.length&&0===t.toLowerCase().indexOf(e.toLowerCase()))}var Zr=gn((e=>{var t=e,{store:n,focusable:r=!0,autoSelect:i=!1,getAutoSelectId:o,showOnChange:l=!0,setValueOnChange:a=!0,showOnMouseDown:u=!0,setValueOnClick:c=!0,showOnKeyDown:d=!0,moveOnKeyPress:f=!0,autoComplete:m="list"}=t,v=dt(t,["store","focusable","autoSelect","getAutoSelectId","showOnChange","setValueOnChange","showOnMouseDown","setValueOnClick","showOnKeyDown","moveOnKeyPress","autoComplete"]);const p=Ir();Ct(n=n||p,!1);const h=(0,s.useRef)(null),[g,w]=(0,s.useReducer)((()=>[]),[]),b=(0,s.useRef)(!1),x=(0,s.useRef)(!1),y=n.useState((e=>!!i&&e.virtualFocus)),j="inline"===m||"both"===m,[S,_]=(0,s.useState)(j);!function(e,t){const n=(0,s.useRef)(!1);en((()=>{n.current?j&&_(!0):n.current=!0}),t),en((()=>()=>{n.current=!1}),[])}(0,[j]);const E=n.useState("value"),C=n.useState((e=>j&&S?e.activeValue:void 0)),I=n.useState("renderedItems"),k=n.useState("open"),V=n.useState("contentElement"),O=(0,s.useMemo)((()=>{if(!j)return E;if(!S)return E;if(Yr(I,C,y)){if(Xr(E,C)){const e=(null==C?void 0:C.slice(E.length))||"";return E+e}return E}return C||E}),[j,S,I,C,y,E]);(0,s.useEffect)((()=>{const e=h.current;if(!e)return;const t=()=>_(!0);return e.addEventListener("combobox-item-move",t),()=>{e.removeEventListener("combobox-item-move",t)}}),[]),(0,s.useEffect)((()=>{j&&S&&C&&Yr(I,C,y)&&Xr(E,C)&&queueMicrotask((()=>{const e=h.current;e&&Ht(e,E.length,C.length)}))}),[g,j,S,C,I,y,E]);const P=(0,s.useRef)(null),A=tn(o),M=(0,s.useRef)(null);(0,s.useEffect)((()=>{if(!k)return;if(!V)return;const e=Rt(V);if(!e)return;P.current=e;const t=()=>{b.current=!1},r=()=>{if(!n)return;if(!b.current)return;const{activeId:e}=n.getState();null!==e&&e!==M.current&&(b.current=!1)},i={passive:!0,capture:!0};return e.addEventListener("wheel",t,i),e.addEventListener("scroll",r,i),()=>{e.removeEventListener("wheel",t,!0),e.removeEventListener("scroll",r,!0)}}),[k,V,n]),en((()=>{E&&(x.current||(b.current=!0))}),[E]),en((()=>{k||(b.current=!1)}),[k]);const F=n.useState("resetValueOnSelect");sn((()=>{var e;const t=b.current;if(!n)return;if(!(y&&t||F))return;const{baseElement:r,contentElement:i,activeId:o}=n.getState();if(!r||Tn(r)){if(null==i?void 0:i.hasAttribute("data-placing")){const e=new MutationObserver(w);return e.observe(i,{attributeFilter:["data-placing"]}),()=>e.disconnect()}if(y&&t){const e=A(I),t=void 0!==e?e:n.first();M.current=t,n.move(null!=t?t:null)}else{const t=null==(e=n.item(o))?void 0:e.element;t&&"scrollIntoView"in t&&t.scrollIntoView({block:"nearest",inline:"nearest"})}}}),[n,g,E,y,F,A,I]),(0,s.useEffect)((()=>{if(!j)return;const e=h.current;if(!e)return;const t=[e,V].filter((e=>!!e)),r=e=>{t.every((t=>$t(e,t)))&&(null==n||n.setValue(O))};return t.forEach((e=>e.addEventListener("focusout",r))),()=>{t.forEach((e=>e.removeEventListener("focusout",r)))}}),[j,V,n,O]);const T=v.onChange,N=ln(l),D=ln(a),L=tn((e=>{if(null==T||T(e),e.defaultPrevented)return;if(!n)return;const{value:t,selectionStart:r,selectionEnd:i}=e.target,o=e.nativeEvent;if(b.current=!0,function(e){return"input"===e.type}(o)&&(o.isComposing&&(b.current=!1,x.current=!0),j)){const e="insertText"===o.inputType||"insertCompositionText"===o.inputType,n=r===t.length;_(e&&n)}if(D(e)){const o=t===n.getState().value;(0,$r.flushSync)((()=>null==n?void 0:n.setValue(t))),Ht(e.currentTarget,r,i),j&&y&&o&&w()}N(e)&&n.show(),y&&b.current||n.setActiveId(null)})),B=v.onCompositionEnd,R=tn((e=>{b.current=!0,x.current=!1,null==B||B(e),e.defaultPrevented||y&&w()})),H=v.onMouseDown,z=ln(c),K=ln(u),U=tn((e=>{null==H||H(e),e.defaultPrevented||e.button||e.ctrlKey||n&&(n.setActiveId(null),z(e)&&n.setValue(O),K(e)&&Yt(e.currentTarget,"mouseup",n.show))})),q=v.onKeyDown,G=ln(d),W=tn((e=>{if(null==q||q(e),e.repeat||(b.current=!1),e.defaultPrevented)return;if(e.ctrlKey)return;if(e.altKey)return;if(e.shiftKey)return;if(e.metaKey)return;if(!n)return;const{open:t,activeId:r}=n.getState();t||null===r&&("ArrowUp"!==e.key&&"ArrowDown"!==e.key||G(e)&&(e.preventDefault(),n.show()))})),$=v.onBlur,Y=tn((e=>{b.current=!1,null==$||$(e),e.defaultPrevented})),X=rn(v.id),Z=function(e){return"inline"===e||"list"===e||"both"===e||"none"===e}(m)?m:void 0,J=n.useState((e=>null===e.activeId));return v=ct(ut({id:X,role:"combobox","aria-autocomplete":Z,"aria-haspopup":Lt(V,"listbox"),"aria-expanded":k,"aria-controls":null==V?void 0:V.id,"data-active-item":J||void 0,value:O},v),{ref:nn(h,v.ref),onChange:L,onCompositionEnd:R,onMouseDown:U,onKeyDown:W,onBlur:Y}),v=Wr(ct(ut({store:n,focusable:r},v),{moveOnKeyPress:e=>!function(e,...t){const n="function"==typeof e?e(...t):e;return null!=n&&!n}(f,e)&&(j&&_(!0),!0)})),v=Tr(ut({store:n},v)),ut({autoComplete:"off"},v)})),Jr=vn((e=>hn("input",Zr(e))));function Qr(e,t){const n=setTimeout(t,e);return()=>clearTimeout(n)}function ei(...e){return e.join(", ").split(", ").reduce(((e,t)=>{const n=1e3*parseFloat(t||"0s");return n>e?n:e}),0)}function ti(e,t,n){return!(n||!1===t||e&&!t)}var ni=gn((e=>{var t=e,{store:n,alwaysVisible:r}=t,i=dt(t,["store","alwaysVisible"]);const o=gr();Ct(n=n||o,!1);const l=rn(i.id),[a,u]=(0,s.useState)(null),c=n.useState("open"),d=n.useState("mounted"),f=n.useState("animated"),m=n.useState("contentElement");en((()=>{if(f){if(null==m?void 0:m.isConnected)return function(e){let t=requestAnimationFrame((()=>{t=requestAnimationFrame(e)}));return()=>cancelAnimationFrame(t)}((()=>{u(c?"enter":"leave")}));u(null)}}),[f,m,c]),en((()=>{if(!n)return;if(!f)return;if(!m)return;if(!a)return;if("enter"===a&&!c)return;if("leave"===a&&c)return;if("number"==typeof f)return Qr(f,n.stopAnimation);const{transitionDuration:e,animationDuration:t,transitionDelay:r,animationDelay:i}=getComputedStyle(m),o=ei(r,i)+ei(e,t);return o?Qr(o,n.stopAnimation):void 0}),[n,f,m,c,a]);const v=ti(d,(i=an(i,(e=>(0,F.jsx)(xr,{value:n,children:e})),[n])).hidden,r),p=v?ct(ut({},i.style),{display:"none"}):i.style;return ct(ut({id:l,"data-enter":"enter"===a?"":void 0,"data-leave":"leave"===a?"":void 0,hidden:v},i),{ref:nn(l?n.setContentElement:null,i.ref),style:p})})),ri=vn((e=>hn("div",ni(e))));vn((e=>{var t=e,{unmountOnHide:n}=t,r=dt(t,["unmountOnHide"]);const i=gr();return!1===Jn(r.store||i,(e=>!n||(null==e?void 0:e.mounted)))?null:(0,F.jsx)(ri,ut({},r))}));var ii=gn((e=>{var t=e,{store:n,focusable:r=!0,alwaysVisible:i}=t,o=dt(t,["store","focusable","alwaysVisible"]);const l=Ir();Ct(n=n||l,!1);const a=(0,s.useRef)(null),u=rn(o.id),c=o.onKeyDown,d=tn((e=>{null==c||c(e),e.defaultPrevented||"Escape"===e.key&&(null==n||n.move(null))})),f=(0,s.useRef)(!1),m=o.onFocusVisible,v=tn((e=>{if(null==m||m(e),e.defaultPrevented)return;if("focus"!==e.type)return;if(!n)return;const{virtualFocus:t}=n.getState();if(!t)return;const{relatedTarget:r,currentTarget:i}=e;r&&i.contains(r)||(f.current=!0,n.setState("virtualFocus",!1))})),p=o.onBlur,h=tn((e=>{null==p||p(e),e.defaultPrevented||f.current&&$t(e)&&(f.current=!1,null==n||n.setState("virtualFocus",!0))}));o=an(o,(e=>(0,F.jsx)(Vr,{value:n,children:e})),[n]);const g=ti(n.useState("mounted"),o.hidden,i),w=g?ct(ut({},o.style),{display:"none"}):o.style,b=n.useState((e=>Array.isArray(e.selectedValue))),x=function(e,t,n){const[r,i]=(0,s.useState)(n);return en((()=>{const n=e&&"current"in e?e.current:e,r=null==n?void 0:n.getAttribute(t);null!=r&&i(r)}),[e,t]),r}(a,"role",o.role);return o=ct(ut({id:u,hidden:g,role:"listbox",tabIndex:r?-1:void 0,"aria-multiselectable":("listbox"===x||"tree"===x||"grid"===x)&&b||void 0},o),{ref:nn(u?n.setContentElement:null,a,o.ref),style:w,onKeyDown:d,onFocusVisible:v,onBlur:h}),qr(ut({focusable:r},o))})),oi=vn((e=>hn("div",ii(e))));function si(e){if(!e.isTrusted)return!1;const t=e.currentTarget;return"Enter"===e.key?Ft(t)||"SUMMARY"===t.tagName||"A"===t.tagName:" "===e.key&&(Ft(t)||"SUMMARY"===t.tagName||"INPUT"===t.tagName||"SELECT"===t.tagName)}var li=Symbol("command"),ai=gn((e=>{var t=e,{clickOnEnter:n=!0,clickOnSpace:r=!0}=t,i=dt(t,["clickOnEnter","clickOnSpace"]);const o=(0,s.useRef)(null),l=on(o,i.as),a=i.type,[u,c]=(0,s.useState)((()=>!!l&&Ft({tagName:l,type:a})));(0,s.useEffect)((()=>{o.current&&c(Ft(o.current))}),[]);const[d,f]=(0,s.useState)(!1),m=(0,s.useRef)(!1),v=It(i),[p,h]=function(e,t,n){const r=e.onLoadedMetadataCapture,i=(0,s.useMemo)((()=>Object.assign((()=>{}),ct(ut({},r),{[t]:n}))),[r,t,n]);return[null==r?void 0:r[t],{onLoadedMetadataCapture:i}]}(i,li,!0),g=i.onKeyDown,w=tn((e=>{null==g||g(e);const t=e.currentTarget;if(e.defaultPrevented)return;if(p)return;if(v)return;if(!qt(e))return;if(Dt(t))return;if(t.isContentEditable)return;const i=n&&"Enter"===e.key,o=r&&" "===e.key,s="Enter"===e.key&&!n,l=" "===e.key&&!r;if(s||l)e.preventDefault();else if(i||o){const n=si(e);if(i){if(!n){e.preventDefault();const n=e,{view:r}=n,i=dt(n,["view"]),o=()=>Wt(t,i);Ot&&/firefox\//i.test(navigator.userAgent)?Yt(t,"keyup",o):queueMicrotask(o)}}else o&&(m.current=!0,n||(e.preventDefault(),f(!0)))}})),b=i.onKeyUp,x=tn((e=>{if(null==b||b(e),e.defaultPrevented)return;if(p)return;if(v)return;if(e.metaKey)return;const t=r&&" "===e.key;if(m.current&&t&&(m.current=!1,!si(e))){e.preventDefault(),f(!1);const t=e.currentTarget,n=e,{view:r}=n,i=dt(n,["view"]);queueMicrotask((()=>Wt(t,i)))}}));return i=ct(ut(ut({"data-active":d?"":void 0,type:u?"button":void 0},h),i),{ref:nn(o,i.ref),onKeyDown:w,onKeyUp:x}),qr(i)}));vn((e=>hn("button",e=ai(e))));var ui=gn((e=>{var t=e,{store:n,shouldRegisterItem:r=!0,getItem:i=Et,element:o}=t,l=dt(t,["store","shouldRegisterItem","getItem","element"]);const a=xn();n=n||a;const u=rn(l.id),c=(0,s.useRef)(o);return(0,s.useEffect)((()=>{const e=c.current;if(!u)return;if(!e)return;if(!r)return;const t=i({id:u,element:e});return null==n?void 0:n.renderItem(t)}),[u,r,i,n]),ct(ut({},l),{ref:nn(c,l.ref)})}));function ci(e,t=!1){const{top:n}=e.getBoundingClientRect();return t?n+e.clientHeight:n}function di(e,t,n,r=!1){var i;if(!t)return;if(!n)return;const{renderedItems:o}=t.getState(),s=Rt(e);if(!s)return;const l=function(e,t=!1){const n=e.clientHeight,{top:r}=e.getBoundingClientRect(),i=1.5*Math.max(.875*n,n-40),o=t?n-i+r:i+r;return"HTML"===e.tagName?o+e.scrollTop:o}(s,r);let a,u;for(let e=0;e<o.length;e+=1){const o=a;if(a=n(e),!a)break;if(a===o)continue;const s=null==(i=Qe(t,a))?void 0:i.element;if(!s)continue;const c=ci(s,r)-l,d=Math.abs(c);if(r&&c<=0||!r&&c>=0){void 0!==u&&u<d&&(a=o);break}u=d}return a}vn((e=>hn("div",ui(e))));var fi=gn((e=>{var t=e,{store:n,rowId:r,preventScrollOnKeyDown:i=!1,moveOnKeyPress:o=!0,tabbable:l=!1,getItem:a,"aria-setsize":u,"aria-posinset":c}=t,d=dt(t,["store","rowId","preventScrollOnKeyDown","moveOnKeyPress","tabbable","getItem","aria-setsize","aria-posinset"]);const f=jn();n=n||f;const m=rn(d.id),v=(0,s.useRef)(null),p=(0,s.useContext)(kn),h=Jn(n,(e=>r||(e&&(null==p?void 0:p.baseElement)&&p.baseElement===e.baseElement?p.id:void 0))),g=It(d)&&!d.accessibleWhenDisabled,w=(0,s.useCallback)((e=>{const t=ct(ut({},e),{id:m||e.id,rowId:h,disabled:!!g});return a?a(t):t}),[m,h,g,a]),b=d.onFocus,x=(0,s.useRef)(!1),y=tn((e=>{if(null==b||b(e),e.defaultPrevented)return;if(Ut(e))return;if(!m)return;if(!n)return;const{activeId:t,virtualFocus:r,baseElement:i}=n.getState();var o;(function(e,t){return!qt(e)&&tt(t,e.target)})(e,n)||(t!==m&&n.setActiveId(m),r&&qt(e)&&((o=e.currentTarget).isContentEditable||Dt(o)||"INPUT"===o.tagName&&!Ft(o)||(null==i?void 0:i.isConnected)&&(x.current=!0,e.relatedTarget===i||tt(n,e.relatedTarget)?function(e){e[et]=!0,e.focus({preventScroll:!0})}(i):i.focus())))})),j=d.onBlurCapture,S=tn((e=>{if(null==j||j(e),e.defaultPrevented)return;const t=null==n?void 0:n.getState();(null==t?void 0:t.virtualFocus)&&x.current&&(x.current=!1,e.preventDefault(),e.stopPropagation())})),_=d.onKeyDown,E=ln(i),C=ln(o),I=tn((e=>{if(null==_||_(e),e.defaultPrevented)return;if(!qt(e))return;if(!n)return;const{currentTarget:t}=e,r=n.getState(),i=n.item(m),o=!!(null==i?void 0:i.rowId),s="horizontal"!==r.orientation,l="vertical"!==r.orientation,a=()=>!(!o&&!l&&r.baseElement&&Dt(r.baseElement)),u={ArrowUp:(o||s)&&n.up,ArrowRight:(o||l)&&n.next,ArrowDown:(o||s)&&n.down,ArrowLeft:(o||l)&&n.previous,Home:()=>{if(a())return!o||e.ctrlKey?null==n?void 0:n.first():null==n?void 0:n.previous(-1)},End:()=>{if(a())return!o||e.ctrlKey?null==n?void 0:n.last():null==n?void 0:n.next(-1)},PageUp:()=>di(t,n,null==n?void 0:n.up,!0),PageDown:()=>di(t,n,null==n?void 0:n.down)}[e.key];if(u){const t=u();if(E(e)||void 0!==t){if(!C(e))return;e.preventDefault(),n.move(t)}}})),k=Jn(n,(e=>(null==e?void 0:e.baseElement)||void 0)),V=(0,s.useMemo)((()=>({id:m,baseElement:k})),[m,k]);d=an(d,(e=>(0,F.jsx)(In.Provider,{value:V,children:e})),[V]);const O=Jn(n,(e=>!!e&&e.activeId===m)),P=Jn(n,"virtualFocus"),A=function(e,t){const n=t.role,[r,i]=(0,s.useState)(n);return en((()=>{const t=e.current;t&&i(t.getAttribute("role")||n)}),[n]),r}(v,d);let M;O&&(function(e){return"option"===e||"treeitem"===e}(A)||P&&function(e){return"option"===e||"tab"===e||"treeitem"===e||"gridcell"===e||"row"===e||"columnheader"===e||"rowheader"===e}(A))&&(M=!0);const T=Jn(n,(e=>null!=u?u:e&&(null==p?void 0:p.ariaSetSize)&&p.baseElement===e.baseElement?p.ariaSetSize:void 0)),N=Jn(n,(e=>{if(null!=c)return c;if(!e)return;if(!(null==p?void 0:p.ariaPosInSet))return;if(p.baseElement!==e.baseElement)return;const t=e.renderedItems.filter((e=>e.rowId===h));return p.ariaPosInSet+t.findIndex((e=>e.id===m))})),D=Jn(n,(e=>!(null==e?void 0:e.renderedItems.length)||!e.virtualFocus&&(!!l||e.activeId===m)));return d=ct(ut({id:m,"aria-selected":M,"data-active-item":O?"":void 0},d),{ref:nn(v,d.ref),tabIndex:D?d.tabIndex:-1,onFocus:y,onBlurCapture:S,onKeyDown:I}),d=ai(d),d=ui(ct(ut({store:n},d),{getItem:w,shouldRegisterItem:!!m&&d.shouldRegisterItem})),ct(ut({},d),{"aria-setsize":T,"aria-posinset":N})}));pn((e=>hn("button",fi(e))));var mi=gn((e=>{var t=e,{store:n,value:r,hideOnClick:i,selectValueOnClick:o=!0,setValueOnClick:l,focusOnHover:a=!1,moveOnKeyPress:u=!0,getItem:c}=t,d=dt(t,["store","value","hideOnClick","selectValueOnClick","setValueOnClick","focusOnHover","moveOnKeyPress","getItem"]);const f=Cr();Ct(n=n||f,!1);const m=(0,s.useCallback)((e=>{const t=ct(ut({},e),{value:r});return c?c(t):t}),[r,c]),v=n.useState((e=>Array.isArray(e.selectedValue)));l=null!=l?l:!v,i=null!=i?i:null!=r&&!v;const p=d.onClick,h=ln(l),g=ln(o),w=ln(i),b=tn((e=>{null==p||p(e),e.defaultPrevented||function(e){const t=e.currentTarget;if(!t)return!1;const n=t.tagName.toLowerCase();return!!e.altKey&&("a"===n||"button"===n&&"submit"===t.type||"input"===n&&"submit"===t.type)}(e)||function(e){const t=e.currentTarget;if(!t)return!1;const n=zt();if(n&&!e.metaKey)return!1;if(!n&&!e.ctrlKey)return!1;const r=t.tagName.toLowerCase();return"a"===r||"button"===r&&"submit"===t.type||"input"===r&&"submit"===t.type}(e)||(null!=r&&(g(e)&&(null==n||n.setSelectedValue((e=>Array.isArray(e)?e.includes(r)?e.filter((e=>e!==r)):[...e,r]:r))),h(e)&&(null==n||n.setValue(r))),w(e)&&(null==n||n.move(null),null==n||n.hide()))})),x=d.onKeyDown,y=tn((e=>{if(null==x||x(e),e.defaultPrevented)return;const t=null==n?void 0:n.getState().baseElement;t&&(Tn(t)||(1===e.key.length||"Backspace"===e.key||"Delete"===e.key)&&(queueMicrotask((()=>t.focus())),Dt(t)&&(null==n||n.setValue(t.value))))})),j=n.useState((e=>function(e,t){if(null!=t)return null!=e&&(Array.isArray(e)?e.includes(t):e===t)}(e.selectedValue,r)));v&&null!=j&&(d=ut({"aria-selected":j},d)),d=an(d,(e=>(0,F.jsx)(Or.Provider,{value:r,children:(0,F.jsx)(Pr.Provider,{value:null!=j&&j,children:e})})),[r,j]);const S=n.useState("contentElement");d=ct(ut({role:Bt(S),children:r},d),{onClick:b,onKeyDown:y});const _=ln(u);return d=fi(ct(ut({store:n},d),{getItem:m,moveOnKeyPress:e=>{if(!_(e))return!1;const t=new Event("combobox-item-move"),r=null==n?void 0:n.getState().baseElement;return null==r||r.dispatchEvent(t),!0}})),Bn(ut({store:n,focusOnHover:a},d))})),vi=pn((e=>hn("div",mi(e))));function pi(e){return _t(e).toLowerCase()}var hi=gn((e=>{var t=e,{store:n,value:r}=t,i=dt(t,["store","value"]);const o=Cr();n=n||o;const l=(0,s.useContext)(Or),a=null!=r?r:l;Ct(n,!1);const u=n.useState((e=>a&&e.value?e.value:void 0)),c=(0,s.useMemo)((()=>a&&u?function(e,t){t=pi(t);let n=pi(e).indexOf(t);const r=[];for(;-1!==n;)0!==n&&r.push((0,F.jsx)("span",{"data-autocomplete-value":"",children:e.substr(0,n)},r.length)),r.push((0,F.jsx)("span",{"data-user-value":"",children:e.substr(n,t.length)},r.length)),n=pi(e=e.substr(n+t.length)).indexOf(t);return e&&r.push((0,F.jsx)("span",{"data-autocomplete-value":"",children:e},r.length)),r}(a,u):a),[a,u]);return ut({children:c},i)})),gi=vn((e=>hn("span",hi(e))));const wi=(0,F.jsx)(M.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,F.jsx)(M.Path,{d:"M16.7 7.1l-6.3 8.5-3.3-2.5-.9 1.2 4.5 3.4L17.9 8z"})}),bi=(0,F.jsx)(M.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,F.jsx)(M.Path,{d:"M13 5c-3.3 0-6 2.7-6 6 0 1.4.5 2.7 1.3 3.7l-3.8 3.8 1.1 1.1 3.8-3.8c1 .8 2.3 1.3 3.7 1.3 3.3 0 6-2.7 6-6S16.3 5 13 5zm0 10.5c-2.5 0-4.5-2-4.5-4.5s2-4.5 4.5-4.5 4.5 2 4.5 4.5-2 4.5-4.5 4.5z"})}),{CompositeV2:xi,CompositeItemV2:yi,useCompositeStoreV2:ji}=H(P.privateApis),Si=(0,F.jsx)(M.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,F.jsx)(M.Circle,{cx:12,cy:12,r:3})});function _i(e=""){return f()(e.trim().toLowerCase())}const Ei=[],Ci=(e,t)=>e.singleSelection?t?.value:Array.isArray(t?.value)?t.value:!Array.isArray(t?.value)&&t?.value?[t.value]:Ei,Ii=(e,t,n)=>e.singleSelection?n:Array.isArray(t?.value)?t.value.includes(n)?t.value.filter((e=>e!==n)):[...t.value,n]:[n];function ki({view:e,filter:t,onChangeView:n}){const r=ji({virtualFocus:!0,focusLoop:!0,defaultActiveId:1===t.operators?.length?void 0:null}),i=e.filters.find((e=>e.field===t.field)),o=Ci(t,i);return(0,F.jsx)(xi,{store:r,role:"listbox",className:"dataviews-search-widget-listbox","aria-label":(0,m.sprintf)(/* translators: List of items for a filter. 1: Filter name. e.g.: "List of: Author". */ /* translators: List of items for a filter. 1: Filter name. e.g.: "List of: Author". */
(0,m.__)("List of: %1$s"),t.name),onFocusVisible:()=>{r.getState().activeId||r.move(r.first())},render:(0,F.jsx)(Mn,{store:r}),children:t.elements.map((s=>(0,F.jsxs)(Rn,{store:r,render:(0,F.jsx)(yi,{render:(0,F.jsx)("div",{"aria-label":s.label,role:"option",className:"dataviews-search-widget-listitem"}),onClick:()=>{const r=i?[...e.filters.map((e=>e.field===t.field?{...e,operator:i.operator||t.operators[0],value:Ii(t,i,s.value)}:e))]:[...e.filters,{field:t.field,operator:t.operators[0],value:Ii(t,i,s.value)}];n({...e,page:1,filters:r})}}),children:[(0,F.jsxs)("span",{className:"dataviews-search-widget-listitem-check",children:[t.singleSelection&&o===s.value&&(0,F.jsx)(P.Icon,{icon:Si}),!t.singleSelection&&o.includes(s.value)&&(0,F.jsx)(P.Icon,{icon:wi})]}),(0,F.jsxs)("span",{children:[s.label,!!s.description&&(0,F.jsx)("span",{className:"dataviews-search-widget-listitem-description",children:s.description})]})]},s.value)))})}function Vi({view:e,filter:t,onChangeView:n}){const[r,i]=(0,A.useState)(""),o=(0,A.useDeferredValue)(r),s=e.filters.find((e=>e.field===t.field)),l=Ci(t,s),a=(0,A.useMemo)((()=>{const e=_i(o);return t.elements.filter((t=>_i(t.label).includes(e)))}),[t.elements,o]);return(0,F.jsxs)(Ar,{resetValueOnSelect:!1,selectedValue:l,setSelectedValue:r=>{const i=s?[...e.filters.map((e=>e.field===t.field?{...e,operator:s.operator||t.operators[0],value:r}:e))]:[...e.filters,{field:t.field,operator:t.operators[0],value:r}];n({...e,page:1,filters:i})},setValue:i,children:[(0,F.jsxs)("div",{className:"dataviews-search-widget-filter-combobox__wrapper",children:[(0,F.jsx)(Fr,{render:(0,F.jsx)(P.VisuallyHidden,{children:(0,m.__)("Search items")}),children:(0,m.__)("Search items")}),(0,F.jsx)(Jr,{autoSelect:"always",placeholder:(0,m.__)("Search"),className:"dataviews-search-widget-filter-combobox__input"}),(0,F.jsx)("div",{className:"dataviews-search-widget-filter-combobox__icon",children:(0,F.jsx)(P.Icon,{icon:bi})})]}),(0,F.jsxs)(oi,{className:"dataviews-search-widget-filter-combobox-list",alwaysVisible:!0,children:[a.map((e=>(0,F.jsxs)(vi,{value:e.value,className:"dataviews-search-widget-listitem",hideOnClick:!1,setValueOnClick:!1,focusOnHover:!0,children:[(0,F.jsxs)("span",{className:"dataviews-search-widget-listitem-check",children:[t.singleSelection&&l===e.value&&(0,F.jsx)(P.Icon,{icon:Si}),!t.singleSelection&&l.includes(e.value)&&(0,F.jsx)(P.Icon,{icon:wi})]}),(0,F.jsxs)("span",{children:[(0,F.jsx)(gi,{className:"dataviews-search-widget-filter-combobox-item-value",value:e.label}),!!e.description&&(0,F.jsx)("span",{className:"dataviews-search-widget-listitem-description",children:e.description})]})]},e.value))),!a.length&&(0,F.jsx)("p",{children:(0,m.__)("No results found")})]})]})}function Oi(e){const t=e.filter.elements.length>10?Vi:ki;return(0,F.jsx)(t,{...e})}const Pi="Enter",Ai=" ",Mi=({activeElements:e,filterInView:t,filter:n})=>{if(void 0===e||0===e.length)return n.name;const r={Name:(0,F.jsx)("span",{className:"dataviews-filter-summary__filter-text-name"}),Value:(0,F.jsx)("span",{className:"dataviews-filter-summary__filter-text-value"})};return t?.operator===h?(0,A.createInterpolateElement)((0,m.sprintf)(/* translators: 1: Filter name. 3: Filter value. e.g.: "Author is any: Admin, Editor". */ /* translators: 1: Filter name. 3: Filter value. e.g.: "Author is any: Admin, Editor". */
(0,m.__)("<Name>%1$s is any: </Name><Value>%2$s</Value>"),n.name,e.map((e=>e.label)).join(", ")),r):t?.operator===g?(0,A.createInterpolateElement)((0,m.sprintf)(/* translators: 1: Filter name. 3: Filter value. e.g.: "Author is none: Admin, Editor". */ /* translators: 1: Filter name. 3: Filter value. e.g.: "Author is none: Admin, Editor". */
(0,m.__)("<Name>%1$s is none: </Name><Value>%2$s</Value>"),n.name,e.map((e=>e.label)).join(", ")),r):t?.operator===w?(0,A.createInterpolateElement)((0,m.sprintf)(/* translators: 1: Filter name. 3: Filter value. e.g.: "Author is all: Admin, Editor". */ /* translators: 1: Filter name. 3: Filter value. e.g.: "Author is all: Admin, Editor". */
(0,m.__)("<Name>%1$s is all: </Name><Value>%2$s</Value>"),n.name,e.map((e=>e.label)).join(", ")),r):t?.operator===b?(0,A.createInterpolateElement)((0,m.sprintf)(/* translators: 1: Filter name. 3: Filter value. e.g.: "Author is not all: Admin, Editor". */ /* translators: 1: Filter name. 3: Filter value. e.g.: "Author is not all: Admin, Editor". */
(0,m.__)("<Name>%1$s is not all: </Name><Value>%2$s</Value>"),n.name,e.map((e=>e.label)).join(", ")),r):t?.operator===v?(0,A.createInterpolateElement)((0,m.sprintf)(/* translators: 1: Filter name. 3: Filter value. e.g.: "Author is: Admin". */ /* translators: 1: Filter name. 3: Filter value. e.g.: "Author is: Admin". */
(0,m.__)("<Name>%1$s is: </Name><Value>%2$s</Value>"),n.name,e[0].label),r):t?.operator===p?(0,A.createInterpolateElement)((0,m.sprintf)(/* translators: 1: Filter name. 3: Filter value. e.g.: "Author is not: Admin". */ /* translators: 1: Filter name. 3: Filter value. e.g.: "Author is not: Admin". */
(0,m.__)("<Name>%1$s is not: </Name><Value>%2$s</Value>"),n.name,e[0].label),r):(0,m.sprintf)(/* translators: 1: Filter name e.g.: "Unknown status for Author". */ /* translators: 1: Filter name e.g.: "Unknown status for Author". */
(0,m.__)("Unknown status for %1$s"),n.name)};function Fi({filter:e,view:t,onChangeView:n}){const r=e.operators?.map((e=>({value:e,label:y[e]?.label}))),i=t.filters.find((t=>t.field===e.field)),o=i?.operator||e.operators[0];return r.length>1&&(0,F.jsxs)(P.__experimentalHStack,{spacing:2,justify:"flex-start",className:"dataviews-filter-summary__operators-container",children:[(0,F.jsx)(P.FlexItem,{className:"dataviews-filter-summary__operators-filter-name",children:e.name}),(0,F.jsx)(P.SelectControl,{label:(0,m.__)("Conditions"),value:o,options:r,onChange:r=>{const o=r,s=i?[...t.filters.map((t=>t.field===e.field?{...t,operator:o}:t))]:[...t.filters,{field:e.field,operator:o,value:void 0}];n({...t,page:1,filters:s})},size:"small",__nextHasNoMarginBottom:!0,hideLabelFromVision:!0})]})}function Ti({addFilterRef:e,openedFilter:t,...n}){const r=(0,A.useRef)(null),{filter:i,view:o,onChangeView:s}=n,l=o.filters.find((e=>e.field===i.field)),a=i.elements.filter((e=>i.singleSelection?e.value===l?.value:l?.value?.includes(e.value))),u=i.isPrimary,c=void 0!==l?.value,d=!u||c;return(0,F.jsx)(P.Dropdown,{defaultOpen:t===i.field,contentClassName:"dataviews-filter-summary__popover",popoverProps:{placement:"bottom-start",role:"dialog"},onClose:()=>{r.current?.focus()},renderToggle:({isOpen:t,onToggle:n})=>(0,F.jsxs)("div",{className:"dataviews-filter-summary__chip-container",children:[(0,F.jsx)(P.Tooltip,{text:(0,m.sprintf)(/* translators: 1: Filter name. */ /* translators: 1: Filter name. */
(0,m.__)("Filter by: %1$s"),i.name.toLowerCase()),placement:"top",children:(0,F.jsx)("div",{className:W("dataviews-filter-summary__chip",{"has-reset":d,"has-values":c}),role:"button",tabIndex:0,onClick:n,onKeyDown:e=>{[Pi,Ai].includes(e.key)&&(n(),e.preventDefault())},"aria-pressed":t,"aria-expanded":t,ref:r,children:(0,F.jsx)(Mi,{activeElements:a,filterInView:l,filter:i})})}),d&&(0,F.jsx)(P.Tooltip,{text:u?(0,m.__)("Reset"):(0,m.__)("Remove"),placement:"top",children:(0,F.jsx)("button",{className:W("dataviews-filter-summary__chip-remove",{"has-values":c}),onClick:()=>{s({...o,page:1,filters:o.filters.filter((e=>e.field!==i.field))}),u?r.current?.focus():e.current?.focus()},children:(0,F.jsx)(P.Icon,{icon:Ze})})})]}),renderContent:()=>(0,F.jsxs)(P.__experimentalVStack,{spacing:0,justify:"flex-start",children:[(0,F.jsx)(Fi,{...n}),(0,F.jsx)(Oi,{...n})]})})}const{DropdownMenuV2:Ni,DropdownMenuItemV2:Di,DropdownMenuItemLabelV2:Li}=H(P.privateApis),Bi=(0,A.forwardRef)((function({filters:e,view:t,onChangeView:n,setOpenedFilter:r},i){if(!e.length||e.every((({isPrimary:e})=>e)))return null;const o=e.filter((e=>!e.isVisible));return(0,F.jsx)(Ni,{trigger:(0,F.jsx)(P.Button,{__experimentalIsFocusable:!0,size:"compact",className:"dataviews-filters-button",variant:"tertiary",disabled:!o.length,ref:i,children:(0,m.__)("Add filter")}),children:o.map((e=>(0,F.jsx)(Di,{onClick:()=>{r(e.field),n({...t,page:1,filters:[...t.filters||[],{field:e.field,value:void 0,operator:e.operators[0]}]})},children:(0,F.jsx)(Li,{children:e.name})},e.field)))})}));function Ri({filters:e,view:t,onChangeView:n}){const r=!t.search&&!t.filters?.some((t=>{return void 0!==t.value||(n=t.field,!e.some((e=>e.field===n&&e.isPrimary)));var n}));return(0,F.jsx)(P.Button,{disabled:r,__experimentalIsFocusable:!0,size:"compact",variant:"tertiary",className:"dataviews-filters__reset-button",onClick:()=>{n({...t,page:1,search:"",filters:[]})},children:(0,m.__)("Reset")})}const Hi=(0,A.memo)((function({fields:e,view:t,onChangeView:n,openedFilter:r,setOpenedFilter:i}){const o=(0,A.useRef)(null),s=[];e.forEach((e=>{if(!e.elements?.length)return;const n=ce(e);if(0===n.length)return;const r=!!e.filterBy?.isPrimary;s.push({field:e.id,name:e.header,elements:e.elements,singleSelection:n.some((e=>[v,p].includes(e))),operators:n,isVisible:r||t.filters.some((t=>t.field===e.id&&x.includes(t.operator))),isPrimary:r})})),s.sort(((e,t)=>e.isPrimary&&!t.isPrimary?-1:!e.isPrimary&&t.isPrimary?1:e.name.localeCompare(t.name)));const l=(0,F.jsx)(Bi,{filters:s,view:t,onChangeView:n,ref:o,setOpenedFilter:i},"add-filter"),a=[...s.map((e=>e.isVisible?(0,F.jsx)(Ti,{filter:e,view:t,onChangeView:n,addFilterRef:o,openedFilter:r},e.field):null)),l];return a.length>1&&a.push((0,F.jsx)(Ri,{filters:s,view:t,onChangeView:n},"reset-filters")),(0,F.jsx)(P.__experimentalHStack,{justify:"flex-start",style:{width:"fit-content"},wrap:!0,children:a})})),zi=Hi,Ki=(0,A.memo)((function({label:e,view:t,onChangeView:n}){const[r,i,o]=(0,Pe.useDebouncedInput)(t.search);(0,A.useEffect)((()=>{var e;i(null!==(e=t.search)&&void 0!==e?e:"")}),[t.search,i]);const s=(0,A.useRef)(n),l=(0,A.useRef)(t);(0,A.useEffect)((()=>{s.current=n,l.current=t}),[n,t]),(0,A.useEffect)((()=>{s.current({...l.current,page:1,search:o})}),[o]);const a=e||(0,m.__)("Search");return(0,F.jsx)(P.SearchControl,{__nextHasNoMarginBottom:!0,onChange:i,value:r,label:a,placeholder:a,size:"compact"})})),Ui={init:{bottom:-48},open:{bottom:24,transition:{bottom:{type:"tween",duration:.2,ease:[0,0,.2,1]}}},exit:{opacity:0,bottom:24,transition:{opacity:{type:"tween",duration:.2,ease:[0,0,.2,1]}}}};function qi({action:e,onClick:t,isBusy:n,items:r}){const i="string"==typeof e.label?e.label:e.label(r);return(0,F.jsx)(P.ToolbarButton,{disabled:n,label:i,icon:e.icon,isDestructive:e.isDestructive,size:"compact",onClick:t,isBusy:n,__experimentalIsFocusable:!0,tooltipPosition:"top"})}const Gi=[];function Wi({action:e,selectedItems:t,actionInProgress:n,setActionInProgress:r}){const i=(0,A.useMemo)((()=>t.filter((t=>!e.isEligible||e.isEligible(t)))),[e,t]);return"RenderModal"in e?(0,F.jsx)(se,{action:e,items:i,ActionTrigger:qi},e.id):(0,F.jsx)(qi,{action:e,onClick:()=>{r(e.id),e.callback(t)},items:i,isBusy:n===e.id},e.id)}function $i(e,t,n,r,i,o){return(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(P.ToolbarGroup,{children:(0,F.jsx)("div",{className:"dataviews-bulk-actions__selection-count",children:1===e.length?(0,m.__)("1 item selected"):(0,m.sprintf)(
// translators: %s: Total number of selected items.
// translators: %s: Total number of selected items.
(0,m._n)("%s item selected","%s items selected",e.length),e.length)})}),(0,F.jsx)(P.ToolbarGroup,{children:t.map((e=>(0,F.jsx)(Wi,{action:e,selectedItems:n,actionInProgress:r,setActionInProgress:i},e.id)))}),(0,F.jsx)(P.ToolbarGroup,{children:(0,F.jsx)(P.ToolbarButton,{icon:Ze,showTooltip:!0,tooltipPosition:"top",label:(0,m.__)("Cancel"),disabled:!!r,onClick:()=>{o(Gi)}})})]})}function Yi({selection:e,actionsToShow:t,selectedItems:n,onSelectionChange:r}){const[i,o]=(0,A.useState)(null),s=(0,A.useRef)(null);return i?(s.current||(s.current=$i(e,t,n,i,o,r)),s.current):(s.current&&(s.current=null),$i(e,t,n,i,o,r))}function Xi({data:e,selection:t,actions:n=Gi,onSelectionChange:r,getItemId:i}){const o=(0,Pe.useReducedMotion)(),s=(0,A.useMemo)((()=>e.filter((e=>t.includes(i(e))))),[t,e,i]),l=(0,A.useMemo)((()=>n.filter((e=>e.supportsBulk&&e.icon&&s.some((t=>!e.isEligible||e.isEligible(t)))))),[n,s]);return t&&0===t.length||0===l.length?null:(0,F.jsx)(P.__unstableAnimatePresence,{children:(0,F.jsx)(P.__unstableMotion.div,{layout:!o,initial:"init",animate:"open",exit:"exit",variants:o?void 0:Ui,className:"dataviews-bulk-actions",children:(0,F.jsx)(P.Toolbar,{label:(0,m.__)("Bulk actions"),children:(0,F.jsx)("div",{className:"dataviews-bulk-actions-toolbar-wrapper",children:(0,F.jsx)(Yi,{selection:t,actionsToShow:l,selectedItems:s,onSelectionChange:r})})})})})}const Zi=e=>e.id,Ji=()=>{};function Qi({view:e,onChangeView:t,fields:n,search:r=!0,searchLabel:i,actions:o=[],data:s,getItemId:l=Zi,isLoading:a=!1,paginationInfo:u,supportedLayouts:c,selection:d,setSelection:f,onSelectionChange:m=Ji}){const[v,p]=(0,A.useState)([]);let h,g;void 0!==d&&void 0!==f?(h=d,g=f):(h=v,g=p);const[w,b]=(0,A.useState)(null),x=(0,A.useCallback)((e=>{g(e.map((e=>l(e)))),m(e)}),[g,l,m]),y=Le.find((t=>t.type===e.type))?.component,j=(0,A.useMemo)((()=>k(n)),[n]),S=function(e,t){return(0,A.useMemo)((()=>t.some((t=>e.some((e=>e.supportsBulk&&(!e.isEligible||e.isEligible(t))))))),[e,t])}(o,s),_=(0,A.useMemo)((()=>h.filter((e=>s.some((t=>l(t)===e))))),[h,s,l]);return(0,F.jsxs)("div",{className:"dataviews-wrapper",children:[(0,F.jsxs)(P.__experimentalHStack,{alignment:"top",justify:"start",className:"dataviews-filters__view-actions",children:[(0,F.jsxs)(P.__experimentalHStack,{justify:"start",className:"dataviews-filters__container",wrap:!0,children:[r&&(0,F.jsx)(Ki,{label:i,view:e,onChangeView:t}),(0,F.jsx)(zi,{fields:j,view:e,onChangeView:t,openedFilter:w,setOpenedFilter:b})]}),[C,I].includes(e.type)&&S&&(0,F.jsx)(be,{actions:o,data:s,onSelectionChange:x,selection:_,getItemId:l}),(0,F.jsx)(Xe,{fields:j,view:e,onChangeView:t,supportedLayouts:c})]}),(0,F.jsx)(y,{actions:o,data:s,fields:j,getItemId:l,isLoading:a,onChangeView:t,onSelectionChange:x,selection:_,setOpenedFilter:b,view:e}),(0,F.jsx)(D,{view:e,onChangeView:t,paginationInfo:u}),[C,I].includes(e.type)&&S&&(0,F.jsx)(Xi,{data:s,actions:o,selection:_,onSelectionChange:x,getItemId:l})]})}const eo=window.wp.data,to=window.wp.coreData,no=({flag:e})=>e.users&&0!==e.users.length?(0,F.jsx)("ul",{style:{margin:0},children:e.users?.map((e=>(0,F.jsx)("li",{children:(0,F.jsx)(ro,{userId:e})},e)))}):null,ro=({userId:e})=>{var t;const n=(e=>(0,eo.useSelect)((t=>t(to.store).getEntityRecord("root","user",e)),[e]))(e);return null!==(t=n?.email)&&void 0!==t?t:""},io=window.wp.dataControls,oo={SET_FLAGS:"SET_FLAGS",SAVE_SUCCESS:"SAVE_SUCCESS",SAVE_FAILURE:"SAVE_FAILURE"},so=e=>e&&e.date?new Date(e.date):void 0,lo=e=>{if("string"==typeof e||null==e)return e},ao=e=>{if("boolean"==typeof e||null==e)return e},uo=e=>{if("number"==typeof e||null==e)return e},co=e=>!e.force_disabled&&!e.force_enabled,fo=e=>{if("object"!=typeof e||!e)throw new Error("Invalid flag data");if(!("key"in e&&"name"in e&&"description"in e&&"created"in e&&"group"in e&&"force_enabled"in e&&"force_disabled"in e&&"is_published"in e&&"users"in e))throw new Error("Invalid flag data");return{key:lo(e.key),name:lo(e.name),description:lo(e.description),created:vo(e.created),group:lo(e.group),force_enabled:ao(e.force_enabled),force_disabled:ao(e.force_disabled),is_published:ao(e.is_published),users:mo(e.users,lo)}},mo=(e,t)=>{if(Array.isArray(e))return e.map(t).filter((e=>null!=e))},vo=e=>{if("object"==typeof e&&e&&"date"in e&&"timezone_type"in e&&"timezone"in e)return{date:lo(e.date),timezone_type:uo(e.timezone_type),timezone:lo(e.timezone)}},{SET_FLAGS:po,SAVE_SUCCESS:ho,SAVE_FAILURE:go}=oo;function wo(e){return"feature-flags/v1/flags/"+e.key}function bo(e){return{type:po,payload:e}}function*xo(e){try{const t=yield(0,io.apiFetch)({path:wo(e)+"",method:"PUT",data:e});if(!t||"object"!=typeof t)throw new Error("Invalid response");return{type:ho,payload:{flag:fo(t)}}}catch(e){return console.error(e),{type:go}}}const{SET_FLAGS:yo,SAVE_SUCCESS:jo,SAVE_FAILURE:So}=oo;function*_o(){return bo(yield(0,io.apiFetch)({path:"feature-flags/v1/flags"}))}const Eo=e=>{var t;return null!==(t=e?.flags)&&void 0!==t?t:[]},Co=e=>{var t;return(null!==(t=e?.flags)&&void 0!==t?t:[]).map((e=>e.group)).filter(((e,t,n)=>n.indexOf(e)===t)).filter((e=>null!=e)).sort()},Io=(0,eo.createReduxStore)("boxuk/feature-flags",{selectors:o,actions:r,reducer:(e,{type:t,payload:n})=>{switch(t){case yo:return Array.isArray(n)?{...e,flags:n.map(fo)}:{...e};case jo:if("object"!=typeof n||!n||"flag"in n==0||!n.flag)return{...e};const t=fo(n.flag);return{...e,flags:e.flags.map((e=>e.key===t.key?t:e))};default:return e}},resolvers:i,controls:io.controls});var ko;function Vo(){return Vo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vo.apply(null,arguments)}var Oo,Po=function(e){return s.createElement("svg",Vo({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"#5f6368",viewBox:"0 -960 960 960"},e),ko||(ko=s.createElement("path",{d:"m424-296 282-282-56-56-226 226-114-114-56 56zm56 216q-83 0-156-31.5T197-197t-85.5-127T80-480t31.5-156T197-763t127-85.5T480-880t156 31.5T763-763t85.5 127T880-480t-31.5 156T763-197t-127 85.5T480-80m0-80q134 0 227-93t93-227-93-227-227-93-227 93-93 227 93 227 227 93m0-320"})))};function Ao(){return Ao=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ao.apply(null,arguments)}var Mo,Fo=function(e){return s.createElement("svg",Ao({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"#5f6368",viewBox:"0 -960 960 960"},e),Oo||(Oo=s.createElement("path",{d:"M480-280v-400q-83 0-141.5 58.5T280-480t58.5 141.5T480-280m0 200q-83 0-156-31.5T197-197t-85.5-127T80-480t31.5-156T197-763t127-85.5T480-880t156 31.5T763-763t85.5 127T880-480t-31.5 156T763-197t-127 85.5T480-80m0-80q134 0 227-93t93-227-93-227-227-93-227 93-93 227 93 227 227 93m0-320"})))};function To(){return To=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},To.apply(null,arguments)}var No,Do=function(e){return s.createElement("svg",To({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"#5f6368",viewBox:"0 -960 960 960"},e),Mo||(Mo=s.createElement("path",{d:"m320-240 160-122 160 122-60-198 160-114H544l-64-208-64 208H220l160 114zM480-80q-83 0-156-31.5T197-197t-85.5-127T80-480t31.5-156T197-763t127-85.5T480-880t156 31.5T763-763t85.5 127T880-480t-31.5 156T763-197t-127 85.5T480-80m0-80q134 0 227-93t93-227-93-227-227-93-227 93-93 227 93 227 227 93m0-320"})))};function Lo(){return Lo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lo.apply(null,arguments)}var Bo,Ro=function(e){return s.createElement("svg",Lo({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"#5f6368",viewBox:"0 -960 960 960"},e),No||(No=s.createElement("path",{d:"M480-280q17 0 28.5-11.5T520-320t-11.5-28.5T480-360t-28.5 11.5T440-320t11.5 28.5T480-280m-40-160h80v-240h-80zm40 360q-83 0-156-31.5T197-197t-85.5-127T80-480t31.5-156T197-763t127-85.5T480-880t156 31.5T763-763t85.5 127T880-480t-31.5 156T763-197t-127 85.5T480-80m0-80q134 0 227-93t93-227-93-227-227-93-227 93-93 227 93 227 227 93m0-320"})))};function Ho(){return Ho=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ho.apply(null,arguments)}var zo=function(e){return s.createElement("svg",Ho({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"#5f6368",viewBox:"0 -960 960 960"},e),Bo||(Bo=s.createElement("path",{d:"m336-280 144-144 144 144 56-56-144-144 144-144-56-56-144 144-144-144-56 56 144 144-144 144zM480-80q-83 0-156-31.5T197-197t-85.5-127T80-480t31.5-156T197-763t127-85.5T480-880t156 31.5T763-763t85.5 127T880-480t-31.5 156T763-197t-127 85.5T480-80m0-80q134 0 227-93t93-227-93-227-227-93-227 93-93 227 93 227 227 93m0-320"})))};const Ko=({flag:e})=>{var t;return e.force_enabled?(0,F.jsxs)(P.Flex,{justify:"start",children:[(0,F.jsx)(Do,{}),(0,F.jsx)("span",{children:"Enforced"})]}):e.force_disabled?(0,F.jsxs)(P.Flex,{justify:"start",children:[(0,F.jsx)(Ro,{}),(0,F.jsx)("span",{children:"Disabled"})]}):!e.is_published&&null!==(t=e.users?.length)&&void 0!==t&&t?(0,F.jsxs)(P.Flex,{justify:"start",children:[(0,F.jsx)(Fo,{}),(0,F.jsxs)("span",{children:["Published for ",e.users?.length," users"]})]}):e.is_published?(0,F.jsxs)(P.Flex,{justify:"start",children:[(0,F.jsx)(Po,{}),(0,F.jsx)("span",{children:"Published"})]}):e.is_published?null:(0,F.jsxs)(P.Flex,{justify:"start",children:[(0,F.jsx)(zo,{}),(0,F.jsx)("span",{children:"Unpublished"})]})},Uo={fields:["name","description","group","created","status","users"],filters:[],page:1,perPage:20,search:"",type:"table"},qo={table:{fields:["key","name","description","created","status","users"],layout:{combinedFields:[{id:"status",label:"Status",children:["is_published","force_enabled","force_disabled"],direction:"horizontal"}]}}};var Go;function Wo(){return Wo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wo.apply(null,arguments)}var $o=function(e){return s.createElement("svg",Wo({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"#5f6368",viewBox:"0 -960 960 960"},e),Go||(Go=s.createElement("path",{d:"M234-276q51-39 114-61.5T480-360t132 22.5T726-276q35-41 54.5-93T800-480q0-133-93.5-226.5T480-800t-226.5 93.5T160-480q0 59 19.5 111t54.5 93m246-164q-59 0-99.5-40.5T340-580t40.5-99.5T480-720t99.5 40.5T620-580t-40.5 99.5T480-440m0 360q-83 0-156-31.5T197-197t-85.5-127T80-480t31.5-156T197-763t127-85.5T480-880t156 31.5T763-763t85.5 127T880-480t-31.5 156T763-197t-127 85.5T480-80m0-80q53 0 100-15.5t86-44.5q-39-29-86-44.5T480-280t-100 15.5-86 44.5q39 29 86 44.5T480-160m0-360q26 0 43-17t17-43-17-43-43-17-43 17-17 43 17 43 43 17m0 300"})))};const Yo=[{id:"pubish",label:"Publish",isPrimary:!0,icon:(0,F.jsx)(Po,{}),supportsBulk:!0,isEligible:e=>!(e.is_published||!co(e)),callback:e=>{e.map((e=>(0,eo.dispatch)(Io).updateFlag({...e,is_published:!0})))},disabled:!0},{id:"manage_users",label:"Manage Flag Users",isPrimary:!0,icon:(0,F.jsx)($o,{}),supportsBulk:!0,isEligible:e=>co(e),RenderModal:({items:e,closeModal:t})=>{const[n,r]=(0,s.useState)(e),{updateFlag:i}=(0,eo.useDispatch)(Io),o=(0,eo.useSelect)((e=>e(to.store).getEntityRecords("root","user",{context:"edit"})),[]),l=(e,t)=>i=>{const o=n.map((n=>{var r;return n.key!==e.key?n:{...n,users:i?[...null!==(r=n.users)&&void 0!==r?r:[],t.id+""]:n.users?.filter((e=>e!==t.id+""))}}));r(o)};return(0,F.jsxs)(F.Fragment,{children:[(0,F.jsxs)(P.__experimentalGrid,{columns:n.length+1,children:[(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)("h4",{children:"User"}),n.map((e=>(0,F.jsx)("h4",{children:e.name},e.key)))]}),o?.map((e=>(0,F.jsxs)(s.Fragment,{children:[(0,F.jsx)("span",{children:e.email}),n.map((t=>(0,F.jsx)(P.CheckboxControl,{"aria-label":"Toggle "+t.name+" for "+e.name,checked:t.users?.includes(e.id+""),onChange:l(t,e)},t.key)))]},e.id)))]}),(0,F.jsx)(P.Flex,{justify:"end",style:{marginTop:"1rem"},children:(0,F.jsxs)(P.ButtonGroup,{children:[(0,F.jsx)(P.Button,{variant:"secondary",isDestructive:!0,onClick:t,children:"Cancel"}),(0,F.jsx)(P.Button,{variant:"primary",onClick:()=>{n.forEach(i),t&&t()},children:"Save"})]})})]})}},{id:"unpublish",label:"Unpublish",isPrimary:!0,icon:(0,F.jsx)(zo,{}),supportsBulk:!0,isDestructive:!0,isEligible:e=>!(!e.is_published||!co(e)),callback:e=>{e.map((e=>(0,eo.dispatch)(Io).updateFlag({...e,is_published:!1})))}}],Xo=(window.wp.apiFetch,()=>{const[e,t]=((e,t,n=e=>"object"==typeof e&&null!==e)=>{const[r,i]=(0,s.useState)((()=>{const r=localStorage.getItem(e);if(!r)return t;const i=JSON.parse(r);return n(i)?i:t}));return[r,t=>{i(t),localStorage.setItem(e,JSON.stringify(t))}]})("featureFlagsView",Uo),n=(0,eo.useSelect)((e=>e(Io).getFlags()),[]),r=[{id:"key",label:"Key",type:"text"},{id:"name",label:"Name",enableSorting:!0,enableGlobalSearch:!0,enableHiding:!0},{id:"description",label:"Description",type:"text",enableGlobalSearch:!0},{id:"created",label:"Created",type:"datetime",enableSorting:!0,render:e=>so(e.item.created)?.toLocaleString(),getValue:({item:e})=>so(e.created)?.getTime()},{id:"group",label:"Group",type:"text",enableGlobalSearch:!0,enableSorting:!0,filterBy:{isPrimary:!0},elements:(0,eo.useSelect)((e=>e(Io).getGroups()),[]).map((e=>({label:e,value:e})))},{id:"state",label:"State",render:e=>(0,F.jsx)(Ko,{flag:e.item}),elements:[{label:"Published",value:"published"},{label:"Partially Published",value:"partially-published"},{label:"Enforced",value:"enforced"},{label:"Disabled",value:"disabled"},{label:"Unpublished",value:"unpublished"}],getValue:({item:e})=>{var t;return e.force_enabled?"enforced":e.force_disabled?"disabled":!e.is_published&&(null!==(t=e.users?.length)&&void 0!==t?t:0)>0?"partially-published":e.is_published?"published":e.is_published?"":"unpublished"},filterBy:{isPrimary:!0}},{id:"users",label:"Users",enableSorting:!1,render:e=>(0,F.jsx)(no,{flag:e.item})}],{data:i,paginationInfo:o}=function(e,t,n){if(!e)return{data:O,paginationInfo:{totalItems:0,totalPages:0}};const r=k(n);let i=[...e];if(t.search){const e=V(t.search);i=i.filter((t=>r.filter((e=>e.enableGlobalSearch)).map((e=>V(e.getValue({item:t})))).some((t=>t.includes(e)))))}if(t.filters.length>0&&t.filters.forEach((e=>{const t=r.find((t=>t.id===e.field));t&&(e.operator===h&&e?.value?.length>0?i=i.filter((n=>{const r=t.getValue({item:n});return Array.isArray(r)?e.value.some((e=>r.includes(e))):"string"==typeof r&&e.value.includes(r)})):e.operator===g&&e?.value?.length>0?i=i.filter((n=>{const r=t.getValue({item:n});return Array.isArray(r)?!e.value.some((e=>r.includes(e))):"string"==typeof r&&!e.value.includes(r)})):e.operator===w&&e?.value?.length>0?i=i.filter((n=>e.value.every((e=>t.getValue({item:n})?.includes(e))))):e.operator===b&&e?.value?.length>0?i=i.filter((n=>e.value.every((e=>!t.getValue({item:n})?.includes(e))))):e.operator===v?i=i.filter((n=>e.value===t.getValue({item:n}))):e.operator===p&&(i=i.filter((n=>e.value!==t.getValue({item:n})))))})),t.sort){const e=t.sort.field,n=r.find((t=>t.id===e));n&&i.sort(((e,r)=>{var i,o;const s=null!==(i=n.getValue({item:e}))&&void 0!==i?i:"",l=null!==(o=n.getValue({item:r}))&&void 0!==o?o:"";return"asc"===t.sort?.direction?s.localeCompare(l):l.localeCompare(s)}))}let o=i.length,s=1;if(void 0!==t.page&&void 0!==t.perPage){const e=(t.page-1)*t.perPage;o=i?.length||0,s=Math.ceil(o/t.perPage),i=i?.slice(e,e+t.perPage)}return{data:i,paginationInfo:{totalItems:o,totalPages:s}}}(null!=n?n:[],e,r);return(0,F.jsx)(F.Fragment,{children:(0,F.jsx)(Qi,{isLoading:void 0===n,actions:Yo,defaultLayouts:qo,fields:r,view:e,data:i,paginationInfo:o,onChangeView:t,getItemId:e=>(e.key||0).toString()})})});c()((()=>{const e=document.getElementById("boxuk-wp-feature-flags");e&&((0,eo.register)(Io),(0,a.H)(e).render((0,F.jsx)(Xo,{})))}))},873:(e,t,n)=>{"use strict";var r=n(795);t.H=r.createRoot,r.hydrateRoot},892:e=>{var t={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",Ấ:"A",Ắ:"A",Ẳ:"A",Ẵ:"A",Ặ:"A",Æ:"AE",Ầ:"A",Ằ:"A",Ȃ:"A",Ả:"A",Ạ:"A",Ẩ:"A",Ẫ:"A",Ậ:"A",Ç:"C",Ḉ:"C",È:"E",É:"E",Ê:"E",Ë:"E",Ế:"E",Ḗ:"E",Ề:"E",Ḕ:"E",Ḝ:"E",Ȇ:"E",Ẻ:"E",Ẽ:"E",Ẹ:"E",Ể:"E",Ễ:"E",Ệ:"E",Ì:"I",Í:"I",Î:"I",Ï:"I",Ḯ:"I",Ȋ:"I",Ỉ:"I",Ị:"I",Ð:"D",Ñ:"N",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",Ố:"O",Ṍ:"O",Ṓ:"O",Ȏ:"O",Ỏ:"O",Ọ:"O",Ổ:"O",Ỗ:"O",Ộ:"O",Ờ:"O",Ở:"O",Ỡ:"O",Ớ:"O",Ợ:"O",Ù:"U",Ú:"U",Û:"U",Ü:"U",Ủ:"U",Ụ:"U",Ử:"U",Ữ:"U",Ự:"U",Ý:"Y",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",ấ:"a",ắ:"a",ẳ:"a",ẵ:"a",ặ:"a",æ:"ae",ầ:"a",ằ:"a",ȃ:"a",ả:"a",ạ:"a",ẩ:"a",ẫ:"a",ậ:"a",ç:"c",ḉ:"c",è:"e",é:"e",ê:"e",ë:"e",ế:"e",ḗ:"e",ề:"e",ḕ:"e",ḝ:"e",ȇ:"e",ẻ:"e",ẽ:"e",ẹ:"e",ể:"e",ễ:"e",ệ:"e",ì:"i",í:"i",î:"i",ï:"i",ḯ:"i",ȋ:"i",ỉ:"i",ị:"i",ð:"d",ñ:"n",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",ố:"o",ṍ:"o",ṓ:"o",ȏ:"o",ỏ:"o",ọ:"o",ổ:"o",ỗ:"o",ộ:"o",ờ:"o",ở:"o",ỡ:"o",ớ:"o",ợ:"o",ù:"u",ú:"u",û:"u",ü:"u",ủ:"u",ụ:"u",ử:"u",ữ:"u",ự:"u",ý:"y",ÿ:"y",Ā:"A",ā:"a",Ă:"A",ă:"a",Ą:"A",ą:"a",Ć:"C",ć:"c",Ĉ:"C",ĉ:"c",Ċ:"C",ċ:"c",Č:"C",č:"c",C̆:"C",c̆:"c",Ď:"D",ď:"d",Đ:"D",đ:"d",Ē:"E",ē:"e",Ĕ:"E",ĕ:"e",Ė:"E",ė:"e",Ę:"E",ę:"e",Ě:"E",ě:"e",Ĝ:"G",Ǵ:"G",ĝ:"g",ǵ:"g",Ğ:"G",ğ:"g",Ġ:"G",ġ:"g",Ģ:"G",ģ:"g",Ĥ:"H",ĥ:"h",Ħ:"H",ħ:"h",Ḫ:"H",ḫ:"h",Ĩ:"I",ĩ:"i",Ī:"I",ī:"i",Ĭ:"I",ĭ:"i",Į:"I",į:"i",İ:"I",ı:"i",Ĳ:"IJ",ĳ:"ij",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",Ḱ:"K",ḱ:"k",K̆:"K",k̆:"k",Ĺ:"L",ĺ:"l",Ļ:"L",ļ:"l",Ľ:"L",ľ:"l",Ŀ:"L",ŀ:"l",Ł:"l",ł:"l",Ḿ:"M",ḿ:"m",M̆:"M",m̆:"m",Ń:"N",ń:"n",Ņ:"N",ņ:"n",Ň:"N",ň:"n",ŉ:"n",N̆:"N",n̆:"n",Ō:"O",ō:"o",Ŏ:"O",ŏ:"o",Ő:"O",ő:"o",Œ:"OE",œ:"oe",P̆:"P",p̆:"p",Ŕ:"R",ŕ:"r",Ŗ:"R",ŗ:"r",Ř:"R",ř:"r",R̆:"R",r̆:"r",Ȓ:"R",ȓ:"r",Ś:"S",ś:"s",Ŝ:"S",ŝ:"s",Ş:"S",Ș:"S",ș:"s",ş:"s",Š:"S",š:"s",Ţ:"T",ţ:"t",ț:"t",Ț:"T",Ť:"T",ť:"t",Ŧ:"T",ŧ:"t",T̆:"T",t̆:"t",Ũ:"U",ũ:"u",Ū:"U",ū:"u",Ŭ:"U",ŭ:"u",Ů:"U",ů:"u",Ű:"U",ű:"u",Ų:"U",ų:"u",Ȗ:"U",ȗ:"u",V̆:"V",v̆:"v",Ŵ:"W",ŵ:"w",Ẃ:"W",ẃ:"w",X̆:"X",x̆:"x",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Y̆:"Y",y̆:"y",Ź:"Z",ź:"z",Ż:"Z",ż:"z",Ž:"Z",ž:"z",ſ:"s",ƒ:"f",Ơ:"O",ơ:"o",Ư:"U",ư:"u",Ǎ:"A",ǎ:"a",Ǐ:"I",ǐ:"i",Ǒ:"O",ǒ:"o",Ǔ:"U",ǔ:"u",Ǖ:"U",ǖ:"u",Ǘ:"U",ǘ:"u",Ǚ:"U",ǚ:"u",Ǜ:"U",ǜ:"u",Ứ:"U",ứ:"u",Ṹ:"U",ṹ:"u",Ǻ:"A",ǻ:"a",Ǽ:"AE",ǽ:"ae",Ǿ:"O",ǿ:"o",Þ:"TH",þ:"th",Ṕ:"P",ṕ:"p",Ṥ:"S",ṥ:"s",X́:"X",x́:"x",Ѓ:"Г",ѓ:"г",Ќ:"К",ќ:"к",A̋:"A",a̋:"a",E̋:"E",e̋:"e",I̋:"I",i̋:"i",Ǹ:"N",ǹ:"n",Ồ:"O",ồ:"o",Ṑ:"O",ṑ:"o",Ừ:"U",ừ:"u",Ẁ:"W",ẁ:"w",Ỳ:"Y",ỳ:"y",Ȁ:"A",ȁ:"a",Ȅ:"E",ȅ:"e",Ȉ:"I",ȉ:"i",Ȍ:"O",ȍ:"o",Ȑ:"R",ȑ:"r",Ȕ:"U",ȕ:"u",B̌:"B",b̌:"b",Č̣:"C",č̣:"c",Ê̌:"E",ê̌:"e",F̌:"F",f̌:"f",Ǧ:"G",ǧ:"g",Ȟ:"H",ȟ:"h",J̌:"J",ǰ:"j",Ǩ:"K",ǩ:"k",M̌:"M",m̌:"m",P̌:"P",p̌:"p",Q̌:"Q",q̌:"q",Ř̩:"R",ř̩:"r",Ṧ:"S",ṧ:"s",V̌:"V",v̌:"v",W̌:"W",w̌:"w",X̌:"X",x̌:"x",Y̌:"Y",y̌:"y",A̧:"A",a̧:"a",B̧:"B",b̧:"b",Ḑ:"D",ḑ:"d",Ȩ:"E",ȩ:"e",Ɛ̧:"E",ɛ̧:"e",Ḩ:"H",ḩ:"h",I̧:"I",i̧:"i",Ɨ̧:"I",ɨ̧:"i",M̧:"M",m̧:"m",O̧:"O",o̧:"o",Q̧:"Q",q̧:"q",U̧:"U",u̧:"u",X̧:"X",x̧:"x",Z̧:"Z",z̧:"z",й:"и",Й:"И",ё:"е",Ё:"Е"},n=Object.keys(t).join("|"),r=new RegExp(n,"g"),i=new RegExp(n,"");function o(e){return t[e]}var s=function(e){return e.replace(r,o)};e.exports=s,e.exports.has=function(e){return!!e.match(i)},e.exports.remove=s},296:(e,t,n)=>{"use strict";var r=n(609),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},o=r.useState,s=r.useEffect,l=r.useLayoutEffect,a=r.useDebugValue;function u(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(e){return!0}}var c="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=o({inst:{value:n,getSnapshot:t}}),i=r[0].inst,c=r[1];return l((function(){i.value=n,i.getSnapshot=t,u(i)&&c({inst:i})}),[e,n,t]),s((function(){return u(i)&&c({inst:i}),e((function(){u(i)&&c({inst:i})}))}),[e]),a(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:c},139:(e,t,n)=>{"use strict";e.exports=n(296)},609:e=>{"use strict";e.exports=window.React},795:e=>{"use strict";e.exports=window.ReactDOM}},i={};function o(e){var t=i[e];if(void 0!==t)return t.exports;var n=i[e]={exports:{}};return r[e](n,n.exports,o),n.exports}o.m=r,e=[],o.O=(t,n,r,i)=>{if(!n){var s=1/0;for(c=0;c<e.length;c++){for(var[n,r,i]=e[c],l=!0,a=0;a<n.length;a++)(!1&i||s>=i)&&Object.keys(o.O).every((e=>o.O[e](n[a])))?n.splice(a--,1):(l=!1,i<s&&(s=i));if(l){e.splice(c--,1);var u=r();void 0!==u&&(t=u)}}return t}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[n,r,i]},o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},n=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,o.t=function(e,r){if(1&r&&(e=this(e)),8&r)return e;if("object"==typeof e&&e){if(4&r&&e.__esModule)return e;if(16&r&&"function"==typeof e.then)return e}var i=Object.create(null);o.r(i);var s={};t=t||[null,n({}),n([]),n(n)];for(var l=2&r&&e;"object"==typeof l&&!~t.indexOf(l);l=n(l))Object.getOwnPropertyNames(l).forEach((t=>s[t]=()=>e[t]));return s.default=()=>e,o.d(i,s),i},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={57:0,350:0};o.O.j=t=>0===e[t];var t=(t,n)=>{var r,i,[s,l,a]=n,u=0;if(s.some((t=>0!==e[t]))){for(r in l)o.o(l,r)&&(o.m[r]=l[r]);if(a)var c=a(o)}for(t&&t(n);u<s.length;u++)i=s[u],o.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return o.O(c)},n=globalThis.webpackChunk_boxuk_wp_feature_flags=globalThis.webpackChunk_boxuk_wp_feature_flags||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var s=o.O(void 0,[350],(()=>o(224)));s=o.O(s)})();